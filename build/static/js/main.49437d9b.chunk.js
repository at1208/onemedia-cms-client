(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{448:function(e,t,n){},478:function(e,t){},480:function(e,t){},494:function(e,t){},496:function(e,t){},524:function(e,t){},526:function(e,t){},527:function(e,t){},532:function(e,t){},534:function(e,t){},553:function(e,t){},565:function(e,t){},568:function(e,t){},729:function(e,t,n){},733:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(24),r=n.n(i),s=n(13),o=n(31),l=n(2),j=n(118),d=n(381),b=n.n(d).a.create({baseURL:"http://onemedia.click/api",validateStatus:function(e){return e<500}}),u=n(193),O=n.n(u);function m(e){return new Promise((function(t,n){b.post("/signin",e).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}var h=function(e){O.a.remove(e,{expires:1})},x=function(e){return O.a.get(e)},p=function(e){localStorage.removeItem(e)},f=function(e,t){var n,a;n="token",a=e.token,O.a.set(n,a,{expires:1}),function(e,t){localStorage.setItem(e,JSON.stringify(t))}("user",e.employee),t()},g=function(){if(x("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))},v=n(0),y=function(e){var t=e.component,n=Object(j.a)(e,["component"]);return Object(v.jsx)(o.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return g()?Object(v.jsx)(t,Object(l.a)({},e)):Object(v.jsx)(o.a,{to:{pathname:"/",state:{from:e.location}}})}}))},w=function(e){var t=e.component,n=Object(j.a)(e,["component"]);return Object(v.jsx)(o.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return g()?Object(v.jsx)(o.a,{to:{pathname:"/dashboard",state:{from:e.location}}}):Object(v.jsx)(t,Object(l.a)({},e))}}))},k=n(4),C=n(14),S=n(380),_=n(273),N=n(768),A=n(98),I=n(20),z=n(272),E=n(771),P=n(772),F=n(766),R=Object(F.a)((function(e){var t;return{form:{boxShadow:"0 1rem 3rem rgba(0,0,0,.175)",padding:"35px 5px 70px 5px",margin:"5px",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1},login:{fontWeight:700},companyname:(t={letterSpacing:"-0.003em",lineHeight:"50px",paddingTop:"49px",fontSize:"39px",marginBottom:"-0.46em",fontFamily:'charter, Georgia, Cambria, "Times New Roman", Times, serif',fontStyle:"normal",wordBreak:"break-word",color:"rgba(41, 41, 41, 1)",fontWeight:"900"},Object(C.a)(t,e.breakpoints.down("sm"),{fontSize:"33px",lineHeight:"35px"}),Object(C.a)(t,e.breakpoints.down("xs"),{fontSize:"28px",lineHeight:"30px"}),Object(C.a)(t,e.breakpoints.up("lg"),{fontSize:"33px",lineHeight:"35px"}),t),root:{display:"table",backgroundImage:"url(/images/Bg.svg)",backgroundRepeat:"no-repeat",backgroundSize:"auto",position:"absolute",top:0,left:0,height:"100%",width:"100%"},middle:{display:"table-cell",verticalAlign:"middle"},inner:{marginLeft:"auto",marginRight:"auto",width:"100%"},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,width:"100%",fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},loginTextField:{"& .MuiOutlinedInput-root":{borderRadius:"8px",background:"white"},"& .MuiOutlinedInput-adornedEnd":{background:"white"},"& .MuiOutlinedInput-adornedStart":{background:"white"},opacity:1},textfieldIcon:{opacity:.2,fontSize:"21px"},alertCard:{height:"40px"},forgot:{color:"black",textDecoration:"underline",textDecorationColor:"black"}}})),B=function(){var e=R(),t=Object(o.g)(),n=Object(a.useState)({credentials:{email:"",password:""},isLoading:!1,error:"",success:""}),c=Object(k.a)(n,2),i=c[0],r=c[1],s=function(e){return function(t){switch(e){case"email":r(Object(l.a)(Object(l.a)({},i),{},{credentials:Object(l.a)(Object(l.a)({},i.credentials),{},{email:t.target.value})}));break;case"password":r(Object(l.a)(Object(l.a)({},i),{},{credentials:Object(l.a)(Object(l.a)({},i.credentials),{},{password:t.target.value})}));break;default:return}}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I.a,{}),Object(v.jsx)("div",{className:e.root,children:Object(v.jsx)("div",{className:e.middle,children:Object(v.jsx)("div",{className:e.inner,children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,sm:6,md:4,children:Object(v.jsx)("div",{className:e.form,children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(Object(l.a)(Object(l.a)({},i),{},{isLoading:!0})),m({email:i.credentials.email,password:i.credentials.password}).then((function(e){f(e,(function(){window.location.href="/dashboard",r(Object(l.a)(Object(l.a)({},i),{},{isLoading:!1,success:e.message}))}))})).catch((function(e){I.b.error(e.error),r(Object(l.a)(Object(l.a)({},i),{},{isLoading:!1,error:e.error}))}))},children:[Object(v.jsxs)(N.a,{container:!0,justify:"center",children:[Object(v.jsx)(N.a,{item:!0,sm:5,xs:4,children:Object(v.jsx)("img",{src:"readifly-logo.svg",height:"100%",width:"100%"})}),Object(v.jsx)(N.a,{item:!0,sm:7,xs:7,children:Object(v.jsx)("img",{src:"readifly_name.svg",height:"100%",width:"100%"})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"center",spacing:3,children:[Object(v.jsx)(N.a,{xs:10,sm:12,md:10,item:!0,children:Object(v.jsx)(S.a,{type:"text",variant:"outlined",className:e.loginTextField,fullWidth:!0,InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(E.a,{className:e.textfieldIcon})})},placeholder:"Email",disabled:i.isLoading,onChange:s("email"),value:i.credentials.email})}),Object(v.jsx)(N.a,{xs:10,sm:12,md:10,item:!0,children:Object(v.jsx)(S.a,{type:"password",variant:"outlined",fullWidth:!0,placeholder:"Password",className:e.loginTextField,InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(P.a,{className:e.textfieldIcon})})},disabled:i.isLoading,onChange:s("password"),value:i.credentials.password})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,sm:10,md:10,xs:10,children:Object(v.jsx)(_.a,{className:e.button,classes:{disabled:e.disabledButton},type:"submit",disabled:i.isLoading,children:i.isLoading?"Submitting":"LOGIN TO CONTINUE"})})}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(A.a,{variant:"body1",onClick:function(){return t.push("/reset")},children:Object(v.jsx)("a",{className:e.forgot,children:"Forgot password"})})})]})})})})})})})]})},D=n(774),T=n(401),L=n(773),W=Object(T.a)({overrides:{MuiCssBaseline:{"@global":{body:{backgroundColor:"rgb(247, 249, 252)"},html:{WebkitFontSmoothing:"auto"}}}}}),M=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(L.a,{theme:W,children:Object(v.jsx)(D.a,{})}),Object(v.jsx)(B,{})]})},V=n(9),q=n.n(V),U=n(17),H=n(6),G=n(37),Y=n(840),J=n(784),$=n(785),X=n(740),K=n(247),Q=n(389),Z=n.n(Q),ee=n(391),te=n.n(ee),ne=n(390),ae=n.n(ne),ce=n(742),ie=n(786),re=n(780),se=n(839),oe=n(791),le=n(744),je=function(e,t,n){return e%5===0?{backgroundColor:"#FCF0EF",fontSize:"".concat(n,"px"),textTransform:"capitalize",margin:"0px -7px",color:"#E66E68",borderRadius:"50%",width:"".concat(t,"px"),height:"".concat(t,"px"),objectFit:"cover"}:e%3===0?{backgroundColor:"#FFFABB",fontSize:"".concat(n,"px"),textTransform:"capitalize",margin:"0px -7px",color:"#FFD502",borderRadius:"50%",width:"".concat(t,"px"),height:"".concat(t,"px"),objectFit:"cover"}:e%2===0?{backgroundColor:"#CAFFE6",fontSize:"".concat(n,"px"),textTransform:"uppercase",margin:"0px -7px",color:"#34F89C",borderRadius:"50%",width:"".concat(t,"px"),height:"".concat(t,"px"),objectFit:"cover"}:e%1===0?{backgroundColor:"#CAF0FF",fontSize:"".concat(n,"px"),margin:"0px -7px",textTransform:"capitalize",color:"#3BC8FF",borderRadius:"50%",width:"".concat(t,"px"),height:"".concat(t,"px"),objectFit:"cover"}:void 0},de=function(e){var t=e.name,n=e.src,a=e.size,c=e.textSize;if(t){var i=t.split(" ");return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(le.a,{style:je(t.length,a,c),variant:"square",src:n,children:[i[0][0],i[1][0]]})})}return Object(v.jsx)(v.Fragment,{})},be=n(194),ue=n.n(be),Oe=n(195),me=n.n(Oe),he=(n(448),n(783)),xe=n(776),pe=n(775),fe=n(176),ge=n(274);var ve,ye,we,ke,Ce=function(){var e=c.a.useState(null),t=Object(k.a)(e,2),n=t[0],a=t[1],i=Object(o.g)();return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(pe.a,{title:"Account",children:Object(v.jsx)(K.a,{"aria-owns":Boolean(n)?"menu-appbar":void 0,"aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},color:"inherit",children:Object(v.jsx)(xe.a,{style:{color:"grey"}})})}),Object(v.jsxs)(fe.a,{id:"menu-appbar",anchorEl:n,open:Boolean(n),onClose:function(){a(null)},children:[Object(v.jsx)(ge.a,{onClick:function(){return i.push("/profile")},children:"Profile"}),Object(v.jsx)(ge.a,{onClick:function(){return e=function(){return window.location.href="/"},h("token"),p("user"),void e();var e},children:"Sign out"})]})]})},Se=n(77),_e=n(19),Ne=n(737),Ae=n(777),Ie=n(779);n(781);function ze(e,t,n){return new Promise((function(a,c){b.post("/chat/private/".concat(e),n,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}function Ee(e){return new Promise((function(t,n){b.get("/chat/private/recent_messages",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}Object(_e.a)(Ne.a)(ve||(ve=Object(Se.a)(["\n  .MuiPaper-root {\n    width: 300px;\n    border: 1px solid black;\n  }\n"]))),Object(_e.a)(Ae.a)(ye||(ye=Object(Se.a)(["\n  .MuiBadge-badge {\n    background: red;\n    color: white;\n  }\n"]))),Object(_e.a)(le.a)(we||(we=Object(Se.a)(["\n  background: dodgerblue;\n"]))),Object(_e.a)(se.a)(ke||(ke=Object(Se.a)(["\n  text-align: center;\n  border-bottom: 1px solid black;\n"])));function Pe(e){return new Promise((function(t,n){b.get("/get/notification",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}function Fe(e,t){return new Promise((function(n,a){b.get("/mark/seen/notification/".concat(e),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}var Re,Be,De,Te,Le=n(782),We=Object(_e.a)(Ne.a)(Re||(Re=Object(Se.a)(["\n  .MuiPaper-root {\n    width: 300px;\n    border: 0px solid grey;\n    box-shadow: 0 1rem 3rem rgba(0,0,0,.175)!important\n  }\n"]))),Me=Object(_e.a)(Ae.a)(Be||(Be=Object(Se.a)(["\n  .MuiBadge-badge {\n    background: red;\n    color: white;\n  }\n"]))),Ve=Object(_e.a)(le.a)(De||(De=Object(Se.a)(["\n  background: dodgerblue;\n"]))),qe=Object(_e.a)(se.a)(Te||(Te=Object(Se.a)(["\n  text-align: center;\n  border-bottom: 1px solid black;\n"]))),Ue=x("token");function He(e){var t=e.title,n=e.description,a=e.notifyId,c=Object(o.g)(),i=JSON.parse(n),r=function(){var e=Object(U.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t,Ue);case 2:c.push("/notifications");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(ce.a,{divider:!0,onClick:function(){return r(a)},style:{cursor:"pointer"},children:[Object(v.jsx)(Ie.a,{children:Object(v.jsx)(Ve,{src:i.createdBy.headshot_url})}),Object(v.jsx)(re.a,{primary:t,primaryTypographyProps:{variant:"subtitle2",color:"textPrimary"},secondary:i.description})]})}function Ge(e){var t=e.data;return t.length>0?t.map((function(e,t){return Object(v.jsx)(He,{notifyId:e._id,title:e.title,description:e.description})})):Object(v.jsx)(v.Fragment,{})}var Ye=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(!1),n=Object(k.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)([]),l=Object(k.a)(o,2),j=l[0],d=l[1],b=Object(a.useState)(),u=Object(k.a)(b,2),O=u[0],m=u[1];return Object(a.useEffect)((function(){Object(U.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(Ue);case 2:t=e.sent,d(t.notifications),m(t.count);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(pe.a,{title:"Notifications",children:Object(v.jsx)(K.a,{color:"inherit",ref:e,onClick:function(){r(!0)},children:Object(v.jsx)(Me,{badgeContent:O,children:Object(v.jsx)(Le.a,{style:{color:"grey"}})})})}),Object(v.jsxs)(We,{anchorOrigin:{vertical:"bottom",horizontal:"center"},anchorEl:e.current,onClose:function(){r(!1)},open:i,children:[Object(v.jsx)(qe,{p:2,children:Object(v.jsxs)(A.a,{variant:"subtitle1",color:"textPrimary",children:[O," New Notifications"]})}),Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(X.a,{disablePadding:!0,children:Object(v.jsx)(Ge,{data:j})}),Object(v.jsx)(se.a,{p:1,display:"flex",justifyContent:"center",children:Object(v.jsx)(_.a,{size:"small",component:s.b,to:"/notifications",children:"Show all notifications"})})]})]})]})},Je=n(787),$e=n(788),Xe=n(789),Ke=n(790),Qe=n(792),Ze=n(793),et=n(794),tt=n(795),nt=n(796),at=n(797),ct=n(798),it=n(799),rt=n(800),st=n(801),ot=n(802),lt=n(803),jt=n(804),dt=n(805),bt=n(806),ut=n(807),Ot=function(e){return(g()&&g().module_visibility)[e]},mt=225,ht=Object(F.a)((function(e){var t,n;return{root:{display:"flex",boxShadow:"0px 0px 0px 0px"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:mt,width:"calc(100% - ".concat(mt,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36,"&:hover":{}},hide:{display:"none"},drawer:{width:mt,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:mt,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(C.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(C.a)(t,e.breakpoints.down("sm"),{width:"0px"}),t),toolbar:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),minHeight:"45px"},content:(n={flexGrow:1,overflowX:"scroll"},Object(C.a)(n,e.breakpoints.down("xs"),{padding:e.spacing(2)}),Object(C.a)(n,"padding",e.spacing(3)),n),icons:{fontSize:"30px"},menutext:Object(C.a)({color:"rgb(238, 238, 238)",fontWeight:"100",fontSize:"13px",letterSpacing:"0.05rem"},e.breakpoints.down("sm"),{fontSize:"15px"}),collapseList:{},appname:{color:"black"},menuIcon:{fontSize:"37px",color:"black"},sidebarIcons:{padding:"1px",color:"rgb(238, 238, 238)",opacity:"0.30"},nestedSidebarIcon:{paddingTop:"5px",position:"absolute",bottom:"13px",color:"rgb(238, 238, 238)",opacity:"0.30"},direc:{color:"rgb(238, 238, 238)",opacity:"0.30"},grow:{flex:1},loggedInUser:{fontSize:"17px",color:"black"},list:{paddingLeft:"",paddingRight:""},name:Object(C.a)({color:"rgb(238, 238, 238)",opacity:"0.80",fontSize:"20px",fontWeight:500,paddingTop:"5px"},e.breakpoints.down("xs"),{fontSize:"15px"}),listContainer:{}}})),xt=function(e){var t,n,a=e.children,i=e.access,r=e.forbidden,l=ht(),j=Object(o.g)(),d=Object(G.a)(),b=c.a.useState(!0),u=Object(k.a)(b,2),O=u[0],m=u[1],h=Object(he.a)("(min-width:600px)"),x=c.a.useState(!0),p=Object(k.a)(x,2),f=p[0],y=p[1],w=c.a.useState(!0),S=Object(k.a)(w,2),_=S[0],I=S[1],z=c.a.useState(!0),E=Object(k.a)(z,2),P=E[0],F=E[1],R=function(e){return function(t){"content"===e?I(!_):"employee"===e?y(!f):"task"===e&&F(!P)}};c.a.useEffect((function(){if(h)return m(!0);m(!1)}),[h]);var B=function(e){return e===j.location.pathname};return Object(v.jsxs)("div",{className:l.root,children:[Object(v.jsx)(J.a,{position:"fixed",className:Object(H.default)(l.appBar,Object(C.a)({},l.appBarShift,O)),children:Object(v.jsxs)($.a,{children:[Object(v.jsx)(K.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},edge:"start",className:Object(H.default)(l.menuButton,Object(C.a)({},l.hide,O)),children:Object(v.jsx)(Z.a,{className:l.menuIcon})}),Object(v.jsx)(A.a,{variant:"h6",noWrap:!0,className:l.appname}),Object(v.jsx)("div",{className:l.grow}),Object(v.jsx)(Ye,{}),Object(v.jsx)(Ce,{})]})}),Object(v.jsxs)(Y.a,{variant:"permanent",className:Object(H.default)(l.drawer,(t={},Object(C.a)(t,l.drawerOpen,O),Object(C.a)(t,l.drawerClose,!O),t)),classes:{paper:Object(H.default)((n={},Object(C.a)(n,l.drawerOpen,O),Object(C.a)(n,l.drawerClose,!O),n))},children:[Object(v.jsxs)("div",{className:l.toolbar,children:[O&&Object(v.jsx)(A.a,{variant:"h6",noWrap:!0}),!h&&Object(v.jsx)(K.a,{onClick:function(){m(!1)},children:"rtl"===d.direction?Object(v.jsx)(ae.a,{className:l.direc}):Object(v.jsx)(te.a,{className:l.direc})}),Object(v.jsx)(N.a,{container:!0,justify:"center",wrap:"wrap",children:Object(v.jsxs)(N.a,{item:!0,xs:!0,children:[Object(v.jsx)(N.a,{container:!0,justify:"center",wrap:"wrap",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(se.a,{pt:6,children:Object(v.jsx)(de,{name:g()&&g().full_name,src:g()&&g().headshot_url,size:37,textSize:15})})})}),Object(v.jsx)(A.a,{noWrap:!0,className:l.name,align:"center",children:g()&&g().full_name})]})})]}),Object(v.jsx)("br",{}),"      ",Object(v.jsx)("br",{}),Object(v.jsxs)(X.a,{className:l.list,children:[Object(v.jsx)(s.b,{to:"/dashboard",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/dashboard"),children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(Je.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,variant:"body1",children:"Dashboard"})})]})}),Object(v.jsx)(s.b,{to:"/profile",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/profile"),children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)($e.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,variant:"body1",children:"Profile"})})]})}),Ot("project")&&Object(v.jsx)(s.b,{to:"/projects",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/projects"),children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(Xe.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,variant:"body1",children:"Projects"})})]})}),(Ot("my_tasks")||Ot("task"))&&Object(v.jsxs)(ce.a,{button:!0,onClick:R("task"),className:"mt-3",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(Ke.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,children:"Tasks"})}),P?Object(v.jsx)(ue.a,{className:l.direc}):Object(v.jsx)(me.a,{className:l.direc})]}),Object(v.jsx)(oe.a,{in:P,timeout:"auto",unmountOnExit:!0,children:Object(v.jsx)("div",{className:l.listContainer,children:Object(v.jsxs)(X.a,{component:"div",disablePadding:!0,className:l.collapseList,children:[Ot("my_tasks")&&Object(v.jsx)(s.b,{to:"/my-tasks",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/my-tasks"),children:[Object(v.jsx)(ie.a,{}),Object(v.jsx)(re.a,{children:Object(v.jsxs)(A.a,{className:l.menutext,variant:"body1",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)(Qe.a,{className:l.nestedSidebarIcon})})}),"My Tasks"]})})]})}),Ot("task")&&Object(v.jsx)(s.b,{to:"/tasks",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/tasks"),children:[Object(v.jsx)(ie.a,{}),Object(v.jsx)(re.a,{children:Object(v.jsxs)(A.a,{className:l.menutext,variant:"body1",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)(Ze.a,{className:l.nestedSidebarIcon})})}),"All Tasks"]})})]})})]})})}),Ot("chat")&&Object(v.jsx)(s.b,{to:"/chats",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/chats"),children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(et.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,variant:"body1",children:"Chat"})})]})}),Ot("channel")&&Object(v.jsx)(s.b,{to:"/channels",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/channels"),children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(tt.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,variant:"body1",children:"Channel"})})]})}),(Ot("all_employees")||Ot("department")||Ot("designation"))&&Object(v.jsxs)(ce.a,{button:!0,onClick:R("employee"),className:"mt-3",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(nt.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,children:"Employees"})}),f?Object(v.jsx)(ue.a,{className:l.direc}):Object(v.jsx)(me.a,{className:l.direc})]}),Object(v.jsx)(oe.a,{in:f,timeout:"auto",unmountOnExit:!0,children:Object(v.jsxs)(X.a,{component:"div",disablePadding:!0,className:l.collapseList,children:[Ot("all_employees")&&Object(v.jsx)(s.b,{to:"/all-employees",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/all-employees"),children:[Object(v.jsx)(ie.a,{}),Object(v.jsx)(re.a,{children:Object(v.jsxs)(A.a,{className:l.menutext,variant:"body1",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)(at.a,{className:l.nestedSidebarIcon})})}),"All Employee"]})})]})}),Ot("department")&&Object(v.jsx)(s.b,{to:"/department",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/department"),children:[Object(v.jsx)(ie.a,{}),Object(v.jsx)(re.a,{children:Object(v.jsxs)(A.a,{className:l.menutext,variant:"body1",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)(ct.a,{className:l.nestedSidebarIcon})})}),"Department"]})})]})}),Ot("designation")&&Object(v.jsx)(s.b,{to:"/designation",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/designation"),children:[Object(v.jsx)(ie.a,{}),Object(v.jsx)(re.a,{children:Object(v.jsxs)(A.a,{className:l.menutext,variant:"body1",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)(it.a,{className:l.nestedSidebarIcon})})}),"Designation"]})})]})})]})}),(Ot("write_blog")||Ot("all_blogs")||Ot("domain")||Ot("category"))&&Object(v.jsxs)(ce.a,{button:!0,onClick:R("content"),className:"mt-3",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(rt.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,children:"Content"})}),_?Object(v.jsx)(ue.a,{className:l.direc}):Object(v.jsx)(me.a,{className:l.direc})]}),Object(v.jsx)(oe.a,{in:_,timeout:"auto",unmountOnExit:!0,children:Object(v.jsxs)(X.a,{component:"div",disablePadding:!0,className:l.collapseList,children:[Ot("my_blogs")&&Object(v.jsx)(s.b,{to:"/my-blogs",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/my-blogs"),children:[Object(v.jsx)(ie.a,{}),Object(v.jsx)(re.a,{children:Object(v.jsxs)(A.a,{className:l.menutext,variant:"body1",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)(st.a,{className:l.nestedSidebarIcon})})}),"My Blogs"]})})]})}),Ot("write_blog")&&Object(v.jsx)(s.b,{to:"/content/create",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/content/create"),children:[Object(v.jsx)(ie.a,{}),Object(v.jsx)(re.a,{children:Object(v.jsxs)(A.a,{className:l.menutext,variant:"body1",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)(ot.a,{className:l.nestedSidebarIcon})})}),"Write Blog"]})})]})}),Ot("all_blogs")&&Object(v.jsx)(s.b,{to:"/content/blogs",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/content/blogs"),children:[Object(v.jsx)(ie.a,{}),Object(v.jsx)(re.a,{children:Object(v.jsxs)(A.a,{className:l.menutext,variant:"body1",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)(lt.a,{className:l.nestedSidebarIcon})})}),"All Blogs"]})})]})}),Ot("category")&&Object(v.jsx)(s.b,{to:"/categories",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/categories"),children:[Object(v.jsx)(ie.a,{}),Object(v.jsx)(re.a,{children:Object(v.jsxs)(A.a,{className:l.menutext,children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)(jt.a,{className:l.nestedSidebarIcon})})}),"Categories"]})})]})}),Ot("domain")&&Object(v.jsx)(s.b,{to:"/domains",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/domains"),children:[Object(v.jsx)(ie.a,{}),Object(v.jsx)(re.a,{children:Object(v.jsxs)(A.a,{className:l.menutext,variant:"body1",children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(se.a,{children:Object(v.jsx)(dt.a,{className:l.nestedSidebarIcon})})}),"Domains"]})})]})})]})}),Object(v.jsx)(s.b,{to:"/notifications",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/notifications"),children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(Le.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,variant:"body1",children:"Notifications"})})]})}),Ot("contact")&&Object(v.jsx)(s.b,{to:"/contact",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/contact"),children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(bt.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,variant:"body1",children:"Contacts"})})]})}),Ot("activity")&&Object(v.jsx)(s.b,{to:"/activities",children:Object(v.jsxs)(ce.a,{button:!0,selected:B("/activities"),children:[Object(v.jsx)(ie.a,{children:Object(v.jsx)(ut.a,{className:l.sidebarIcons})}),Object(v.jsx)(re.a,{children:Object(v.jsx)(A.a,{className:l.menutext,variant:"body1",children:"Activities"})})]})}),Object(v.jsx)("br",{})]})]}),Object(v.jsxs)("main",{className:l.content,children:[Object(v.jsx)("div",{className:l.toolbar}),i?a:r]})]})};function pt(e){return new Promise((function(t,n){b.get("/all/employees/employee/read",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}function ft(e){return new Promise((function(t,n){b.get("/all/employees/chat/read",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}function gt(e,t){return new Promise((function(n,a){b.post("/filter/employees/employee/read",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}function vt(e,t,n){return new Promise((function(a,c){b.patch("/update/profile-picture/".concat(n,"/my_profile/update"),e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}function yt(e,t,n){return new Promise((function(a,c){b.get("/module/permission/".concat(e,"/").concat(t),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}function wt(e){return new Promise((function(t,n){b.post("/forgot/password",e).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}function kt(e){return new Promise((function(t,n){b.post("/reset/password",e).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}var Ct=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsxs)(N.a,{item:!0,children:[Object(v.jsx)(A.a,{variant:"h1",align:"center",children:"403"}),Object(v.jsx)(A.a,{variant:"h1",align:"center",children:"Access Denied"})]})})})},St=Object(T.a)({overrides:{MuiCssBaseline:{"@global":{body:{backgroundColor:"rgb(247, 249, 252)"},html:{WebkitFontSmoothing:"auto"}}}}}),_t=function(e){var t=e.children,n=e.page,a=e.permission,i=x("token"),r=c.a.useState(!0),s=Object(k.a)(r,2),o=s[0],l=s[1];return c.a.useEffect((function(){Object(U.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!a){e.next=5;break}return e.next=3,yt(n,a,i);case 3:t=e.sent,l(t);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(L.a,{theme:St,children:Object(v.jsx)(D.a,{})}),Object(v.jsx)(xt,{children:t,access:o,forbidden:Object(v.jsx)(Ct,{})})]})},Nt=n(808);var At=Object(F.a)((function(e){return{cardRoot:{width:"100%"},userRoot:{padding:"10px"},approved:{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}},box:{paddingBottom:"3px"},button:{textTransform:"none"},notApproved:{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}},waiting:{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)"}},link:{color:"grey"},link2:{color:"grey"}}})),It=function(){var e=At(),t=Object(a.useState)([]),n=Object(k.a)(t,2),c=n[0],i=n[1],r=x("token");Object(a.useEffect)((function(){(function(e){return new Promise((function(t,n){b.get("/dashboard/info",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))})(r).then((function(e){i(e)})).catch((function(e){console.log(e)}))}),[]);var o=function(e){return Object(v.jsxs)(se.a,{p:1,children:[Object(v.jsx)(A.a,{variant:"h5",align:"center",children:Object.keys(e)[0]}),Object(v.jsx)(A.a,{variant:"h4",align:"center",children:Object.values(e)[0]})]})};return c.length?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:2,children:c.map((function(t,n){return"Users"===Object.keys(t)[0]?function(t){var n=o(t);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a,{item:!0,sm:5,xs:12,md:3,children:Object(v.jsxs)(Nt.a,{className:e.cardRoot,children:[n,t.data.map((function(t,n){return Object(v.jsx)(Nt.a,{className:e.userRoot,children:Object(v.jsxs)(N.a,{container:!0,spacing:2,children:[Object(v.jsx)(N.a,{item:!0,sm:3,xs:3,children:Object(v.jsx)("img",{src:t.picture})}),Object(v.jsxs)(N.a,{item:!0,sm:9,xs:9,children:[Object(v.jsxs)(se.a,{children:[Object(v.jsx)(A.a,{variant:"p",children:"Name : "}),Object(v.jsx)(A.a,{variant:"p",children:t.name})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(A.a,{variant:"p",children:"Domain : "}),Object(v.jsx)(A.a,{variant:"p",children:t.domain.name})]})]})]})})}))]})})})}(t):"Blogs"===Object.keys(t)[0]?function(t){var n=o(t);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a,{item:!0,sm:5,xs:12,md:3,children:Object(v.jsx)(s.b,{to:"/content/blogs",children:Object(v.jsx)("a",{className:e.link,children:Object(v.jsx)(Nt.a,{className:e.cardRoot,children:n})})})})})}(t):"Tasks"===Object.keys(t)[0]?function(t){var n=o(t);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a,{item:!0,sm:5,xs:12,md:3,children:Object(v.jsx)(s.b,{to:"/tasks",children:Object(v.jsx)("a",{className:e.link,children:Object(v.jsx)(Nt.a,{className:e.cardRoot,children:n})})})})})}(t):"Projects"===Object.keys(t)[0]?function(t){var n=o(t);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a,{item:!0,sm:5,xs:12,md:3,children:Object(v.jsx)(s.b,{to:"/projects",children:Object(v.jsx)("a",{className:e.link,children:Object(v.jsx)(Nt.a,{className:e.cardRoot,children:n})})})})})}(t):void 0}))})}):Object(v.jsx)(v.Fragment,{})},zt=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(_t,{page:"dashboard",permission:"read",children:Object(v.jsx)(It,{})})})},Et=n(188),Pt=n.n(Et);function Ft(e){return new Promise((function(t,n){b.get("/all/department/department/read",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}function Rt(e){return new Promise((function(t,n){b.get("/all/designation/designation/read",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}var Bt=n(809),Dt=n(810),Tt=n(811),Lt=n(812),Wt=n(833),Mt=n(832),Vt=n(32),qt=n.n(Vt),Ut=Object(F.a)((function(e){return{dialogRoot:{},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},cardRoot:{},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(0)},textField:{width:"100%"},close:{position:"absolute",right:"5%"},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Ht=function(){var e=c.a.useState(!1),t=Object(k.a)(e,2),n=t[0],a=t[1],i=x("token"),r=Ut(),s=c.a.useState({first_name:"",last_name:"",role:"",date_of_joining:"",phone_number:"",department:"",designation:"",email:"",address:"",gender:"",isLoading:!1,error:"",success:""}),o=Object(k.a)(s,2),j=o[0],d=o[1],u=c.a.useState([]),O=Object(k.a)(u,2),m=O[0],h=O[1],p=c.a.useState([]),f=Object(k.a)(p,2),g=f[0],y=f[1],w=function(){a(!1)};c.a.useEffect((function(){Ft(i).then((function(e){h(e.departments)})).catch((function(e){console.log(e)})),Rt(i).then((function(e){y(e.designations)})).catch((function(e){console.log(e)}))}),[]);var C=function(e){return function(t){switch(e){case"phone_number":d(Object(l.a)(Object(l.a)({},j),{},{phone_number:t}));break;case"first_name":d(Object(l.a)(Object(l.a)({},j),{},{first_name:t.target.value}));break;case"last_name":d(Object(l.a)(Object(l.a)({},j),{},{last_name:t.target.value}));break;case"email":d(Object(l.a)(Object(l.a)({},j),{},{email:t.target.value}));break;case"address":d(Object(l.a)(Object(l.a)({},j),{},{address:t.target.value}));break;case"doj":d(Object(l.a)(Object(l.a)({},j),{},{date_of_joining:t.target.value}))}}},I=function(e){e.preventDefault(),d(Object(l.a)(Object(l.a)({},j),{},{isLoading:!0})),function(e,t){return new Promise((function(n,a){b.post("/create/employee/employee/write",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}(j,i).then((function(e){var t;(t=e.employee._id,new Promise((function(e,n){b.post("/onboard/employee/".concat(t)).then((function(t){200===t.status&&e(t.data),n(t.data)})).catch((function(e){n(e)}))}))).then((function(e){d(Object(l.a)(Object(l.a)({},j),{},{isLoading:!1,first_name:"",last_name:"",role:"",date_of_joining:"",phone_number:"",department:"",designation:"",email:"",address:"",gender:"",success:e.message,error:""}))})).catch((function(e){console.log(e)}))})).catch((function(e){d(Object(l.a)(Object(l.a)({},j),{},{isLoading:!1,error:e.error,success:""})),console.log(e)}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:r.button,onClick:function(){a(!0)},children:"Add Employee"})}),Object(v.jsx)(Bt.a,{open:n,onClose:w,disableBackdropClick:!0,children:Object(v.jsx)("div",{className:r.dialogRoot,children:Object(v.jsxs)("form",{onSubmit:I,children:[Object(v.jsxs)(Dt.a,{children:[Object(v.jsxs)(Tt.a,{id:"customized-dialog-title",onClose:w,disableTypography:!0,className:r.root,children:[Object(v.jsx)(A.a,{variant:"h6",children:"Add a new employee"}),n?Object(v.jsx)(K.a,{"aria-label":"close",onClick:w,className:r.closeButton,children:Object(v.jsx)(qt.a,{})}):null]}),Object(v.jsx)(N.a,{container:!0,spacing:3,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,md:12,children:Object(v.jsxs)(Nt.a,{className:r.cardRoot,children:[j.success&&Object(v.jsx)(Mt.a,{severity:"success",children:j.success}),j.error&&Object(v.jsx)(Mt.a,{severity:"error",children:j.error}),Object(v.jsx)("br",{}),Object(v.jsx)("form",{onSubmit:I,children:Object(v.jsxs)(N.a,{container:!0,spacing:3,children:[Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(S.a,{variant:"outlined",onChange:C("first_name"),value:j.first_name,fullWidth:!0,size:"small",label:"First name"})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(S.a,{variant:"outlined",onChange:C("last_name"),value:j.last_name,fullWidth:!0,size:"small",label:"Last name"})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&d(Object(l.a)(Object(l.a)({},j),{},{department:t._id}))},size:"small",renderTags:function(e,t){return console.log(e,t)},options:m,getOptionLabel:function(e){return e.department_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Department",variant:"outlined",value:j.department}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&d(Object(l.a)(Object(l.a)({},j),{},{designation:t._id}))},size:"small",options:g,getOptionLabel:function(e){return e.designation_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Designation",variant:"outlined",value:j.designation}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(Wt.a,{options:[{title:"EMPLOYEE"},{title:"ADMIN"}],size:"small",onChange:function(e,t){t&&d(Object(l.a)(Object(l.a)({},j),{},{role:t.title}))},getOptionLabel:function(e){return e.title},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Role",variant:"outlined",value:j.role}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(S.a,{onChange:C("email"),value:j.email,variant:"outlined",size:"small",fullWidth:!0,label:"Email"})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&d(Object(l.a)(Object(l.a)({},j),{},{gender:t.title}))},options:[{title:"MALE"},{title:"FEMALE"}],size:"small",getOptionLabel:function(e){return e.title},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Gender",variant:"outlined",valye:j.gender}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(S.a,{variant:"outlined",id:"date",onChange:C("doj"),label:"Joining date",value:j.date_of_joining,type:"date",size:"small",defaultValue:"1999-05-24",className:r.textField,InputLabelProps:{shrink:!0}})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(Pt.a,{defaultCountry:"in",variant:"outlined",size:"small",value:j.phone_number,fullWidth:!0,onChange:C("phone_number")})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(S.a,{size:"small",onChange:C("address"),value:j.address,variant:"outlined",fullWidth:!0,label:"Address"})})]})})]})})})]}),Object(v.jsx)(Lt.a,{children:Object(v.jsx)(_.a,{className:r.button,type:"submit",disabled:j.isLoading,children:"Send Invitation"})})]})})})]})},Gt=n(120),Yt=n(813),Jt=n(814),$t=n(815),Xt=n(842),Kt=n(816),Qt=n(817),Zt=n(818),en=n(841),tn=n(834),nn=n(819),an=n(174),cn=Object(_e.a)(Gt.a).withConfig({displayName:"employeeList__Paper",componentId:"sc-1pb3ur7-0"})(an.b);function rn(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function sn(e,t){return"desc"===e?function(e,n){return rn(e,n,t)}:function(e,n){return-rn(e,n,t)}}function on(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var ln=[{id:"employee_id",alignment:"left",label:"Employee ID"},{id:"employee_name",alignment:"left",label:"Employee Name"},{id:"department",alignment:"left",label:"Department"},{id:"designation",alignment:"left",label:"Designation"},{id:"status",alignment:"left",label:"Status"},{id:"detail",alignment:"center",label:"Action"}];function jn(e){var t=e.order,n=e.orderBy,a=e.onRequestSort;return Object(v.jsx)(Yt.a,{children:Object(v.jsx)(Jt.a,{children:ln.map((function(e){return Object(v.jsx)($t.a,{align:e.alignment,padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,children:Object(v.jsx)(Xt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:e.label})},e.id);var c}))})})}function dn(e){var t=e.employees,n=c.a.useState("asc"),a=Object(k.a)(n,2),i=a[0],r=a[1],o=c.a.useState("customer"),l=Object(k.a)(o,2),j=l[0],d=l[1],b=c.a.useState([]),u=Object(k.a)(b,2),O=u[0],m=u[1],h=c.a.useState(0),x=Object(k.a)(h,2),p=x[0],f=x[1],g=c.a.useState(10),y=Object(k.a)(g,2),w=y[0],C=y[1],S=w-Math.min(w,t.length-p*w);return Object(v.jsx)("div",{children:Object(v.jsxs)(cn,{children:[Object(v.jsx)(Kt.a,{children:Object(v.jsxs)(Qt.a,{"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(v.jsx)(jn,{numSelected:O.length,order:i,orderBy:j,onSelectAllClick:function(e){if(e.target.checked){var n=t.map((function(e){return e.id}));m(n)}else m([])},onRequestSort:function(e,t){r(j===t&&"asc"===i?"desc":"asc"),d(t)},rowCount:t.length}),Object(v.jsxs)(Zt.a,{children:[on(t,sn(i,j)).slice(p*w,p*w+w).map((function(e,t){var n,a=(n=e._id,-1!==O.indexOf(n));return Object(v.jsxs)(Jt.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(v.jsx)($t.a,{align:"left",children:e.employee_id}),Object(v.jsx)($t.a,{align:"left",children:Object(v.jsx)(en.a,{size:"small",label:e.full_name,color:"primary"})}),Object(v.jsx)($t.a,{align:"left",children:Object(v.jsx)(en.a,{size:"small",label:e.department&&e.department.department_name||"None",color:"primary"})}),Object(v.jsx)($t.a,{children:e.designation&&e.designation.designation_name.toUpperCase()||"None"}),Object(v.jsxs)($t.a,{align:"left",children:["INVITED"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)"}}),"LEFT"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}}),"JOINED"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}})]}),Object(v.jsx)($t.a,{padding:"none",align:"center",children:Object(v.jsx)(se.a,{pl:0,children:Object(v.jsx)(s.b,{to:"/employee-detail/".concat(e._id),children:Object(v.jsx)(K.a,{"aria-label":"details",children:Object(v.jsx)(nn.a,{})})})})})]},"".concat(e._id,"-").concat(t))})),S>0&&Object(v.jsx)(Jt.a,{style:{height:20*S},children:Object(v.jsx)($t.a,{colSpan:8})})]})]})}),Object(v.jsx)(tn.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:w,page:p,onChangePage:function(e,t){f(t)},onChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),f(0)}})]})})}var bn=function(e){var t=e.employeeList;return Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(N.a,{container:!0,spacing:6,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(v.jsx)(dn,{employees:t})})})})},un=n(837),On=n(770),mn=n(838),hn=Object(F.a)((function(e){return{cardRoot:{padding:"10px"},formControl:{minWidth:120},submitBtn:{margin:"0px 1px"},btnContainer:{padding:"10px 0px 0px 0px"}}})),xn=function(e){var t=e.filterEmployeeList,n=hn(),c=Object(a.useState)([]),i=Object(k.a)(c,2),r=i[0],s=i[1],o=Object(a.useState)([]),j=Object(k.a)(o,2),d=j[0],b=j[1],u=Object(a.useState)([]),O=Object(k.a)(u,2),m=O[0],h=O[1],p=Object(a.useState)({employee:"",department:"",designation:""}),f=Object(k.a)(p,2),g=f[0],y=f[1],w=Object(a.useState)({full_name:"",department:"",designation:"",status:""}),C=Object(k.a)(w,2),A=C[0],I=C[1],z=x("token");Object(a.useEffect)((function(){pt(z).then((function(e){s(e.employees)})).catch((function(e){console.log(e)})),Ft(z).then((function(e){b(e.departments)})).catch((function(e){console.log(e)})),Rt(z).then((function(e){h(e.designations)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){gt(A,z).then((function(e){t(e)})).catch((function(e){console.log(e)}))}),[A]);var E=function(e){return function(t){switch(e){case"full_name":0===t.target.value.length&&I(Object(l.a)(Object(l.a)({},A),{},{full_name:""}));break;case"department":0===t.target.value.length&&I(Object(l.a)(Object(l.a)({},A),{},{department:""}));break;case"designation":0===t.target.value.length&&I(Object(l.a)(Object(l.a)({},A),{},{designation:""}))}}};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Nt.a,{className:n.cardRoot,children:Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),gt(A,z).then((function(e){t(e)})).catch((function(e){console.log(e)}))},children:Object(v.jsxs)(N.a,{container:!0,spacing:2,justify:"center",children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&(I(Object(l.a)(Object(l.a)({},A),{},{full_name:t.full_name})),y(Object(l.a)(Object(l.a)({},g),{},{employee:t})))},closeIcon:Object(v.jsx)(v.Fragment,{}),value:g.employee,size:"small",options:r,getOptionLabel:function(e){return e.full_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Employee Name",variant:"outlined",onChange:E("full_name")}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(Wt.a,{closeIcon:Object(v.jsx)(v.Fragment,{}),onChange:function(e,t){t&&(I(Object(l.a)(Object(l.a)({},A),{},{department:t._id})),y(Object(l.a)(Object(l.a)({},g),{},{department:t})))},value:g.department,size:"small",options:d,getOptionLabel:function(e){return e.department_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Department",variant:"outlined",onChange:E("department")}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(Wt.a,{closeIcon:Object(v.jsx)(v.Fragment,{}),onChange:function(e,t){t&&(I(Object(l.a)(Object(l.a)({},A),{},{designation:t._id})),y(Object(l.a)(Object(l.a)({},g),{},{designation:t})))},size:"small",value:g.designation,options:m,getOptionLabel:function(e){return e.designation_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Designation",variant:"outlined",onChange:E("designation")}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsxs)(On.a,{className:n.formControl,variant:"outlined",size:"small",fullWidth:!0,children:[Object(v.jsx)(un.a,{children:"Status"}),Object(v.jsxs)(mn.a,{value:A.status,label:"Status",onChange:function(e){return I(Object(l.a)(Object(l.a)({},A),{},{status:e.target.value}))},children:[Object(v.jsx)(ge.a,{value:"JOINED",children:"JOINED"}),Object(v.jsx)(ge.a,{value:"INVITED",children:"INVITED"}),Object(v.jsx)(ge.a,{value:"LEFT",children:"LEFT"})]})]})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:1,className:n.btnContainer,children:Object(v.jsx)(N.a,{xs:6,sm:4,md:4,lg:4,children:Object(v.jsx)(_.a,{size:"small",variant:"contained",color:"primary",onClick:function(){I(Object(l.a)(Object(l.a)({},A),{},{full_name:"",department:"",designation:"",status:""})),y(Object(l.a)(Object(l.a)({},g),{},{full_name:"",department:"",designation:""}))},children:"Reset"})})})})]})})})})},pn=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),r=Object(k.a)(i,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){o(n)}),[n]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"employee",permission:"read",children:[Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,md:9,sm:9,xs:12,children:Object(v.jsx)(se.a,{pl:3,children:Object(v.jsx)(A.a,{variant:"h5",children:"Employee"})})}),Object(v.jsx)(N.a,{item:!0,md:3,sm:3,xs:12,children:Object(v.jsx)(Ht,{})})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(xn,{filterEmployeeList:function(e){return c(e)}}),Object(v.jsx)("br",{}),Object(v.jsx)(bn,{employeeList:s})]})})},fn=n(835),gn=Object(_e.a)(Gt.a).withConfig({displayName:"modulePermission__Paper",componentId:"ovl4fs-0"})(an.b),vn=Object(F.a)((function(e){return{}}));function yn(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function wn(e,t){return"desc"===e?function(e,n){return yn(e,n,t)}:function(e,n){return-yn(e,n,t)}}function kn(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Cn=[{id:"Module",alignment:"left",label:"Module"},{id:"Read",alignment:"center",label:"Read"},{id:"Write",alignment:"center",label:"Write"},{id:"Update",alignment:"center",label:"Update"},{id:"Delete",alignment:"center",label:"Delete"}];function Sn(e){var t=e.order,n=e.orderBy,a=e.onRequestSort;return Object(v.jsx)(Yt.a,{children:Object(v.jsx)(Jt.a,{children:Cn.map((function(e){return Object(v.jsx)($t.a,{align:e.alignment,padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,children:Object(v.jsx)(Xt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:e.label})},e.id);var c}))})})}var _n=function(e){var t=e.permission,n=e.onChangePermission,a=(vn(),c.a.useState(t)),i=Object(k.a)(a,2),r=i[0],s=i[1],o=Object.entries(r).map((function(e){return Object(C.a)({},e[0],e[1])})),j=c.a.useState("asc"),d=Object(k.a)(j,2),b=d[0],u=d[1],O=c.a.useState("customer"),m=Object(k.a)(O,2),h=m[0],x=m[1],p=c.a.useState([]),f=Object(k.a)(p,2),g=f[0],y=f[1],w=c.a.useState(0),S=Object(k.a)(w,2),_=S[0],A=(S[1],c.a.useState(10)),I=Object(k.a)(A,2),z=I[0],E=(I[1],z-Math.min(z,o.length-_*z)),P=function(e){return function(t){return function(n){s(Object(l.a)(Object(l.a)({},r),{},Object(C.a)({},e,Object(l.a)(Object(l.a)({},r[e]),{},Object(C.a)({},t,n.target.checked)))))}}};return c.a.useEffect((function(){n(r)}),[r]),Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(N.a,{container:!0,spacing:6,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(v.jsx)(gn,{children:Object(v.jsx)(Kt.a,{children:Object(v.jsxs)(Qt.a,{"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[Object(v.jsx)(Sn,{numSelected:g.length,order:b,orderBy:h,onSelectAllClick:function(e){if(e.target.checked){var t=[{},{}].map((function(e){return e.id}));y(t)}else y([])},onRequestSort:function(e,t){u(h===t&&"asc"===b?"desc":"asc"),x(t)},rowCount:o.length}),Object(v.jsxs)(Zt.a,{children:[kn(o,wn(b,h)).map((function(e,t){var n,a=(n=e._id,-1!==g.indexOf(n));return Object(v.jsxs)(Jt.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(v.jsx)($t.a,{align:"left",children:Object.keys(e)[0]}),Object(v.jsx)($t.a,{align:"center",children:Object(v.jsx)(fn.a,{className:"private-checkbox",onChange:P(Object.keys(e)[0])("read"),checked:Object.values(e)[0].read,color:"primary"})}),Object(v.jsx)($t.a,{align:"center",children:Object(v.jsx)(fn.a,{onChange:P(Object.keys(e)[0])("write"),checked:Object.values(e)[0].write,color:"primary"})}),Object(v.jsx)($t.a,{align:"center",children:Object(v.jsx)(fn.a,{checked:Object.values(e)[0].update,onChange:P(Object.keys(e)[0])("update"),color:"primary"})}),Object(v.jsx)($t.a,{align:"center",children:Object(v.jsx)(fn.a,{onChange:P(Object.keys(e)[0])("delete"),checked:Object.values(e)[0].delete,color:"primary"})})]},"".concat(e._id,"-").concat(t))})),E>0&&Object(v.jsx)(Jt.a,{style:{height:20*E},children:Object(v.jsx)($t.a,{colSpan:8})})]})]})})})})})})},Nn=n(820),An=n(8),In=Object(An.a)((function(e){return{root:{width:49,height:24,padding:0,marginLeft:"15px",margin:e.spacing(0)},switchBase:{padding:1,"&$checked":{transform:"translateX(23px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#021642",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:22},track:{borderRadius:12,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,n=Object(j.a)(e,["classes"]);return Object(v.jsx)(Nn.a,Object(l.a)({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},n))})),zn=function(e){var t=e.modules,n=e.onChangeVisibility,a=c.a.useState(t),i=Object(k.a)(a,2),r=i[0],s=i[1],o=Object.entries(r).map((function(e){return Object(C.a)({},e[0],e[1])}));return c.a.useEffect((function(){n(r)}),[r]),Object(v.jsx)(v.Fragment,{children:o.map((function(e,t){return Object(v.jsx)(se.a,{p:1,children:Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,children:Object.keys(e)}),Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(In,{checked:r[Object.keys(e)],onChange:(n=Object.keys(e),function(e){s((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(C.a)({},n,e.target.checked))}))})})})]})},t);var n}))})},En=Object(F.a)((function(e){return{dialogRoot:{},button:{textTransform:"none",backgroundColor:"#3f51b5",width:"300px",color:"white",fontWeight:500,fontSize:"17px","&:hover":{backgroundColor:"#3f51b5"}},cardRoot:{padding:"30px 30px 30px 30px"},formControl:{minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(0)},textField:{width:"100%"},close:{position:"absolute",right:"5%"},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Pn=function(e){var t=e.editEmployee,n=x("token"),a=En(),i=c.a.useState({first_name:"",last_name:"",role:"",date_of_joining:"",phone_number:"",department:"",designation:"",email:"",address:"",gender:"",permission:t.permission,module_visibility:t.module_visibility,isLoading:!1,error:"",success:""}),r=Object(k.a)(i,2),s=r[0],o=r[1];console.log(t);var j=c.a.useState([]),d=Object(k.a)(j,2),u=d[0],O=d[1],m=c.a.useState([]),h=Object(k.a)(m,2),p=h[0],f=h[1];c.a.useEffect((function(){Ft(n).then((function(e){O(e.departments)})).catch((function(e){console.log(e)})),Rt(n).then((function(e){f(e.designations)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){o(Object(l.a)(Object(l.a)({},s),{},{first_name:t.first_name,last_name:t.last_name,role:t.role,date_of_joining:"",phone_number:t.phone_number,department:t.department,designation:t.designation,email:t.email,address:t.address,gender:t.gender}))}),[t]);var g=function(e){return function(t){switch(e){case"phone_number":o(Object(l.a)(Object(l.a)({},s),{},{phone_number:t}));break;case"first_name":o(Object(l.a)(Object(l.a)({},s),{},{first_name:t.target.value}));break;case"last_name":o(Object(l.a)(Object(l.a)({},s),{},{last_name:t.target.value}));break;case"email":o(Object(l.a)(Object(l.a)({},s),{},{email:t.target.value}));break;case"address":o(Object(l.a)(Object(l.a)({},s),{},{address:t.target.value}));break;case"doj":o(Object(l.a)(Object(l.a)({},s),{},{date_of_joining:t.target.value}))}}};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:a.dialogRoot,children:[Object(v.jsx)("br",{}),Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),o(Object(l.a)(Object(l.a)({},s),{},{isLoading:!0})),function(e,t,n){return new Promise((function(a,c){b.patch("/update/employee/".concat(e,"/employee/update"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}(t._id,s,n).then((function(e){o(Object(l.a)(Object(l.a)({},s),{},{isLoading:!1,success:e.message,error:""}))})).catch((function(e){o(Object(l.a)(Object(l.a)({},s),{},{isLoading:!1,success:"",error:e.error}))}))},children:Object(v.jsxs)(N.a,{container:!0,spacing:3,justify:"center",children:[Object(v.jsxs)(N.a,{item:!0,xs:12,md:9,children:[Object(v.jsxs)(Nt.a,{className:a.cardRoot,children:[s.success&&Object(v.jsx)(Mt.a,{severity:"success",children:s.success}),s.error&&Object(v.jsx)(Mt.a,{severity:"error",children:s.error}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,spacing:3,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(S.a,{variant:"outlined",disabled:!0,onChange:g("first_name"),value:s.first_name,fullWidth:!0,size:"small",label:"First name"})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(S.a,{disabled:!0,variant:"outlined",onChange:g("last_name"),value:s.last_name,fullWidth:!0,size:"small",label:"Last name"})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(Wt.a,{defaultValue:s.department,onChange:function(e,t){t&&o(Object(l.a)(Object(l.a)({},s),{},{department:t._id}))},size:"small",renderTags:function(e,t){return console.log(e,t)},options:u,getOptionLabel:function(e){return e.department_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Department",variant:"outlined",value:s.department}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(Wt.a,{defaultValue:s.designation,onChange:function(e,t){t&&o(Object(l.a)(Object(l.a)({},s),{},{designation:t._id}))},size:"small",options:p,getOptionLabel:function(e){return e.designation_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Designation",variant:"outlined",value:s.designation}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(Wt.a,{options:[{title:"EMPLOYEE"},{title:"ADMIN"}],defaultValue:{title:s.role},size:"small",onChange:function(e,t){t&&o(Object(l.a)(Object(l.a)({},s),{},{role:t.title}))},getOptionLabel:function(e){return e.title},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Role",variant:"outlined",value:s.role}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(S.a,{onChange:g("email"),value:s.email,defaultValue:s.email,variant:"outlined",size:"small",fullWidth:!0,label:"Email"})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(Wt.a,{defaultValue:{title:s.gender},onChange:function(e,t){t&&o(Object(l.a)(Object(l.a)({},s),{},{gender:t.title}))},options:[{title:"MALE"},{title:"FEMALE"}],size:"small",getOptionLabel:function(e){return e.title},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Gender",variant:"outlined",valye:s.gender}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(Pt.a,{defaultCountry:"in",variant:"outlined",disabled:!0,defaultValue:s.phone_number,size:"small",value:s.phone_number,fullWidth:!0,onChange:g("phone_number")})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:12,children:Object(v.jsx)(S.a,{size:"small",onChange:g("address"),value:s.address,variant:"outlined",fullWidth:!0,label:"Address"})})]})]}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:6,children:Object(v.jsx)(N.a,{item:!0,xs:12,md:12,children:Object(v.jsx)(_n,{onChangePermission:function(e){return o(Object(l.a)(Object(l.a)({},s),{},{permission:e}))},permission:t.permission})})}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(se.a,{p:4,mb:10,children:Object(v.jsx)(_.a,{size:"large",className:a.button,type:"submit",disabled:s.isLoading,children:"Update"})})})})]}),Object(v.jsxs)(N.a,{item:!0,md:2,children:[Object(v.jsx)(se.a,{pt:3,pb:1,children:Object(v.jsx)(A.a,{variant:"body2",align:"center",children:"Module Visibility"})}),Object(v.jsx)("hr",{}),Object(v.jsx)(zn,{onChangeVisibility:function(e){return o(Object(l.a)(Object(l.a)({},s),{},{module_visibility:e}))},modules:t.module_visibility})]})]})})]})})},Fn=(Object(F.a)((function(e){return{cardRoot:{padding:"40px 10px 40px 10px"},button:{textTransform:"none",backgroundColor:"#3f51b5",width:"100%",color:"white",fontWeight:800,height:"40px",fontSize:"15px","&:hover":{backgroundColor:"#3f51b5"}}}})),Object(o.h)((function(e){var t=e.match.params,n=c.a.useState(null),a=Object(k.a)(n,2),i=a[0],r=a[1],s=x("token");return c.a.useEffect((function(){(function(e,t){return new Promise((function(n,a){b.get("/single/employees/".concat(e,"/employee/read"),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))})(t.id,s).then((function(e){e&&r(e.employees)})).catch((function(e){console.log(e)}))}),[]),i?Object(v.jsx)(_t,{page:"employee",permission:"read",children:Object(v.jsx)(Pn,{editEmployee:i})}):Object(v.jsx)(_t,{page:"employee"})}))),Rn=Object(F.a)((function(e){return{dialogRoot:{padding:" "},cardRoot:{minHeight:"100px",padding:""},close:{position:"absolute",right:"5%"},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}}}})),Bn=function(){var e=c.a.useState(!1),t=Object(k.a)(e,2),n=t[0],a=t[1],i=Rn(),r=x("token"),s=c.a.useState({departmentName:"",isLoading:!1,success:"",error:""}),o=Object(k.a)(s,2),j=o[0],d=o[1],u=function(){a(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:i.button,onClick:function(){a(!0)},color:"primary",children:"Create Department"})}),Object(v.jsx)(Bt.a,{open:n,onClose:u,children:Object(v.jsx)("div",{className:i.dialogRoot,children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(Object(l.a)(Object(l.a)({},j),{},{isLoading:!0})),function(e,t){return new Promise((function(n,a){b.post("/create/department/department/write",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}(j,r).then((function(e){d(Object(l.a)(Object(l.a)({},j),{},{isLoading:!1,success:e.message,error:"",departmentName:""}))})).catch((function(e){d(Object(l.a)(Object(l.a)({},j),{},{isLoading:!1,error:e.error,success:""}))}))},children:[Object(v.jsx)(Dt.a,{children:Object(v.jsx)(N.a,{container:!0,spacing:3,justify:"center",children:Object(v.jsxs)(N.a,{item:!0,md:12,xm:12,sm:12,children:[j.success&&Object(v.jsx)(Mt.a,{severity:"success",children:j.success}),j.error&&Object(v.jsx)(Mt.a,{severity:"error",children:j.error}),Object(v.jsx)("br",{}),Object(v.jsx)(S.a,{size:"small",onChange:function(e){d(Object(l.a)(Object(l.a)({},j),{},{departmentName:e.target.value}))},value:j.departmentName,label:"Department name",variant:"outlined",fullWidth:!0})]})})}),Object(v.jsxs)(Lt.a,{children:[Object(v.jsx)(_.a,{onClick:u,color:"primary",children:"Cancel"}),Object(v.jsx)(_.a,{color:"primary",type:"submit",children:"Submit"})]})]})})})]})},Dn=[{id:"department_name",numeric:!1,disablePadding:!0,label:"Department Name"},{id:"View",numeric:!0,disablePadding:!1,label:"View"}];function Tn(e){return Object(v.jsx)(Yt.a,{children:Object(v.jsxs)(Jt.a,{children:[Object(v.jsx)($t.a,{}),Dn.map((function(e){return Object(v.jsx)($t.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",children:Object(v.jsx)(Xt.a,{children:Object(v.jsx)("b",{children:e.label})})},e.id)}))]})})}function Ln(){var e=Object(o.g)(),t=c.a.useState([]),n=Object(k.a)(t,2),a=n[0],i=n[1],r=c.a.useState(0),s=Object(k.a)(r,2),l=s[0],j=s[1],d=c.a.useState(10),b=Object(k.a)(d,2),u=b[0],O=b[1],m=c.a.useState([]),h=Object(k.a)(m,2),p=h[0],f=h[1],g=x("token");c.a.useEffect((function(){Ft(g).then((function(e){if(e&&e.departments){var t=e.departments.map((function(e){var t=e.department_name,n=e.createdAt;return{_id:e._id,department_name:t,createdAt:n}}));f(t)}})).catch((function(e){console.log(e)}))}),[]);var y=u-Math.min(u,p.length-l*u);return Object(v.jsx)("div",{children:Object(v.jsxs)(Gt.a,{children:[Object(v.jsx)(Kt.a,{children:Object(v.jsxs)(Qt.a,{size:"small",children:[Object(v.jsx)(Tn,{}),Object(v.jsxs)(Zt.a,{children:[p.map((function(t,n){var c="enhanced-table-checkbox-".concat(n);return Object(v.jsxs)(Jt.a,{hover:!0,onClick:function(e){return function(e,t){var n=a.indexOf(t),c=[];-1===n?c=c.concat(a,t):0===n?c=c.concat(a.slice(1)):n===a.length-1?c=c.concat(a.slice(0,-1)):n>0&&(c=c.concat(a.slice(0,n),a.slice(n+1))),i(c)}(0,t.department_name)},role:"checkbox",tabIndex:-1,children:[Object(v.jsx)($t.a,{padding:"checkbox"}),Object(v.jsx)($t.a,{component:"th",id:c,scope:"row",padding:"none",children:t.department_name}),Object(v.jsx)($t.a,{align:"right",children:Object(v.jsx)(se.a,{mr:0,children:Object(v.jsx)(K.a,{"aria-label":"details",onClick:function(){return e.push("/employee-detail/".concat(t._id))},children:Object(v.jsx)(nn.a,{})})})})]},t._id)})),y>0&&Object(v.jsx)(Jt.a,{style:{height:33*y},children:Object(v.jsx)($t.a,{colSpan:6})})]})]})}),Object(v.jsx)(tn.a,{rowsPerPageOptions:[10],component:"div",count:p.length,rowsPerPage:u,page:l,onChangePage:function(e,t){j(t)},onChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),j(0)}})]})})}var Wn=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,md:10,sm:10,lg:10,children:Object(v.jsx)(Ln,{})})})})},Mn=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"department",permission:"read",children:[Object(v.jsx)("br",{}),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a,{container:!0,justify:"flex-end",children:Object(v.jsx)(N.a,{item:!0,xs:12,sm:3,md:3,children:Object(v.jsx)(Bn,{})})})}),Object(v.jsx)("br",{}),Object(v.jsx)(Wn,{})]})})},Vn=Object(F.a)((function(e){return{dialogRoot:{padding:" "},cardRoot:{minHeight:"100px",padding:""},close:{position:"absolute",right:"5%"},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}}}})),qn=function(){var e=Vn(),t=c.a.useState(!1),n=Object(k.a)(t,2),a=n[0],i=n[1],r=x("token"),s=c.a.useState({designationName:"",isLoading:!1,success:"",error:""}),o=Object(k.a)(s,2),j=o[0],d=o[1],u=function(){i(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:e.button,onClick:function(){i(!0)},color:"primary",children:"Create Designation"})}),Object(v.jsx)(Bt.a,{open:a,onClose:u,children:Object(v.jsx)("div",{className:e.dialogRoot,children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(Object(l.a)(Object(l.a)({},j),{},{isLoading:!0})),function(e,t){return new Promise((function(n,a){b.post("/create/designation/designation/write",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}(j,r).then((function(e){d(Object(l.a)(Object(l.a)({},j),{},{isLoading:!1,success:e.message,error:"",designationName:""}))})).catch((function(e){d(Object(l.a)(Object(l.a)({},j),{},{isLoading:!1,error:e.error,success:""}))}))},children:[Object(v.jsx)(Dt.a,{children:Object(v.jsx)(N.a,{container:!0,spacing:3,justify:"center",children:Object(v.jsxs)(N.a,{item:!0,md:12,xm:12,sm:12,children:[j.success&&Object(v.jsx)(Mt.a,{severity:"success",children:j.success}),j.error&&Object(v.jsx)(Mt.a,{severity:"error",children:j.error}),Object(v.jsx)("br",{}),Object(v.jsx)(S.a,{size:"small",onChange:function(e){d(Object(l.a)(Object(l.a)({},j),{},{designationName:e.target.value}))},value:j.designationName,label:"Designation name",variant:"outlined",fullWidth:!0})]})})}),Object(v.jsxs)(Lt.a,{children:[Object(v.jsx)(_.a,{onClick:u,color:"primary",children:"Cancel"}),Object(v.jsx)(_.a,{color:"primary",type:"submit",children:"Submit"})]})]})})})]})},Un=[{id:"designation_name",numeric:!1,disablePadding:!0,label:"Designation Name"},{id:"View",numeric:!0,disablePadding:!1,label:"View"}];function Hn(e){return Object(v.jsx)(Yt.a,{children:Object(v.jsxs)(Jt.a,{children:[Object(v.jsx)($t.a,{}),Un.map((function(e){return Object(v.jsx)($t.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",children:Object(v.jsx)(Xt.a,{children:Object(v.jsx)("b",{children:e.label})})},e.id)}))]})})}function Gn(){var e=Object(o.g)(),t=c.a.useState([]),n=Object(k.a)(t,2),a=n[0],i=n[1],r=c.a.useState(0),s=Object(k.a)(r,2),l=s[0],j=s[1],d=c.a.useState(10),b=Object(k.a)(d,2),u=b[0],O=b[1],m=c.a.useState([]),h=Object(k.a)(m,2),p=h[0],f=h[1],g=x("token");c.a.useEffect((function(){Rt(g).then((function(e){if(e&&e.designations){var t=e.designations.map((function(e){var t=e.designation_name,n=e.createdAt,a=e._id;return console.log(e),{_id:a,designation_name:t,createdAt:n}}));f(t)}})).catch((function(e){console.log(e)}))}),[]);var y=u-Math.min(u,p.length-l*u);return Object(v.jsx)("div",{children:Object(v.jsxs)(Gt.a,{children:[Object(v.jsx)(Kt.a,{children:Object(v.jsxs)(Qt.a,{size:"small",children:[Object(v.jsx)(Hn,{}),Object(v.jsxs)(Zt.a,{children:[p.map((function(t,n){var c="enhanced-table-checkbox-".concat(n);return Object(v.jsxs)(Jt.a,{hover:!0,onClick:function(e){return function(e,t){var n=a.indexOf(t),c=[];-1===n?c=c.concat(a,t):0===n?c=c.concat(a.slice(1)):n===a.length-1?c=c.concat(a.slice(0,-1)):n>0&&(c=c.concat(a.slice(0,n),a.slice(n+1))),i(c)}(0,t.designation_name)},role:"checkbox",tabIndex:-1,children:[Object(v.jsx)($t.a,{padding:"checkbox"}),Object(v.jsx)($t.a,{component:"th",id:c,scope:"row",padding:"none",children:t.designation_name}),Object(v.jsx)($t.a,{align:"right",children:Object(v.jsx)(se.a,{mr:0,children:Object(v.jsx)(K.a,{"aria-label":"details",onClick:function(){return e.push("/employee-detail/".concat(t._id))},children:Object(v.jsx)(nn.a,{})})})})]},t._id)})),y>0&&Object(v.jsx)(Jt.a,{style:{height:33*y},children:Object(v.jsx)($t.a,{colSpan:6})})]})]})}),Object(v.jsx)(tn.a,{rowsPerPageOptions:[10],component:"div",count:p.length,rowsPerPage:u,page:l,onChangePage:function(e,t){j(t)},onChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),j(0)}})]})})}var Yn=function(){return Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,md:10,sm:10,lg:10,children:Object(v.jsx)(Gn,{})})})},Jn=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"designation",permission:"read",children:[Object(v.jsx)("br",{}),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N.a,{container:!0,justify:"flex-end",children:Object(v.jsx)(N.a,{item:!0,xs:12,sm:3,md:3,children:Object(v.jsx)(qn,{})})})}),Object(v.jsx)("br",{}),Object(v.jsx)(Yn,{})]})})};var $n=Object(F.a)({root:{margin:"5px 0pc 5px 0px"},cardRoot:{padding:"5px"}}),Xn=function(e){var t=e.name,n=e.phone,a=(e.email,$n());return Object(v.jsx)("div",{className:a.root,children:Object(v.jsx)(Nt.a,{className:a.cardRoot,children:Object(v.jsxs)(N.a,{container:!0,justify:"flex-start",children:[Object(v.jsx)(N.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(v.jsx)(le.a,{alt:t,src:" ",width:40,height:40})}),Object(v.jsxs)(N.a,{item:!0,xs:9,sm:9,md:9,lg:9,children:[Object(v.jsx)(A.a,{variant:"body1",children:t}),Object(v.jsx)(A.a,{variant:"body1",children:n})]})]})})})},Kn=function(e){return e.contacts.map((function(e){return Object(v.jsx)(Xn,{name:e.first_name+" "+e.last_name,email:e.email,phone:e.phone_number})}))},Qn=Object(F.a)({cardRoot:{padding:"10px 5px 10px 5px"},button:{textTransform:"none",fontWeight:500,fontSize:"13px"},selected:{textTransform:"none",backgroundColor:"dodgerblue",color:"white",fontWeight:500,fontSize:"13px","&:hover":{backgroundColor:"dodgerblue"}}}),Zn=function(){var e=Qn(),t=x("token"),n=Object(a.useState)({role:"EMPLOYEE"}),c=Object(k.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)([]),o=Object(k.a)(s,2),l=o[0],j=o[1];return Object(a.useEffect)((function(){(function(e,t){return new Promise((function(n,a){b.post("/employee/contact-number/contact/read",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))})(i,t).then((function(e){j(e)})).catch((function(e){console.log(e)}))}),[i]),Object(v.jsxs)("div",{className:e.cardRoot,children:[Object(v.jsxs)(N.a,{container:!0,justify:"center",spacing:2,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:4,md:4,lg:4,children:Object(v.jsx)(_.a,{variant:"contained",size:"medium",color:"primary",fullWidth:!0,onClick:function(){return"EMPLOYEE"===i.role?r({role:""}):r({role:"EMPLOYEE"})},className:"EMPLOYEE"===i.role?e.selected:e.button,children:"Employees"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:4,md:4,lg:4,children:Object(v.jsx)(_.a,{variant:"contained",size:"medium",color:"primary",fullWidth:!0,onClick:function(){return"INTERN"===i.role?r({role:""}):r({role:"INTERN"})},className:"INTERN"===i.role?e.selected:e.button,children:"Interns"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:4,md:4,lg:4,children:Object(v.jsx)(_.a,{variant:"contained",color:"primary",size:"medium",fullWidth:!0,onClick:function(){return"CONTRACTOR"===i.role?r({role:""}):r({role:"CONTRACTOR"})},className:"CONTRACTOR"===i.role?e.selected:e.button,children:"Freelancers"})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(v.jsx)(Kn,{contacts:l})})})]})},ea=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(_t,{page:"contact",permission:"read",children:Object(v.jsxs)(N.a,{container:!0,justify:"flex-start",children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:3,md:3,lg:3,children:Object(v.jsx)(Zn,{})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:8,md:8,lg:8})]})})})},ta=Object(T.a)({overrides:{MuiCssBaseline:{"@global":{body:{backgroundColor:"rgb(247, 249, 252)"},html:{WebkitFontSmoothing:"auto"}}}}}),na=Object(F.a)({form:{boxShadow:"0 1rem 3rem rgba(0,0,0,.175)",padding:"35px 20px 70px 20px",margin:"5px",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1},login:{minWidth:"130px"},root:{display:"table",position:"absolute",top:0,left:0,height:"90%",width:"100%"},middle:{display:"table-cell",verticalAlign:"middle"},inner:{marginLeft:"auto",marginRight:"auto",width:"100%"},loginTextField:{"& .MuiOutlinedInput-root":{borderRadius:"8px",background:"white"},"& .MuiOutlinedInput-adornedEnd":{background:"white"},"& .MuiOutlinedInput-adornedStart":{background:"white"},opacity:1},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,width:"100%",fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},textfieldIcon:{opacity:.2,fontSize:"21px"}});var aa=function(){var e=c.a.useState(),t=Object(k.a)(e,2),n=t[0],a=t[1],i=c.a.useState(!1),r=Object(k.a)(i,2),s=r[0],o=r[1],l=na(),j=function(){var e=Object(U.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o(!0),e.prev=2,e.next=5,wt({email:n});case 5:a=e.sent,I.b.success(a.message),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),I.b.error(e.t0.error),o(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I.a,{}),Object(v.jsx)(L.a,{theme:ta,children:Object(v.jsx)(D.a,{})}),Object(v.jsx)("div",{className:l.root,children:Object(v.jsx)("div",{className:l.middle,children:Object(v.jsx)("div",{className:l.inner,children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,sm:6,md:4,children:Object(v.jsxs)(Nt.a,{className:l.form,children:[Object(v.jsx)(A.a,{component:"h1",variant:"h4",align:"center",gutterBottom:!0,children:"Reset Password"}),Object(v.jsx)(A.a,{component:"h2",variant:"body1",align:"center",children:"Enter your email to reset your password"}),Object(v.jsx)("br",{}),Object(v.jsx)("form",{onSubmit:j,children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsxs)(N.a,{item:!0,sm:10,children:[Object(v.jsx)(S.a,{type:"email",variant:"outlined",value:n,onChange:function(e){return a(e.target.value)},className:l.loginTextField,name:"email",label:"E-mail Address",fullWidth:!0,my:3}),Object(v.jsx)("br",{}),"  ",Object(v.jsx)("br",{}),Object(v.jsx)(_.a,{type:"submit",fullWidth:!0,onClick:j,className:l.button,variant:"contained",children:s?"Loading...":"Reset password"})]})})})]})})})})})})]})},ca=Object(T.a)({overrides:{MuiCssBaseline:{"@global":{body:{backgroundColor:"rgb(247, 249, 252)"},html:{WebkitFontSmoothing:"auto"}}}}}),ia=Object(F.a)({form:{boxShadow:"0 1rem 3rem rgba(0,0,0,.175)",padding:"35px 20px 70px 20px",margin:"5px",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1},login:{minWidth:"130px"},root:{display:"table",position:"absolute",top:0,left:0,height:"90%",width:"100%"},middle:{display:"table-cell",verticalAlign:"middle"},inner:{marginLeft:"auto",marginRight:"auto",width:"100%"},loginTextField:{"& .MuiOutlinedInput-root":{borderRadius:"8px",background:"white"},"& .MuiOutlinedInput-adornedEnd":{background:"white"},"& .MuiOutlinedInput-adornedStart":{background:"white"},opacity:1},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,width:"100%",fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},textfieldIcon:{opacity:.2,fontSize:"21px"}});var ra=Object(o.h)((function(e){var t=e.match.params.resetLink,n=c.a.useState(),a=Object(k.a)(n,2),i=a[0],r=a[1],s=c.a.useState(!1),l=Object(k.a)(s,2),j=l[0],d=l[1],b=c.a.useState(!1),u=Object(k.a)(b,2),O=u[0],m=u[1],h=ia(),x=Object(o.g)(),p=function(){var e=Object(U.a)(q.a.mark((function e(n){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),d(!0),e.prev=2,e.next=5,kt({resetPasswordLink:t,newPassword:i});case 5:a=e.sent,I.b.success(a.message),d(!1),m(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),I.b.error(e.t0.error),d(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I.a,{}),Object(v.jsx)(L.a,{theme:ca,children:Object(v.jsx)(D.a,{})}),Object(v.jsx)("div",{className:h.root,children:Object(v.jsx)("div",{className:h.middle,children:Object(v.jsx)("div",{className:h.inner,children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,sm:6,md:4,children:Object(v.jsx)(Nt.a,{className:h.form,children:O?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsx)(_.a,{className:h.button,children:Object(v.jsx)(A.a,{variant:"h4",align:"center",onClick:function(){return x.push("/")},children:"Go to Homepage"})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A.a,{component:"h1",variant:"h4",align:"center",gutterBottom:!0,children:"Reset Password"}),Object(v.jsx)(A.a,{component:"h2",variant:"body1",align:"center",children:"Enter a new password."}),Object(v.jsx)("br",{}),Object(v.jsx)("form",{onSubmit:p,children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsxs)(N.a,{item:!0,sm:10,children:[Object(v.jsx)(S.a,{type:"password",variant:"outlined",value:i,onChange:function(e){return r(e.target.value)},className:h.loginTextField,name:"email",label:"Create new password",fullWidth:!0,my:3}),Object(v.jsx)("br",{}),"  ",Object(v.jsx)("br",{}),Object(v.jsx)(_.a,{type:"submit",fullWidth:!0,onClick:p,className:h.button,variant:"contained",children:j?"Loading...":"Reset password"})]})})})]})})})})})})})]})})),sa=n(392),oa=n.n(sa),la=Object(T.a)({overrides:{MuiCssBaseline:{"@global":{body:{backgroundColor:"rgb(247, 249, 252)"},html:{WebkitFontSmoothing:"auto"}}}}}),ja=Object(F.a)({form:{boxShadow:"0 1rem 3rem rgba(0,0,0,.175)",padding:"35px 5px 70px 5px",margin:"5px",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1},login:{minWidth:"130px"},root:{display:"table",position:"absolute",top:0,left:0,height:"90%",width:"100%"},middle:{display:"table-cell",verticalAlign:"middle"},inner:{marginLeft:"auto",marginRight:"auto",width:"100%"},loginTextField:{"& .MuiOutlinedInput-root":{borderRadius:"8px",background:"white"},"& .MuiOutlinedInput-adornedEnd":{background:"white"},"& .MuiOutlinedInput-adornedStart":{background:"white"},opacity:1},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,width:"100%",fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},textfieldIcon:{opacity:.2,fontSize:"21px"}}),da=Object(o.h)((function(e){var t=e.match,n=ja(),a=Object(o.g)(),i=t.params.token,r=c.a.useState({data:"",token:"",error:"",success:"",isLoading:!1,password:""}),s=Object(k.a)(r,2),j=s[0],d=s[1];c.a.useEffect((function(){i&&d(Object(l.a)(Object(l.a)({},j),{},{data:oa.a.decode(i),token:i}))}),[t]);return j.data?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I.a,{}),Object(v.jsx)(L.a,{theme:la,children:Object(v.jsx)(D.a,{})}),Object(v.jsx)("div",{className:n.root,children:Object(v.jsx)("div",{className:n.middle,children:Object(v.jsx)("div",{className:n.inner,children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,sm:6,md:4,children:Object(v.jsxs)(Nt.a,{className:n.form,children:[Object(v.jsxs)(A.a,{align:"center",variant:"h5",children:["Hi ",j.data.first_name.slice(0,1).toUpperCase(0)+j.data.first_name.slice(1),", Welcome you onboard"]}),Object(v.jsx)("br",{}),Object(v.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),(t=j,new Promise((function(e,n){b.post("/accept/onboard/invitation",t).then((function(t){200===t.status&&e(t.data),n(t.data)})).catch((function(e){n(e)}))}))).then((function(e){m({email:j.data.email,password:j.password}).then((function(e){f(e,(function(){a.push("/dashboard")}))})).catch((function(e){I.b.error(e.error)}))})).catch((function(e){I.b.error(e.error)}))},children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsxs)(N.a,{item:!0,sm:6,md:9,xs:12,children:[Object(v.jsx)(S.a,{type:"text",disabled:!0,InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(E.a,{className:n.textfieldIcon})})},className:n.loginTextField,variant:"outlined",value:j.data.email,fullWidth:!0,size:"large"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(S.a,{type:"password",variant:"outlined",className:n.loginTextField,InputProps:{startAdornment:Object(v.jsx)(z.a,{position:"start",children:Object(v.jsx)(P.a,{className:n.textfieldIcon})})},onChange:function(e){d(Object(l.a)(Object(l.a)({},j),{},{password:e.target.value}))},value:j.data.password,fullWidth:!0,inputProps:{autocomplete:"password",form:{autocomplete:"off"}},size:"large",label:"Create password"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(_.a,{variant:"contained",color:"primary",className:n.button,fullWidth:!0,type:"submit",children:"Activate account"})]})}),Object(v.jsx)("br",{})]})]})})})})})})]}):Object(v.jsx)(v.Fragment,{})})),ba=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(_t,{})})};function ua(e){return new Promise((function(t,n){b.get("/all/project/project/read",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}function Oa(e,t){return new Promise((function(n,a){b.post("/create/task/task/write",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}function ma(e,t,n){return new Promise((function(a,c){b.patch("/update/task/".concat(e,"/task/update"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}function ha(e,t){return new Promise((function(n,a){b.post("task/filter/task/read",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}function xa(e){return new Promise((function(t,n){b.get("/task/mytask/my_tasks/read",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}var pa=n(822),fa=n(279),ga=n(823),va=n(821);function ya(e){var t=e.id,n=c.a.useState(!1),a=Object(k.a)(n,2),i=a[0],r=a[1],s=x("token"),o=function(e){return function(n){if("delete"===e)return function(e,t){return new Promise((function(n,a){b.patch("/delete/project/".concat(e,"/project/delete"),{},{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}(t,s).then((function(e){setTimeout((function(){r(!1)}),1e3),console.log(e)})).catch((function(e){console.log(e)}));"cancel"===e&&r(!1)}};return Object(v.jsxs)("div",{children:[Object(v.jsx)(_.a,{size:"small",color:"secondary",onClick:function(){r(!0)},children:"Delete"}),Object(v.jsxs)(Bt.a,{open:i,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(v.jsx)(Tt.a,{id:"alert-dialog-title",children:"Deleting Project"}),Object(v.jsx)(Dt.a,{children:Object(v.jsx)(va.a,{id:"alert-dialog-description",children:"Are you sure want to Delete this Project ?"})}),Object(v.jsxs)(Lt.a,{children:[Object(v.jsx)(_.a,{onClick:o("cancel"),color:"primary",children:"Cancel"}),Object(v.jsx)(_.a,{onClick:o("delete"),color:"primary",autoFocus:!0,children:"Delete"})]})]})]})}var wa=n(192),ka=n.n(wa),Ca=Object(_e.a)(Nt.a).withConfig({displayName:"projectCard__Card",componentId:"sc-1ihejqt-0"})(an.b),Sa=Object(_e.a)(pa.a).withConfig({displayName:"projectCard__CardMedia",componentId:"sc-1ihejqt-1"})(["height:220px;"]),_a=Object(_e.a)(fa.a).withConfig({displayName:"projectCard__Divider",componentId:"sc-1ihejqt-2"})(an.b),Na=Object(_e.a)(A.a).withConfig({displayName:"projectCard__Typography",componentId:"sc-1ihejqt-3"})(an.b),Aa=Object(_e.a)(en.a).withConfig({displayName:"projectCard__Chip",componentId:"sc-1ihejqt-4"})(["height:20px;padding:4px 0;font-size:85%;color:black;margin-bottom:10px;"]),Ia=Object(_e.a)(ga.a).withConfig({displayName:"projectCard__AvatarGroup",componentId:"sc-1ihejqt-5"})(["margin-left:10px;"]),za=Object(F.a)((function(e){return{cardRoot:{padding:"10px"},chipContainer:{padding:"0px 15px 15px 15px"}}}));var Ea=function(e){var t=e.image,n=e.project,c=e.edit,i=Object(a.useState)(),r=Object(k.a)(i,2),s=r[0],o=r[1],l=Object(a.useState)(null),j=Object(k.a)(l,2),d=j[0],u=j[1],O=Object(a.useState)([]),m=Object(k.a)(O,2),h=m[0],p=m[1],f=Object(a.useState)(),g=Object(k.a)(f,2),y=g[0],w=g[1],C=za(),S=x("token");Object(a.useEffect)((function(){(function(e,t){return new Promise((function(n,a){b.get("task/count/".concat(e,"/task/read"),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))})(n._id,S).then((function(e){o(e)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){n&&(p(n.team_members.filter((function(e){return e._id!==n.team_leader._id})).slice(0,3)),w(n.team_leader))}),[n]);var A=function(e){"edit"===e&&c(n),u(null)};return Object(v.jsxs)(Ca,{mb:6,children:[t?Object(v.jsx)(Sa,{image:t,title:"Contemplative Reptile"}):null,Object(v.jsxs)(Ca,{className:C.cardRoot,children:[Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,xs:11,sm:11,md:11,children:Object(v.jsx)(Na,{gutterBottom:!0,variant:"h6",component:"h2",children:n.name})}),Object(v.jsxs)(N.a,{item:!0,xs:1,sm:1,md:1,children:[Object(v.jsx)(ka.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}}),Object(v.jsxs)(fe.a,{id:"simple-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:A,children:[Object(v.jsx)(ge.a,{onClick:function(){return A("edit")},children:Object(v.jsx)(_.a,{size:"small",color:"primary",children:"Edit"})}),Object(v.jsx)(ge.a,{children:Object(v.jsx)(ya,{id:n._id})})]})]})]}),s&&Object(v.jsxs)(N.a,{container:!0,spacing:3,className:C.chipContainer,children:[Object(v.jsx)(N.a,{item:!0,xs:4,sm:4,md:4,lg:4,children:Object(v.jsx)(Aa,{label:Object(v.jsxs)(v.Fragment,{children:["Open task: ",s.open]}),className:C.openChip})}),Object(v.jsx)(N.a,{item:!0,xs:4,sm:4,md:4,lg:4,children:Object(v.jsx)(Aa,{label:Object(v.jsxs)(v.Fragment,{children:["Done task: ",s.done]}),className:C.doneChip})}),Object(v.jsx)(N.a,{item:!0,xs:4,sm:4,md:4,lg:4,children:Object(v.jsx)(Aa,{label:Object(v.jsxs)(v.Fragment,{children:["Priority: ",n.priority]}),className:C.doneChip})})]}),Object(v.jsx)(Na,{mb:4,component:"body1",children:n.description}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"flex-start",children:[Object(v.jsx)(N.a,{item:!0,sm:3,xs:4,md:3,children:Object(v.jsxs)(se.a,{pl:1,children:[Object(v.jsx)("small",{children:"Team Lead"}),Object(v.jsx)(de,{name:y&&y.full_name,src:y&&y.headshot_url,size:35,textSize:13})]})}),Object(v.jsx)(N.a,{item:!0,sm:9,xs:8,md:9,children:Object(v.jsxs)(se.a,{pl:1,children:[Object(v.jsx)("small",{children:"Team members"}),Object(v.jsx)(Ia,{max:3,children:h.map((function(e,t){return Object(v.jsx)(de,{name:e.full_name,src:e.headshot_url,size:35,textSize:13})}))})]})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(_a,{}),Object(v.jsx)(se.a,{pl:1,children:Object(v.jsx)("a",{href:n.domain&&n.domain.name,children:"Learn more"})})]})]})},Pa=Object(F.a)((function(e){return{cardRoot:{padding:"10px 10px 10px 10px"},close:{position:"absolute",right:"5%"},button:{textTransform:"none",backgroundColor:"#3f51b5",width:"100%",color:"white",fontWeight:800,height:"40px",fontSize:"15px","&:hover":{backgroundColor:"#3f51b5"}},projectContainer:{padding:"15px"}}})),Fa=function(e){var t=e.edit,n=c.a.useState([]),a=Object(k.a)(n,2),i=a[0],r=a[1],s=x("token"),o=Pa();c.a.useEffect((function(){ua(s).then((function(e){r(e.projects)})).catch((function(e){console.log(e)}))}),[]);var l=i.map((function(e,n){return Object(v.jsx)(N.a,{item:!0,xs:12,sm:4,md:12,lg:4,children:Object(v.jsx)(Ea,{project:e,edit:t})},n)}));return Object(v.jsx)("div",{className:o.projectContainer,children:Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:l})})};function Ra(e){return new Promise((function(t,n){b.get("/domains/domain/read",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))}function Ba(e,t){return new Promise((function(n,a){b.post("/domain/filter/domain/read",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}var Da=Object(F.a)((function(e){return{button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Ta=function(){var e=c.a.useState(!1),t=Object(k.a)(e,2),n=t[0],a=t[1],i=c.a.useState([]),r=Object(k.a)(i,2),s=r[0],o=r[1],j=x("token"),d=Da(),u=c.a.useState({name:"",description:"",team_leader:"",team_members:"",domain:"",start_date:"",end_date:"",error:"",success:"",isLoading:!1}),O=Object(k.a)(u,2),m=O[0],h=O[1],p=c.a.useState(),f=Object(k.a)(p,2),g=f[0],y=f[1];c.a.useEffect((function(){Ra(j).then((function(e){y(e)})).catch((function(e){console.log(e)}))}),[]);var w=function(){a(!1),h(Object(l.a)(Object(l.a)({},m),{},{name:"",description:"",team_leader:"",team_members:"",start_date:"",end_date:"",success:"",error:""}))};c.a.useEffect((function(){pt(j).then((function(e){o(e.employees)})).catch((function(e){console.log(e)}))}),[]);var C=function(e){return function(t){switch(e){case"name":h(Object(l.a)(Object(l.a)({},m),{},{name:t.target.value}));break;case"description":h(Object(l.a)(Object(l.a)({},m),{},{description:t.target.value}));break;case"start_date":h(Object(l.a)(Object(l.a)({},m),{},{start_date:t.target.value}));break;case"end_date":h(Object(l.a)(Object(l.a)({},m),{},{end_date:t.target.value}));break;case"priority":h(Object(l.a)(Object(l.a)({},m),{},{priority:t.target.value}))}}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:d.button,onClick:function(){a(!0)},color:"primary",children:"Add Project"})}),Object(v.jsx)(Bt.a,{open:n,onClose:w,disableBackdropClick:!0,children:Object(v.jsx)("div",{className:d.dialogRoot,children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h(Object(l.a)(Object(l.a)({},m),{},{isLoading:!0})),function(e,t){return new Promise((function(n,a){b.post("/create/project/project/write",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}(m,j).then((function(e){h(Object(l.a)(Object(l.a)({},m),{},{name:"",description:"",team_leader:"",team_members:"",start_date:"",end_date:"",success:e.message,error:""}))})).catch((function(e){h(Object(l.a)(Object(l.a)({},m),{},{success:"",isLoading:!1,error:e.error}))}))},children:[Object(v.jsxs)(Dt.a,{children:[Object(v.jsxs)(Tt.a,{id:"customized-dialog-title",onClose:w,disableTypography:!0,className:d.root,children:[Object(v.jsx)(A.a,{variant:"h6",children:"Add a new project"}),n?Object(v.jsx)(K.a,{"aria-label":"close",onClick:w,className:d.closeButton,children:Object(v.jsx)(qt.a,{})}):null]}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:Object(v.jsxs)(N.a,{item:!0,sm:12,md:12,xs:12,children:[Object(v.jsxs)("div",{className:d.errorContainer,children:[m.success&&Object(v.jsx)(Mt.a,{severity:"success",children:m.success}),m.error&&Object(v.jsx)(Mt.a,{severity:"error",children:m.error})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,spacing:3,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,onChange:C("name"),variant:"outlined",label:"Project name"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,multiline:!0,rows:4,onChange:C("description"),variant:"outlined",label:"Description"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&h(Object(l.a)(Object(l.a)({},m),{},{team_leader:t._id}))},options:s,getOptionLabel:function(e){return e.full_name||""},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Team leader",variant:"outlined"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{multiple:!0,onChange:function(e,t){if(t){var n=t.map((function(e,t){return e._id}));h(Object(l.a)(Object(l.a)({},m),{},{team_members:n}))}},options:s,getOptionLabel:function(e){return e.full_name||""},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Team members",variant:"outlined"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&h(Object(l.a)(Object(l.a)({},m),{},{domain:t._id}))},options:g,getOptionLabel:function(e){return e.name||""},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Domain",variant:"outlined"}))}})})]})]})})]}),Object(v.jsx)(Lt.a,{children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:d.button,type:"submit",children:"Submit"})})})]})})})]})},La=Object(F.a)((function(e){return{button:{textTransform:"none",backgroundColor:"#3f51b5",color:"white",fontWeight:400,fontSize:"16px","&:hover":{backgroundColor:"#3f51b5"}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Wa=function(e){var t=e.status,n=e.modal,a=e.editProject,i=c.a.useState(!1),r=Object(k.a)(i,2),s=r[0],o=r[1],j=c.a.useState([]),d=Object(k.a)(j,2),u=d[0],O=d[1],m=x("token"),h=La(),p=c.a.useState({name:"",description:"",team_leader:"",team_members:"",domain:"",start_date:"",end_date:"",error:"",success:"",isLoading:!1}),f=Object(k.a)(p,2),g=f[0],y=f[1],w=c.a.useState(),C=Object(k.a)(w,2),I=C[0],z=C[1];c.a.useEffect((function(){Ra(m).then((function(e){z(e)})).catch((function(e){console.log(e)}))}),[]);var E=function(){o(!1),y(Object(l.a)(Object(l.a)({},g),{},{name:"",description:"",team_leader:"",team_members:"",start_date:"",end_date:"",success:"",error:""}))};c.a.useEffect((function(){pt(m).then((function(e){O(e.employees)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){t(s)}),[s]),c.a.useEffect((function(){o(n)}),[n]),c.a.useEffect((function(){a&&y(Object(l.a)(Object(l.a)({},g),{},{name:a.name,description:a.description,team_leader:a.team_leader,team_members:a.team_members,domain:a.domain}))}),[s]);var P=function(e){return function(t){switch(e){case"name":y(Object(l.a)(Object(l.a)({},g),{},{name:t.target.value}));break;case"description":y(Object(l.a)(Object(l.a)({},g),{},{description:t.target.value}));break;case"start_date":y(Object(l.a)(Object(l.a)({},g),{},{start_date:t.target.value}));break;case"end_date":y(Object(l.a)(Object(l.a)({},g),{},{end_date:t.target.value}));break;case"priority":y(Object(l.a)(Object(l.a)({},g),{},{priority:t.target.value}))}}};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Bt.a,{open:s,onClose:E,disableBackdropClick:!0,children:Object(v.jsx)("div",{className:h.dialogRoot,children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(Object(l.a)(Object(l.a)({},g),{},{isLoading:!0})),function(e,t,n){return new Promise((function(a,c){b.patch("/update/project/".concat(e,"/project/update"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}(a._id,g,m).then((function(e){y(Object(l.a)(Object(l.a)({},g),{},{name:"",description:"",team_leader:"",team_members:"",start_date:"",end_date:"",success:e.message,error:""}))})).catch((function(e){y(Object(l.a)(Object(l.a)({},g),{},{success:"",isLoading:!1,error:e.error}))}))},children:[Object(v.jsxs)(Dt.a,{children:[Object(v.jsxs)(Tt.a,{id:"customized-dialog-title",onClose:E,disableTypography:!0,className:h.root,children:[Object(v.jsx)(A.a,{variant:"h6",children:"Add a new project"}),s?Object(v.jsx)(K.a,{"aria-label":"close",onClick:E,className:h.closeButton,children:Object(v.jsx)(qt.a,{})}):null]}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:Object(v.jsxs)(N.a,{item:!0,sm:12,md:12,xs:12,children:[Object(v.jsxs)("div",{className:h.errorContainer,children:[g.success&&Object(v.jsx)(Mt.a,{severity:"success",children:g.success}),g.error&&Object(v.jsx)(Mt.a,{severity:"error",children:g.error})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,spacing:3,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,value:g.name,onChange:P("name"),variant:"outlined",label:"Project name"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,multiline:!0,rows:4,value:g.description,onChange:P("description"),variant:"outlined",label:"Description"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&y(Object(l.a)(Object(l.a)({},g),{},{team_leader:t._id}))},defaultValue:g.team_leader,options:u,getOptionLabel:function(e){return e.full_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Team leader",variant:"outlined"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{multiple:!0,defaultValue:g.team_members,onChange:function(e,t){if(t){var n=t.map((function(e,t){return e._id}));y(Object(l.a)(Object(l.a)({},g),{},{team_members:n}))}},options:u,getOptionLabel:function(e){return e.full_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Team members",variant:"outlined"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{defaultValue:g.domain,onChange:function(e,t){t&&y(Object(l.a)(Object(l.a)({},g),{},{domain:t._id}))},options:I,getOptionLabel:function(e){return e.name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Domain",variant:"outlined"}))}})})]})]})})]}),Object(v.jsx)(Lt.a,{children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:h.button,type:"submit",children:"Submit"})})})]})})})})},Ma=function(){var e=Object(a.useState)({open:!1,project:""}),t=Object(k.a)(e,2),n=t[0],c=t[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"project",permission:"read",children:[Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,md:9,sm:9,xs:12,children:Object(v.jsx)(se.a,{pl:3,children:Object(v.jsx)(A.a,{variant:"h5",children:"Projects"})})}),Object(v.jsx)(N.a,{item:!0,md:3,sm:3,xs:12,children:Object(v.jsx)(Ta,{})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(Fa,{edit:function(e){return c(Object(l.a)(Object(l.a)({},n),{},{open:!0,project:e}))}}),Object(v.jsx)(Wa,{editProject:n.project,status:function(e){return c(Object(l.a)(Object(l.a)({},n),{},{open:e}))},modal:n.open})]})})},Va=Object(F.a)((function(e){return{cardRoot:{padding:"10px"},formControl:{minWidth:120},submitBtn:{margin:"0px 1px"},btnContainer:{padding:"10px 0px 0px 0px"}}})),qa=function(e){var t=e.tasks,n=e.reload,c=Va(),i=Object(a.useState)([]),r=Object(k.a)(i,2),s=r[0],o=r[1],j=Object(a.useState)([]),d=Object(k.a)(j,2),b=d[0],u=d[1],O=Object(a.useState)({project:"",assignee:"",follower:"",owner:""}),m=Object(k.a)(O,2),h=m[0],p=m[1],f=Object(a.useState)({project_id:"",assignee:"",follower:"",owner:"",status:""}),g=Object(k.a)(f,2),y=g[0],w=g[1],C=x("token");Object(a.useEffect)((function(){ua(C).then((function(e){u(e.projects)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){pt(C).then((function(e){o(e.employees)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){ha(y,C).then((function(e){t(e)})).catch((function(e){console.log(e)}))}),[y,n]);var A=function(e){return function(t){switch(e){case"project":0===t.target.value.length&&w(Object(l.a)(Object(l.a)({},y),{},{project_id:""}));break;case"assignee":0===t.target.value.length&&w(Object(l.a)(Object(l.a)({},y),{},{assignee:""}));break;case"follower":0===t.target.value.length&&w(Object(l.a)(Object(l.a)({},y),{},{follower:""}));break;case"owner":0===t.target.value.length&&w(Object(l.a)(Object(l.a)({},y),{},{owner:""}))}}};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Nt.a,{className:c.cardRoot,children:Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),ha(y,C).then((function(e){t(e)})).catch((function(e){console.log(e)}))},children:Object(v.jsxs)(N.a,{container:!0,spacing:2,justify:"center",children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&(w(Object(l.a)(Object(l.a)({},y),{},{project_id:t._id})),p(Object(l.a)(Object(l.a)({},h),{},{project:t})))},closeIcon:Object(v.jsx)(v.Fragment,{}),value:h.project,size:"small",options:b,getOptionLabel:function(e){return e.name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Project",variant:"outlined",onChange:A("project")}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(Wt.a,{closeIcon:Object(v.jsx)(v.Fragment,{}),onChange:function(e,t){t&&(w(Object(l.a)(Object(l.a)({},y),{},{assignee:t._id})),p(Object(l.a)(Object(l.a)({},h),{},{assignee:t})))},value:h.assignee,size:"small",options:s,getOptionLabel:function(e){return e.first_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Assignee",variant:"outlined",onChange:A("assignee")}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(Wt.a,{closeIcon:Object(v.jsx)(v.Fragment,{}),onChange:function(e,t){t&&(w(Object(l.a)(Object(l.a)({},y),{},{follower:t._id})),p(Object(l.a)(Object(l.a)({},h),{},{follower:t})))},size:"small",value:h.follower,options:s,getOptionLabel:function(e){return e.first_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Reporter",variant:"outlined",onChange:A("follower")}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsxs)(On.a,{className:c.formControl,variant:"outlined",size:"small",fullWidth:!0,children:[Object(v.jsx)(un.a,{children:"Status"}),Object(v.jsxs)(mn.a,{value:y.status,label:"Status",onChange:function(e){return w(Object(l.a)(Object(l.a)({},y),{},{status:e.target.value}))},children:[Object(v.jsx)(ge.a,{value:"Open",children:"Open"}),Object(v.jsx)(ge.a,{value:"Blog Review",children:"Blog Review"}),Object(v.jsx)(ge.a,{value:"Closed",children:"Closed"}),Object(v.jsx)(ge.a,{value:"Done",children:"Done"})]})]})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(N.a,{container:!0,justify:"flex-start",spacing:1,className:c.btnContainer,children:Object(v.jsx)(N.a,{xs:12,sm:12,md:12,lg:12,children:Object(v.jsx)(_.a,{size:"small",variant:"contained",color:"primary",onClick:function(){w(Object(l.a)(Object(l.a)({},y),{},{project_id:"",assignee:"",follower:"",owner:"",status:""})),p(Object(l.a)(Object(l.a)({},h),{},{project:"",assignee:"",follower:"",owner:""}))},children:"Reset"})})})})]})})})})},Ua=n(35);function Ha(e,t){return new Promise((function(n,a){b.post("/upload-file",e,{headers:{"Access-Control-Allow-Origin":"*",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}var Ga=n(393),Ya=n.n(Ga),Ja=g()&&g()._id,$a=Object(F.a)((function(e){return{dialogRoot:{},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),Xa=function(e){var t=e.reload,n=$a(),a=c.a.useState([]),i=Object(k.a)(a,2),r=i[0],s=i[1],o=c.a.useState([]),j=Object(k.a)(o,2),d=j[0],b=j[1],u=c.a.useState(!1),O=Object(k.a)(u,2),m=O[0],h=O[1],p=c.a.useState(!1),f=Object(k.a)(p,2),g=f[0],y=f[1],w=c.a.useState(!1),C=Object(k.a)(w,2),z=C[0],E=C[1],P=x("token"),F=function(){E(!1)},R=c.a.useState({title:"",owner:Ja,description:"",project_id:"",assignee:"",follower:"",deadline:"",attachments:[],isLoading:!1}),B=Object(k.a)(R,2),D=B[0],T=B[1];c.a.useEffect((function(){ua(P).then((function(e){s(e.projects)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){pt(P).then((function(e){b(e.employees)})).catch((function(e){console.log(e)}))}),[]);var L=function(e){return function(){var t=Object(U.a)(q.a.mark((function t(n){var a,c,i;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next="title"===t.t0?3:"description"===t.t0?5:"deadline"===t.t0?7:"attachments"===t.t0?9:18;break;case 3:return T(Object(l.a)(Object(l.a)({},D),{},{title:n.target.value})),t.abrupt("break",18);case 5:return T(Object(l.a)(Object(l.a)({},D),{},{description:n.target.value})),t.abrupt("break",18);case 7:return T(Object(l.a)(Object(l.a)({},D),{},{deadline:n.target.value})),t.abrupt("break",18);case 9:return a=n.target.files[0],(c=new FormData).append("upload",a),t.next=14,W(c);case 14:return i=t.sent,h(!1),T(Object(l.a)(Object(l.a)({},D),{},{attachments:[].concat(Object(Ua.a)(D.attachments),[{url:i,filename:a.name}])})),t.abrupt("break",18);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function W(e){return M.apply(this,arguments)}function M(){return(M=Object(U.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Ha(t,P);case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.url);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(){var e=Object(U.a)(q.a.mark((function e(n){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,T(Object(l.a)(Object(l.a)({},D),{},{isLoading:!0})),e.next=5,Oa(D,P);case 5:a=e.sent,I.b.success(a.message),T(Object(l.a)(Object(l.a)({},D),{},{title:"",owner:"",description:"",project_id:"",assignee:"",follower:"",deadline:"",error:"",success:"",isLoading:!1})),y(!g),t(g),F(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),I.b.error(e.t0.error),T(Object(l.a)(Object(l.a)({},D),{},{isLoading:!1}));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I.a,{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:n.button,onClick:function(){E(!0)},color:"primary",children:"Create Task"})}),Object(v.jsx)(Bt.a,{open:z,onClose:F,disableBackdropClick:!0,children:Object(v.jsx)("div",{className:n.dialogRoot,children:Object(v.jsxs)("form",{onSubmit:V,children:[Object(v.jsxs)(Dt.a,{children:[Object(v.jsxs)(Tt.a,{id:"customized-dialog-title",onClose:F,disableTypography:!0,className:n.root,children:[Object(v.jsx)(A.a,{variant:"h6",children:"Create a new task"}),z?Object(v.jsx)(K.a,{"aria-label":"close",onClick:F,className:n.closeButton,children:Object(v.jsx)(qt.a,{})}):null]}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:Object(v.jsx)(N.a,{item:!0,sm:12,md:12,xs:12,children:Object(v.jsx)("form",{onSubmit:V,children:Object(v.jsxs)(N.a,{container:!0,spacing:3,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,onChange:L("title"),variant:"outlined",label:"Title"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,multiline:!0,onChange:L("description"),variant:"outlined",label:"Description"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&T(Object(l.a)(Object(l.a)({},D),{},{project_id:t._id}))},options:r,getOptionLabel:function(e){return e.name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Project",variant:"outlined"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&T(Object(l.a)(Object(l.a)({},D),{},{assignee:t._id}))},options:d,getOptionLabel:function(e){return e.first_name+" "+e.last_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Assignee",variant:"outlined"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&T(Object(l.a)(Object(l.a)({},D),{},{follower:t._id}))},options:d,getOptionLabel:function(e){return e.first_name+" "+e.last_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Reporter",variant:"outlined"}))}})}),Object(v.jsxs)(N.a,{item:!0,xs:12,sm:12,md:12,children:[Object(v.jsx)("input",{onChange:L("attachments"),accept:".pdf,.doc",style:{display:"none"},id:"raised-button-file",type:"file"}),Object(v.jsx)("label",{htmlFor:"raised-button-file",children:Object(v.jsx)(_.a,{className:n.uploadButton,variant:"contained",disabled:m,component:"span",style:{backgroundColor:"dodgerblue",textTransform:"none",color:"white"},size:"small",children:m?"File Uploading ...":"Add Attachments"})}),Object(v.jsx)("table",{children:D.attachments.map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("li",{})}),Object(v.jsx)("td",{children:Object(v.jsx)("a",{href:e.url,target:"_blank",style:{color:"dodgerblue",textDecoration:"underline"},children:e.filename})}),Object(v.jsx)("td",{children:Object(v.jsx)(Ya.a,{style:{cursor:"pointer"},onClick:function(){return function(e){var t=D.attachments.filter((function(t,n){return n!==e}));T(Object(l.a)(Object(l.a)({},D),{},{attachments:t}))}(t)}})})]})})}))})]})]})})})})]}),Object(v.jsx)(Lt.a,{children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(_.a,{size:"large",variant:"contained",className:n.button,type:"submit",children:D.isLoading?"Submitting...":"Submit"})})})})]})})})]})},Ka=n(824),Qa=n(825);function Za(e){var t=e.id,n=c.a.useState(!1),a=Object(k.a)(n,2),i=a[0],r=a[1],s=x("token"),o=function(e){return function(n){if("delete"===e)return function(e,t){return new Promise((function(n,a){b.patch("/delete/task/".concat(e,"/task/delete"),{},{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}(t,s).then((function(e){setTimeout((function(){r(!1)}),1e3),console.log(e)})).catch((function(e){console.log(e)}));"cancel"===e&&r(!1)}};return Object(v.jsxs)("div",{children:[Object(v.jsx)(_.a,{size:"large",variant:"contained",color:"secondary",onClick:function(){r(!0)},children:"Delete"}),Object(v.jsxs)(Bt.a,{open:i,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(v.jsx)(Tt.a,{id:"alert-dialog-title",children:"Deleting Task"}),Object(v.jsx)(Dt.a,{children:Object(v.jsx)(va.a,{id:"alert-dialog-description",children:"Are you sure want to Delete this Task ?"})}),Object(v.jsxs)(Lt.a,{children:[Object(v.jsx)(_.a,{onClick:o("cancel"),color:"primary",children:"Cancel"}),Object(v.jsx)(_.a,{onClick:o("delete"),color:"primary",autoFocus:!0,children:"Delete"})]})]})]})}var ec=g()&&g()._id,tc=Object(F.a)((function(e){return{dialogRoot:{},button:{textTransform:"none",backgroundColor:"#3f51b5",color:"white",fontWeight:400,fontSize:"15px","&:hover":{backgroundColor:"#3f51b5"}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},formControl:{minWidth:120,width:"100%"}}})),nc=function(e){var t=e.editTask,n=e.reload,a=tc(),i=c.a.useState([]),r=Object(k.a)(i,2),s=r[0],o=r[1],j=c.a.useState(!1),d=Object(k.a)(j,2),b=d[0],u=d[1],O=c.a.useState([]),m=Object(k.a)(O,2),h=m[0],p=m[1],f=c.a.useState(!1),g=Object(k.a)(f,2),y=g[0],w=g[1],C=c.a.useState(!1),z=Object(k.a)(C,2),E=z[0],P=z[1],F=c.a.useState(!1),R=Object(k.a)(F,2),B=R[0],D=R[1],T=x("token"),L=function(){D(!1)},W=c.a.useState({title:"",owner:ec,description:"",status:"",project_id:"",assignee:"",follower:"",deadline:"",error:"",success:"",isLoading:!1}),M=Object(k.a)(W,2),V=M[0],H=M[1];c.a.useEffect((function(){ua(T).then((function(e){o(e.projects)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){H(Object(l.a)(Object(l.a)({},V),{},{title:t.title,status:t.status,description:t.description,project_id:t.project_id,assignee:t.assignee,attachments:t.attachments,follower:t.follower}))}),[B]),c.a.useEffect((function(){pt(T).then((function(e){p(e.employees)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){Object(U.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt("task","update",T);case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})))()}),[]);var G=function(e){return function(){var t=Object(U.a)(q.a.mark((function t(n){var a,c,i;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next="title"===t.t0?3:"description"===t.t0?5:"deadline"===t.t0?7:"attachments"===t.t0?9:18;break;case 3:return H(Object(l.a)(Object(l.a)({},V),{},{title:n.target.value})),t.abrupt("break",18);case 5:return H(Object(l.a)(Object(l.a)({},V),{},{description:n.target.value})),t.abrupt("break",18);case 7:return H(Object(l.a)(Object(l.a)({},V),{},{deadline:n.target.value})),t.abrupt("break",18);case 9:return a=n.target.files[0],(c=new FormData).append("upload",a),t.next=14,J(c);case 14:return i=t.sent,u(!1),H(Object(l.a)(Object(l.a)({},V),{},{attachments:[].concat(Object(Ua.a)(V.attachments),[{url:i,filename:a.name}])})),t.abrupt("break",18);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){e.preventDefault(),H(Object(l.a)(Object(l.a)({},V),{},{isLoading:!0})),ma(t._id,V,T).then((function(e){I.b.success(e.message),H(Object(l.a)(Object(l.a)({},V),{},{title:"",owner:"",description:"",project_id:"",assignee:"",follower:"",deadline:"",error:"",success:"",isLoading:!1})),P(!E),n(E),L()})).catch((function(e){I.b.error(e.error),H(Object(l.a)(Object(l.a)({},V),{},{error:e.error,success:"",isLoading:!1}))}))};function J(e){return $.apply(this,arguments)}function $(){return($=Object(U.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Ha(t,T);case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.url);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I.a,{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(se.a,{children:Object(v.jsx)(K.a,{"aria-label":"details",onClick:function(){D(!0)},children:Object(v.jsx)(Ka.a,{})})})}),Object(v.jsx)(Bt.a,{open:B,onClose:L,disableBackdropClick:!0,children:Object(v.jsx)("div",{className:a.dialogRoot,children:Object(v.jsxs)("form",{onSubmit:Y,children:[Object(v.jsxs)(Dt.a,{children:[Object(v.jsxs)(Tt.a,{id:"customized-dialog-title",onClose:L,disableTypography:!0,className:a.root,children:[Object(v.jsx)(A.a,{variant:"h6",children:"Update Task"}),B?Object(v.jsx)(K.a,{"aria-label":"close",onClick:L,className:a.closeButton,children:Object(v.jsx)(qt.a,{})}):null]}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:Object(v.jsxs)(N.a,{item:!0,sm:12,md:12,xs:12,children:[Object(v.jsx)("br",{}),Object(v.jsx)("form",{onSubmit:Y,children:Object(v.jsxs)(N.a,{container:!0,spacing:3,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,value:V.title,onChange:G("title"),variant:"outlined",label:"Title"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,multiline:!0,rows:3,onChange:G("description"),value:V.description,variant:"outlined",label:"Description"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{defaultValue:V.project_id,onChange:function(e,t){t&&H(Object(l.a)(Object(l.a)({},V),{},{project_id:t._id}))},disabled:!y,options:s,getOptionLabel:function(e){return e.name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Project",variant:"outlined"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsxs)(On.a,{variant:"outlined",className:a.formControl,children:[Object(v.jsx)(un.a,{id:"demo-simple-select-outlined-label",children:"Status"}),Object(v.jsxs)(mn.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:V.status,onChange:function(e){return H(Object(l.a)(Object(l.a)({},V),{},{status:e.target.value}))},label:"Status",children:[Object(v.jsx)(ge.a,{value:"Open",children:"Open"}),Object(v.jsx)(ge.a,{value:"Blog Review",children:"Blog Review"}),Object(v.jsx)(ge.a,{value:"Done",children:"Done"}),Object(v.jsx)(ge.a,{value:"Closed",children:"Closed"})]})]})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{defaultValue:V.assignee,onChange:function(e,t){t&&H(Object(l.a)(Object(l.a)({},V),{},{assignee:t._id}))},disabled:!y,options:h,getOptionLabel:function(e){return e.full_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Assignee",variant:"outlined"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{defaultValue:V.follower,onChange:function(e,t){if(t){var n=t.map((function(e,t){return e._id}));H(Object(l.a)(Object(l.a)({},V),{},{follower:n}))}},disabled:!y,options:h,getOptionLabel:function(e){return e.full_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Reporter",variant:"outlined"}))}})}),Object(v.jsxs)(N.a,{item:!0,xs:12,sm:12,md:12,children:[Object(v.jsx)("input",{onChange:G("attachments"),accept:".pdf,.doc",style:{display:"none"},id:"raised-button-file",type:"file"}),Object(v.jsx)("label",{htmlFor:"raised-button-file",children:Object(v.jsx)(_.a,{className:a.uploadButton,variant:"contained",disabled:b,component:"span",style:{backgroundColor:"dodgerblue",textTransform:"none",color:"white"},size:"small",children:b?"File Uploading ...":"Add Attachments"})}),Object(v.jsx)("table",{children:V.attachments&&V.attachments.map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("li",{})}),Object(v.jsx)("td",{children:Object(v.jsx)("a",{href:e.url,target:"_blank",style:{color:"dodgerblue",textDecoration:"underline"},children:e.filename})}),Object(v.jsx)("td",{children:Object(v.jsx)(Qa.a,{style:{cursor:"pointer"},onClick:function(){return function(e){var t=V.attachments.filter((function(t,n){return n!==e}));H(Object(l.a)(Object(l.a)({},V),{},{attachments:t}))}(t)}})})]})})}))})]})]})})]})})]}),Object(v.jsx)(Lt.a,{children:Object(v.jsxs)(N.a,{container:!0,justify:"center",children:[Object(v.jsx)(se.a,{p:1,children:Object(v.jsx)(Za,{id:t._id})}),Object(v.jsx)(se.a,{p:1,children:Object(v.jsx)(_.a,{size:"large",variant:"contained",disabled:b,className:a.button,type:"submit",children:"Submit"})})]})})]})})})]})},ac=g()&&g()._id,cc=Object(F.a)((function(e){return{dialogRoot:{},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},formControl:{minWidth:120,width:"100%"}}})),ic=function(e){var t,n=e.editTask,a=e.reload,i=cc(),r=c.a.useState([]),s=Object(k.a)(r,2),o=s[0],j=s[1],d=c.a.useState([]),b=Object(k.a)(d,2),u=b[0],O=b[1],m=c.a.useState(!1),h=Object(k.a)(m,2),p=h[0],f=h[1],g=c.a.useState(!1),y=Object(k.a)(g,2),w=y[0],_=y[1],z=x("token"),E=function(){_(!1)},P=c.a.useState({title:"",owner:ac,description:"",status:"",project_id:"",assignee:"",follower:"",deadline:"",error:"",success:"",isLoading:!1}),F=Object(k.a)(P,2),R=F[0],B=F[1];c.a.useEffect((function(){ua(z).then((function(e){j(e.projects)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){B(Object(l.a)(Object(l.a)({},R),{},{title:n.title,status:n.status,description:n.description,project_id:n.project_id,assignee:n.assignee,follower:n.follower}))}),[w]),c.a.useEffect((function(){pt(z).then((function(e){O(e.employees)})).catch((function(e){console.log(e)}))}),[]);var D=function(e){return function(t){switch(e){case"title":B(Object(l.a)(Object(l.a)({},R),{},{title:t.target.value}));break;case"description":B(Object(l.a)(Object(l.a)({},R),{},{description:t.target.value}));break;case"deadline":B(Object(l.a)(Object(l.a)({},R),{},{deadline:t.target.value}))}}},T=function(e){e.preventDefault(),B(Object(l.a)(Object(l.a)({},R),{},{isLoading:!0})),ma(n._id,R,z).then((function(e){I.b.success(e.message),B(Object(l.a)(Object(l.a)({},R),{},{title:"",owner:"",description:"",project_id:"",assignee:"",follower:"",deadline:"",error:"",success:"",isLoading:!1})),f(!p),a(p),E()})).catch((function(e){I.b.error(e.error),B(Object(l.a)(Object(l.a)({},R),{},{error:e.error,success:"",isLoading:!1}))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I.a,{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(se.a,{children:Object(v.jsx)(K.a,{"aria-label":"details",onClick:function(){_(!0)},children:Object(v.jsx)(nn.a,{})})})}),Object(v.jsx)(Bt.a,{open:w,onClose:E,disableBackdropClick:!0,children:Object(v.jsx)("div",{className:i.dialogRoot,children:Object(v.jsx)("form",{onSubmit:T,children:Object(v.jsxs)(Dt.a,{children:[Object(v.jsxs)(Tt.a,{id:"customized-dialog-title",onClose:E,disableTypography:!0,className:i.root,children:[Object(v.jsx)(A.a,{variant:"h6",children:"Task"}),w?Object(v.jsx)(K.a,{"aria-label":"close",onClick:E,className:i.closeButton,children:Object(v.jsx)(qt.a,{})}):null]}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:Object(v.jsxs)(N.a,{item:!0,sm:12,md:12,xs:12,children:[Object(v.jsx)("br",{}),Object(v.jsx)("form",{onSubmit:T,children:Object(v.jsxs)(N.a,{container:!0,spacing:3,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,disabled:!0,size:"small",value:R.title,onChange:D("title"),label:"Title"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,disabled:!0,multiline:!0,size:"small",onChange:D("description"),value:R.description,label:"Description"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,(t={disabled:!0,size:"small",defaultValue:R.project_id,onChange:function(e,t){t&&B(Object(l.a)(Object(l.a)({},R),{},{project_id:t._id}))}},Object(C.a)(t,"disabled",!0),Object(C.a)(t,"options",o),Object(C.a)(t,"getOptionLabel",(function(e){return e.name})),Object(C.a)(t,"style",{width:"100%"}),Object(C.a)(t,"renderInput",(function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Project"}))})),t))}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsxs)(On.a,{size:"small",disabled:!0,className:i.formControl,children:[Object(v.jsx)(un.a,{id:"demo-simple-select-outlined-label",children:"Status"}),Object(v.jsxs)(mn.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:R.status,onChange:function(e){return B(Object(l.a)(Object(l.a)({},R),{},{status:e.target.value}))},label:"Status",children:[Object(v.jsx)(ge.a,{value:"Open",children:"Open"}),Object(v.jsx)(ge.a,{value:"Closed",children:"Closed"}),Object(v.jsx)(ge.a,{value:"Done",children:"Done"})]})]})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{size:"small",defaultValue:R.assignee,onChange:function(e,t){t&&B(Object(l.a)(Object(l.a)({},R),{},{assignee:t._id}))},disabled:!0,options:u,getOptionLabel:function(e){return e.full_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Assignee"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{size:"small",defaultValue:R.follower,onChange:function(e,t){if(t){var n=t.map((function(e,t){return e._id}));B(Object(l.a)(Object(l.a)({},R),{},{follower:n}))}},disabled:!0,options:u,getOptionLabel:function(e){return e.full_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Reporter"}))}})})]})})]})})]})})})})]})},rc=Object(_e.a)(Gt.a).withConfig({displayName:"taskList__Paper",componentId:"sc-8pv6li-0"})(an.b);function sc(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function oc(e,t){return"desc"===e?function(e,n){return sc(e,n,t)}:function(e,n){return-sc(e,n,t)}}function lc(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var jc=[{id:"task_id",alignment:"left",label:"Task ID"},{id:"task_name",alignment:"left",label:"Task name"},{id:"assignee",alignment:"left",label:"Assignee"},{id:"reporter",alignment:"left",label:"Reporter"},{id:"attachments",alignment:"left",label:"Attachments"},{id:"status",alignment:"left",label:"Status"},{id:"project",alignment:"left",label:"Project"},{id:"actions",alignment:"center",label:"Action"}];function dc(e){var t=e.order,n=e.orderBy,a=e.onRequestSort;return Object(v.jsx)(Yt.a,{children:Object(v.jsx)(Jt.a,{children:jc.map((function(e){return Object(v.jsx)($t.a,{align:e.alignment,padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,children:Object(v.jsx)(Xt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:e.label})},e.id);var c}))})})}function bc(e){var t=e.tasks,n=e.reload,a=c.a.useState("asc"),i=Object(k.a)(a,2),r=i[0],s=i[1],o=c.a.useState("customer"),l=Object(k.a)(o,2),j=l[0],d=l[1],b=c.a.useState([]),u=Object(k.a)(b,2),O=u[0],m=u[1],h=c.a.useState(0),x=Object(k.a)(h,2),p=x[0],f=x[1],g=c.a.useState(10),y=Object(k.a)(g,2),w=y[0],C=y[1],S=w-Math.min(w,t.length-p*w);return Object(v.jsx)("div",{children:Object(v.jsxs)(rc,{children:[Object(v.jsx)(Kt.a,{children:Object(v.jsxs)(Qt.a,{"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(v.jsx)(dc,{numSelected:O.length,order:r,orderBy:j,onSelectAllClick:function(e){if(e.target.checked){var n=t.map((function(e){return e.id}));m(n)}else m([])},onRequestSort:function(e,t){s(j===t&&"asc"===r?"desc":"asc"),d(t)},rowCount:t.length}),0===t.length?Object(v.jsx)(se.a,{p:2,children:Object(v.jsx)(A.a,{variant:"h5",children:"No task found"})}):Object(v.jsxs)(Zt.a,{children:[lc(t,oc(r,j)).slice(p*w,p*w+w).map((function(e,t){var a,c=(a=e._id,-1!==O.indexOf(a)),i=e.attachments;return Object(v.jsxs)(Jt.a,{hover:!0,role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[Object(v.jsx)($t.a,{align:"left",children:e.task_id}),Object(v.jsx)($t.a,{align:"left",children:e.title}),Object(v.jsx)($t.a,{align:"left",children:Object(v.jsx)(en.a,{size:"small",label:e.assignee&&e.assignee.full_name,color:"primary"})}),Object(v.jsx)($t.a,{align:"left",children:Object(v.jsx)(en.a,{size:"small",label:e.follower&&e.follower.full_name,color:"primary"})}),Object(v.jsx)($t.a,{align:"left",children:Object(v.jsx)("table",{children:i.map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("li",{})}),Object(v.jsx)("td",{children:Object(v.jsx)("a",{href:e.url,target:"_blank",style:{color:"dodgerblue",textDecoration:"underline"},children:e.filename})})]})})}))})}),Object(v.jsxs)($t.a,{children:["Open"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)"}}),"Blog Review"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"#f5c303",color:"rgb(255, 255, 255)"}}),"Closed"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}}),"Done"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}})]}),Object(v.jsx)($t.a,{align:"left",children:e.project_id.name}),Object(v.jsx)($t.a,{padding:"none",align:"right",children:Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(ic,{editTask:e,reload:function(e){return n(e)}})}),Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(nc,{editTask:e,reload:function(e){return n(e)}})})]})})]},"".concat(e.title,"-").concat(t))})),S>0&&Object(v.jsx)(Jt.a,{style:{height:20*S},children:Object(v.jsx)($t.a,{colSpan:8})})]})]})}),Object(v.jsx)(tn.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:w,page:p,onChangePage:function(e,t){f(t)},onChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),f(0)}})]})})}var uc=function(e){var t=e.taskList,n=e.reload;return Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(N.a,{container:!0,spacing:6,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(v.jsx)(bc,{tasks:t,reload:function(e){return n(e)}})})})})},Oc=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),s=Object(k.a)(r,2),o=s[0],l=s[1],j=c.a.useState(!1),d=Object(k.a)(j,2),b=d[0],u=d[1];return Object(a.useEffect)((function(){l(n)}),[n,b]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"task",permission:"read",children:[Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,md:9,sm:9,xs:12,children:Object(v.jsx)(se.a,{pl:3,children:Object(v.jsx)(A.a,{variant:"h5",children:"Tasks"})})}),Object(v.jsx)(N.a,{item:!0,md:3,sm:3,xs:12,children:Object(v.jsx)(Xa,{reload:function(e){return u(!b)}})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(qa,{tasks:function(e){return i(e)},reload:b}),Object(v.jsx)(uc,{taskList:o,reload:function(e){return u(!b)}})]})})};function mc(e,t){return new Promise((function(n,a){b.post("/create/channel/channel/write",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}function hc(e,t){return new Promise((function(n,a){b.get("/get/channels/".concat(e,"/channel/read"),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}var xc=g()&&g()._id,pc=Object(F.a)((function(e){return{cardRoot:{padding:"30px 10px 30px 10px"},icon:{color:"#76ff03"},time:{fontSize:"10px",color:"grey"},button:{textTransform:"none",backgroundColor:"#3f51b5",width:"180px",fontWeight:800,height:"40px",color:"white",fontSize:"15px","&:hover":{backgroundColor:"#3f51b5"}},channelName:{color:"black"},senderName:{fontSize:"15px",fontWeight:500,fontFamily:"sans-serif",paddingTop:"4px",lineHeight:"1.0"},message:{fontSize:"14px",fontFamily:"sans-serif",padding:"6px 3px 6px 3px",backgroundColor:"rgb(107 116 162 / 4%)"}}})),fc={color:"secondary"};var gc=function(){var e=Object(o.g)(),t=pc(),n=x("token"),a=c.a.useState([]),i=Object(k.a)(a,2),r=i[0],s=i[1];c.a.useEffect((function(){hc(xc,n).then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[e.location.pathname]);var j=r.map((function(n,a){return Object(v.jsx)("div",{children:Object(v.jsx)(ce.a,{selected:(c="/chats/".concat(n.channel_name),c===e.location.pathname),button:!0,onClick:function(){return e.push("/chats/".concat(n.channel_name,"?id=").concat(n._id))},children:Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,xs:10,sm:10,md:10,className:t.channelName,children:Object(v.jsx)(A.a,{variant:"body1",children:"#".concat(n.channel_name)})}),Object(v.jsx)(N.a,{item:!0,xs:2,sm:2,md:2,children:Object(v.jsx)(Ae.a,Object(l.a)({badgeContent:n.unread},fc))})]})})},a);var c}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(_t,{page:"channel",permission:"read",children:Object(v.jsxs)(N.a,{container:!0,justify:"flex-start",spacing:3,children:[Object(v.jsx)(N.a,{item:!0,sm:6,md:3,xs:12,children:Object(v.jsxs)(Nt.a,{className:t.cardRoot,children:[Object(v.jsx)(A.a,{variant:"h6",align:"center",children:"Subscribed Channels"}),Object(v.jsx)("br",{}),j]})}),Object(v.jsx)(N.a,{item:!0,sm:6,md:6,xs:12,children:Object(v.jsx)(Nt.a,{})})]})})})},vc=n(394),yc=n.n(vc),wc=x("token"),kc=yc()("http://onemedia.click",{reconnectionDelayMax:1e4,auth:{token:wc}}),Cc=n(395),Sc=n.n(Cc),_c=Object(F.a)((function(e){return{name:{color:"black"},buttonRoot:{padding:"7px"},online:{position:"absolute",top:"38px",right:"10px",width:"9px",height:"9px",background:"#1fe61f",borderRadius:"50%"},offline:{position:"absolute",top:"38px",right:"10px",width:"9px",height:"9px",background:"#c9c9c9",borderRadius:"50%"},userListing:{height:"75vh",backgroundColor:"white",overflowY:"scroll"}}})),Nc=function(e){var t=e.url,n=e.getOnlineUsers,a=_c(),i=c.a.useState([]),r=Object(k.a)(i,2),o=r[0],l=r[1],j=c.a.useState(!1),d=Object(k.a)(j,2),b=d[0],u=d[1],O=c.a.useState([]),m=Object(k.a)(O,2),h=m[0],p=m[1],f=c.a.useState([]),y=Object(k.a)(f,2),w=(y[0],y[1]),C=c.a.useState(),S=Object(k.a)(C,2),_=(S[0],S[1]),I=c.a.useState([]),z=Object(k.a)(I,2),E=z[0],P=z[1],F=x("token");c.a.useEffect((function(){kc.on("connection",(function(e){p(e.onlineUsers),n(e.onlineUsers)})),kc.on("disconnected",(function(e){p(e.onlineUsers),n(e.onlineUsers)})),kc.emit("urlChanged",{url:t}),kc.on("urlChanged",(function(e){p(e.onlineUsers),n(e.onlineUsers)})),kc.on("online",(function(e){p(e.onlineUsers),n(e.onlineUsers)}))}),[]),c.a.useEffect((function(){Object(U.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft(F);case 2:t=e.sent,l(t.employees);case 4:case"end":return e.stop()}}),e)})))()}),[]),c.a.useEffect((function(){u(!b)}),[]),c.a.useEffect((function(){if(o){for(var e=o,t=function(t){e=e.filter((function(e){return e._id!==h[t]._id}))},n=0;n<h.length;n++)t(n);P([].concat(Object(Ua.a)(h),Object(Ua.a)(e))),w(e)}}),[h,o]);function R(){return 0!==E.length?E.map((function(e,t){if(e._id!==(g()&&g()._id))return e.socketId?Object(v.jsx)(s.b,{to:{pathname:"/chats/private/".concat(e._id),state:{selectedReceiver:e}},children:Object(v.jsx)(se.a,{onClick:function(){return _(e)},children:Object(v.jsxs)(N.a,{container:!0,className:a.selected,children:[Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(se.a,{children:Object(v.jsx)("div",{children:Object(v.jsxs)(K.a,{className:a.buttonRoot,children:[Object(v.jsx)(de,{name:e.full_name,src:e.headshot_url,size:37,textSize:20}),Object(v.jsx)("span",{className:a.online})]})})})}),Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(se.a,{pt:2,children:Object(v.jsx)(A.a,{variant:"body2",className:a.name,children:e.full_name})})})]})})}):Object(v.jsx)(s.b,{to:{pathname:"/chats/private/".concat(e._id),state:{selectedReceiver:e}},children:Object(v.jsx)(se.a,{onClick:function(){return _(e)},children:Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(se.a,{children:Object(v.jsx)("div",{children:Object(v.jsxs)(K.a,{className:a.buttonRoot,children:[Object(v.jsx)(de,{name:e.full_name,src:e.headshot_url,size:37,textSize:20}),Object(v.jsx)("span",{className:a.offline})]})})})}),Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(se.a,{pt:2,children:Object(v.jsx)(A.a,{variant:"body2",className:a.name,children:e.full_name})})})]})})})})):Object(v.jsx)(v.Fragment,{})}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsx)(Sc.a,{onChange:function(e){if(0!==e.length)P(E.filter((function(t){return t.full_name.toLowerCase().split(" ").join("").includes(e.toLowerCase().split(" ").join(""))})));else{for(var t=o,n=function(e){t=t.filter((function(t){return t._id!==h[e]._id}))},a=0;a<h.length;a++)n(a);P([].concat(Object(Ua.a)(h),Object(Ua.a)(t))),w(t)}}}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:a.userListing,children:Object(v.jsx)(R,{})})]})},Ac=function(){var e=x("token"),t=Object(a.useState)([]),n=Object(k.a)(t,2),i=(n[0],n[1]);return c.a.useEffect((function(){Object(U.a)(q.a.mark((function t(){var n;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee(e);case 2:n=t.sent,i(n);case 4:case"end":return t.stop()}}),t)})))()}),[]),Object(v.jsx)(v.Fragment,{})},Ic=Object(o.h)((function(e){var t=e.match.url,n=c.a.useState(),a=Object(k.a)(n,2),i=(a[0],a[1]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(_t,{children:Object(v.jsxs)(N.a,{container:!0,justify:"flex-start",children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:3,md:3,lg:3,children:Object(v.jsx)(Nc,{url:t,getOnlineUsers:function(e){return i(e)}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:9,md:9,lg:9,children:Object(v.jsx)(Ac,{})})]})})})})),zc=n(826),Ec=n(59),Pc=n.n(Ec),Fc=n(396),Rc=n(398),Bc=n(399),Dc=n.n(Bc),Tc=Object(F.a)({list:{width:250},fullList:{width:"auto"},drawer:{"& .MuiDrawer-paper":{background:"white!important"}},icon:{fontSize:"30px",color:"#7992aa"}});function Lc(e){Object(Rc.a)(e);var t=c.a.useState(),n=Object(k.a)(t,2),a=(n[0],n[1]),i=Tc(),r=c.a.useState({top:!1,left:!1,bottom:!1,right:!1}),s=Object(k.a)(r,2),o=s[0],j=s[1],d=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&j(Object(l.a)(Object(l.a)({},o),{},Object(C.a)({},e,t)))}},b=function(e){return Object(v.jsxs)("div",{className:Object(H.default)(i.list,Object(C.a)({},i.fullList,"top"===e||"bottom"===e)),role:"presentation",children:[Object(v.jsxs)(X.a,{children:[Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0}),Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(se.a,{pr:3,children:Object(v.jsx)(qt.a,{onClick:d(e,!1)})})})]}),Object(v.jsx)(Nc,{getOnlineUsers:function(e){return a(e)}})]}),Object(v.jsx)(fa.a,{})]})};return Object(v.jsx)("div",{children:["right"].map((function(e){return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(Dc.a,{onClick:d(e,!0),className:i.icon}),Object(v.jsx)(Y.a,{anchor:e,open:o[e],className:i.drawer,children:b(e)})]},e)}))})}var Wc=Object(F.a)((function(e){return{displayMessage:{height:"65vh",padding:"20px 0px 0px 0px",overflowY:"scroll"},space:{padding:"5px"},messageRoot:{padding:"0px 0px 0px 0px"},myMsgAlign:{textAlign:"right"},thereMsgAlign:{textAlign:"left"},myMsg:{padding:"10px",border:"1px solid #DDDDDD",opacity:1,marginBottom:"10px",marginRight:"10px",background:"#FFFFFF 0% 0% no-repeat padding-box",borderRadius:"10px 10px 0px 10px"},thereMsg:{padding:"10px",marginLeft:"10px",borderRadius:"10px 10px 10px 0px",background:"#EEF3FF 0% 0% no-repeat padding-box",border:"1px solid #DDDDDD",opacity:1},timestamp:{color:"rgb(58 64 88 / 50%)",fontSize:"11px"},msgContainer:{marginBottom:"15px"},msgEditor:{width:"100%","& .MuiOutlinedInput-multiline":{backgroundColor:"white"}},receiver:{},editorForm:Object(C.a)({},e.breakpoints.down("xs"),{position:"fixed",bottom:"10px",left:"10px",right:"10px"}),time:{fontSize:"9px",padding:"10px",color:"grey"},timespace:{padding:"5px 20px 0px 0px"}}})),Mc=Object(o.h)((function(e){var t=e.onlineUsers,n=e.match,i=n.params,r=n.url,s=e.location.state,o=Wc(),l=x("token"),j=g()&&g()._id,d=g()&&g().headshot_url,b=g()&&g().full_name,u=Object(a.useState)([]),O=Object(k.a)(u,2),m=O[0],h=O[1],p=Object(a.useState)(!1),f=Object(k.a)(p,2),y=f[0],w=f[1],C=Object(a.useState)(0),_=Object(k.a)(C,2),I=_[0],z=_[1],E=Object(a.useState)(8),P=Object(k.a)(E,2),F=P[0],R=(P[1],Object(a.useState)(!0)),B=Object(k.a)(R,2),D=B[0],T=B[1],L=Object(a.useState)(),W=Object(k.a)(L,2),M=W[0],V=W[1],H=Object(a.useState)([]),Y=Object(k.a)(H,2),J=Y[0],$=Y[1],X=c.a.useState({status:!1,msg:""}),Q=Object(k.a)(X,2),Z=Q[0],ee=Q[1],te=Object(G.a)(),ne=Object(he.a)(te.breakpoints.down("sm")),ae=c.a.useRef(),ce=Object(a.useState)({message:"",senderName:"",senderPicture:"",senderId:"",receiverId:"",receiverSocketId:"",timestamp:""}),ie=Object(k.a)(ce,2),re=ie[0],oe=ie[1];Object(a.useEffect)((function(){kc.on("receivePrivateMsg",(function(e){s&&g()&&s.selectedReceiver._id+g()._id===e.msg.msg.senderId+e.msg.msg.receiverId&&h((function(t){return[].concat(Object(Ua.a)(t),[e.msg.msg])}))})),kc.on("privateTypingResponse",(function(e){ee({status:!0,msg:e.msg}),setTimeout((function(){ee({status:!1,msg:""})}),2e3)}))}),[]),Object(a.useEffect)((function(){D&&ae.scrollIntoView()}),[m]),Object(a.useEffect)((function(){Object(U.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(i.id,l);case 2:t=(t=e.sent).map((function(e){return{senderName:e.senderId.full_name,senderPicture:e.senderId.headshot_url,receiverId:e.receiverId._id,senderId:e.senderId._id,message:e.message,_id:e._id,timestamp:e.createdAt}})),h(t);case 5:case"end":return e.stop()}}),e)})))()}),[i.id]),Object(a.useEffect)((function(){t.length>0&&t.filter((function(e){return e._id===i.id}))}),[t]),Object(a.useEffect)((function(){$(s.selectedReceiver),V(s.selectedReceiver.socketId)}),[s,r]);var le=function(){var e=Object(U.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!y),e.next=3,ze(i.id,l,{skip:I,limit:F});case 3:n=(n=e.sent).map((function(e){return{senderName:e.senderId.full_name,senderPicture:e.senderId.headshot_url,message:e.message,timestamp:e.createdAt}})),h([].concat(Object(Ua.a)(n),Object(Ua.a)(m)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){z(I+=F)}),[y]);var je=function(e){e.preventDefault(),g()._id===re.senderId&&h((function(e){return[].concat(Object(Ua.a)(e),[re])})),0!==re.message.length&&(kc.emit("sendPrivateMsg",{msg:re}),oe({message:"",senderName:"",senderEmail:"",senderPicture:"",readBy:"",senderId:"",channelId:"",timestamp:""}))};function be(){return m.map((function(e,t){return Object(v.jsxs)("div",{className:o.msgContainer,children:[Object(v.jsxs)("div",{className:e.senderId===(g()&&g()._id)?o.myMsgAlign:o.thereMsgAlign,children:[Object(v.jsx)("span",{className:e.senderId===(g()&&g()._id)?o.myMsg:o.thereMsg,children:e.message}),Object(v.jsx)("div",{className:o.timespace}),Object(v.jsx)("small",{className:o.time,children:Pc()(e.timestamp).format("hh:mm a - M/D/Y")})]}),Object(v.jsx)("div",{className:o.space})]})}))}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsxs)(N.a,{item:!0,sm:10,md:9,xs:12,lg:9,children:[Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,className:o.receiver,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:6,xs:6,children:Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,children:J&&Object(v.jsx)(de,{name:J.full_name,src:J.headshot_url,size:40,textSize:15})}),Object(v.jsx)(N.a,{item:!0,children:Object(v.jsxs)(se.a,{pt:0,pl:1,children:[Object(v.jsx)(A.a,{variant:"body2",children:J.full_name}),Z.status?Object(v.jsx)(A.a,{variant:"",align:"center",children:Object(v.jsx)("small",{children:Z.status&&Z.msg})}):void 0!==J.socketId?Object(v.jsx)("small",{children:"online"}):""]})})]})}),ne&&Object(v.jsx)(N.a,{item:!0,sm:6,children:Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0}),Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(Lc,{})})]})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(Nt.a,{className:o.displayMessage,children:[m.length>=10&&Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{children:Object(v.jsx)("button",{onClick:le,children:"Load previous messages"})})}),Object(v.jsx)(be,{}),Object(v.jsx)("div",{ref:function(e){return ae=e},id:"scroll-message",children:Object(v.jsx)(Fc.a,{onEnter:function(){T(!0)},onLeave:function(){T(!1)}})})]})]})}),Object(v.jsx)("br",{}),Object(v.jsx)("form",{onSubmit:je,className:o.editorForm,children:Object(v.jsxs)(N.a,{container:!0,justify:"center",children:[Object(v.jsx)(N.a,{item:!0,sm:9,md:8,xs:9,children:Object(v.jsx)(S.a,{variant:"outlined",multiline:!0,rowsMax:3,onChange:function(e){oe({message:e.target.value,senderName:b,senderPicture:d,senderId:j,receiverId:i.id,receiverSocketId:M,timestamp:new Date}),kc.emit("privateTyping",{senderName:b},{socketId:M})},value:re.message,className:o.msgEditor})}),Object(v.jsx)(N.a,{item:!0,sm:2,md:1,xs:2,lg:1,children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(se.a,{pt:0,children:Object(v.jsx)(K.a,{size:"large",onClick:je,className:o.button,type:"submit",children:Object(v.jsx)(zc.a,{})})})})})})]})})]})})),Vc=Object(o.h)((function(e){var t=e.match,n=(t.path,t.url),c=(t.params,Object(G.a)()),i=Object(a.useState)([]),r=Object(k.a)(i,2),s=r[0],o=r[1],l=Object(he.a)(c.breakpoints.up("sm"));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(_t,{children:Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,md:9,sm:8,lg:10,xs:12,children:Object(v.jsx)(Mc,{onlineUsers:s})}),l&&Object(v.jsx)(N.a,{item:!0,md:3,sm:4,lg:2,xs:12,children:Object(v.jsx)(Nc,{getOnlineUsers:function(e){return o(e)},url:n})})]})})})}));function qc(e,t,n){return new Promise((function(a,c){b.get("channelchat/read/".concat(e,"/").concat(t,"/channel/read"),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}var Uc=g()&&g()._id,Hc=Object(F.a)((function(e){return{dialogRoot:{padding:"10px"},button:{textTransform:"none",backgroundColor:"#3f51b5",width:"200px",color:"white",padding:"10px",fontWeight:800,height:"40px",fontSize:"15px","&:hover":{backgroundColor:"#3f51b5"}}}})),Gc=function(e){var t=e.pageReload,n=c.a.useState(!1),a=Object(k.a)(n,2),i=a[0],r=a[1],s=x("token"),o=Hc(),j=c.a.useState([]),d=Object(k.a)(j,2),b=d[0],u=d[1],O=c.a.useState(!1),m=Object(k.a)(O,2),h=m[0],p=m[1],f=c.a.useState({channel_name:"",members:[],admins:[],error:"",success:"",isLoading:!1}),g=Object(k.a)(f,2),y=g[0],w=g[1];c.a.useEffect((function(){pt(s).then((function(e){u(e.employees)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){t(h)}),[h]);var C=function(){r(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:o.button,onClick:function(){r(!0)},color:"primary",children:"Create Channel"})}),Object(v.jsx)(Bt.a,{open:i,onClose:C,children:Object(v.jsxs)("div",{className:o.dialogRoot,children:[y.success&&Object(v.jsx)(Mt.a,{severity:"success",children:y.success}),y.error&&Object(v.jsx)(Mt.a,{severity:"error",children:y.error}),Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(Object(l.a)(Object(l.a)({},y),{},{isLoading:!0})),mc(y,s).then((function(e){w(Object(l.a)(Object(l.a)({},y),{},{success:e.message,isLoading:!1,channel_name:"",members:[]})),r(!1),p(!h)})).catch((function(e){console.log(e),w(Object(l.a)(Object(l.a)({},y),{},{isLoading:!1,error:e.error}))}))},children:[Object(v.jsx)(Tt.a,{children:"Create a New Channel"}),Object(v.jsx)(Dt.a,{children:Object(v.jsxs)(N.a,{container:!0,justify:"center",spacing:3,children:[Object(v.jsx)(N.a,{item:!0,xs:12,md:12,sm:12,children:Object(v.jsx)(S.a,{variant:"outlined",onChange:function(e){w(Object(l.a)(Object(l.a)({},y),{},{channel_name:e.target.value,admins:[Uc]}))},value:y.channel_name,label:"Channel name",fullWidth:!0})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:12,sm:12,children:Object(v.jsx)(Wt.a,{multiple:!0,onChange:function(e,t){if(t){var n=t.map((function(e,t){return e._id}));w(Object(l.a)(Object(l.a)({},y),{},{members:n}))}},options:b||"",getOptionLabel:function(e){return e.first_name+" "+e.last_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Members",variant:"outlined",value:y.members}))}})})]})}),Object(v.jsxs)(Lt.a,{children:[Object(v.jsx)(_.a,{onClick:C,color:"primary",children:"Cancel"}),Object(v.jsx)(_.a,{color:"primary",type:"submit",children:"Submit"})]})]})]})})]})},Yc=Object(F.a)((function(e){return{dialogRoot:{padding:"10px"},button:{textTransform:"none",backgroundColor:"#3f51b5",width:"200px",color:"white",padding:"10px",fontWeight:800,height:"40px",fontSize:"15px","&:hover":{backgroundColor:"#3f51b5"}}}})),Jc=Object(_e.a)(ga.a).withConfig({displayName:"channelMembers__AvatarGroup",componentId:"sc-1wi0fzy-0"})(["margin-left:10px;"]),$c=function(e){var t=e.pageReload,n=(e.members,c.a.useState(!1)),a=Object(k.a)(n,2),i=a[0],r=a[1],s=Yc(),o=c.a.useState(!1),l=Object(k.a)(o,2),j=l[0];l[1];c.a.useEffect((function(){}),[]),c.a.useEffect((function(){t(j)}),[j]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsxs)(Jc,{max:3,onClick:function(){r(!0)},children:[Object(v.jsx)(le.a,{alt:"Avatar",src:"/static/img/avatars/avatar-1.jpg"}),Object(v.jsx)(le.a,{alt:"Avatar",src:"/static/img/avatars/avatar-2.jpg"}),Object(v.jsx)(le.a,{alt:"Avatar",src:"/static/img/avatars/avatar-3.jpg"})]})}),Object(v.jsx)(Bt.a,{open:i,onClose:function(){r(!1)},children:Object(v.jsx)("div",{className:s.dialogRoot,children:Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(v.jsx)(Dt.a,{})})})})]})},Xc=n(116),Kc=n.n(Xc),Qc=n(117),Zc=n.n(Qc);var ei=function(){var e=c.a.useState(null),t=Object(k.a)(e,2),n=t[0],a=t[1];return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(pe.a,{title:"Actions",children:Object(v.jsx)(K.a,{"aria-owns":Boolean(n)?"menu-appbar":void 0,"aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},color:"inherit",children:Object(v.jsx)(ka.a,{style:{color:"grey"}})})}),Object(v.jsxs)(fe.a,{id:"menu-appbar",anchorEl:n,open:Boolean(n),onClose:function(){a(null)},children:[Object(v.jsx)(ge.a,{children:"Edit"}),Object(v.jsx)(ge.a,{children:"Delete"})]})]})};function ti(e){var t,n=e.status,a=c.a.useState(!1),i=Object(k.a)(a,2),r=i[0],s=i[1];c.a.useEffect((function(){s(!n)}),[n]);var o=function(){s(!1)};return Object(v.jsx)("div",{children:Object(v.jsxs)(Bt.a,{open:r,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(v.jsx)(Tt.a,{id:"alert-dialog-title",children:"You're offline"}),Object(v.jsx)(Lt.a,{children:Object(v.jsx)(_.a,(t={onClick:o,color:"primary",variant:"contained"},Object(C.a)(t,"onClick",(function(){return window.location.reload()})),Object(C.a)(t,"children","Reload the page"),t))})]})})}var ni=g()&&g().first_name,ai=g()&&g().last_name,ci=g()&&g().email,ii=g()&&g()._id,ri=g()&&g().headshot_url,si=Object(F.a)((function(e){var t,n;return{messageRoot:(t={},Object(C.a)(t,e.breakpoints.down("xs"),{position:"fixed",bottom:"0px",left:"0px",right:"0px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px"}),Object(C.a)(t,"paddingLeft","3px"),Object(C.a)(t,"paddingRight","3px"),t),cardRoot:{width:"100%",padding:"30px 10px 30px 10px"},icon:{color:"#76ff03"},chatDisplay:(n={padding:"0px 0px 0px 0px",backgroundColor:"rgb(247, 249, 252)",overflowY:"scroll"},Object(C.a)(n,e.breakpoints.down("xs"),{padding:"0px",marginTop:"3px",minHeight:"62vh",maxHeight:"62vh"}),Object(C.a)(n,"minHeight","70vh"),Object(C.a)(n,"maxHeight","70vh"),n),time:{fontSize:"10px",color:"grey"},button:Object(C.a)({padding:"12px",margin:"7px"},e.breakpoints.down("xs"),{padding:"0px",marginTop:"3px"}),channelName:{color:"black"},senderName:{fontSize:"15px",fontWeight:500,fontFamily:"sans-serif",paddingTop:"4px",lineHeight:"1.0"},message:{fontSize:"14px",width:"100%",marginLeft:"10px",fontFamily:"sans-serif"},singleMessage:{padding:"10px",margin:"10px",backgroundColor:"white"},sendmsg:{zIndex:1,backgroundColor:"white",padding:"10px"},singleMessageNotReadYet:{backgroundColor:"#fffaea",padding:"10px",margin:"10px"},channelNameMb:{color:"grey"}}})),oi=Object(o.h)((function(e){var t=e.match.params.channel,n=e.match.url,i=e.location,r=x("token"),s=Object(o.g)(),j=si(),d=Object(he.a)("(min-width:961px)"),u=c.a.useRef(),O=c.a.useState(),m=Object(k.a)(O,2),h=(m[0],m[1]),p=c.a.useState({status:!1,msg:""}),f=Object(k.a)(p,2),g=f[0],y=f[1],w=c.a.useState({message:"",senderName:"",senderEmail:"",senderId:"",timestamp:"",channelId:"",readBy:[],senderPicture:""}),C=Object(k.a)(w,2),S=C[0],_=C[1],I=c.a.useState([]),z=Object(k.a)(I,2),E=z[0],P=z[1],F=c.a.useState([]),R=Object(k.a)(F,2),B=R[0],D=R[1],T=c.a.useState(!1),L=Object(k.a)(T,2),W=L[0],M=L[1],V=c.a.useState(!0),H=Object(k.a)(V,2),G=H[0],Y=H[1],J=c.a.useState(),$=Object(k.a)(J,2),X=$[0],Q=$[1],Z=c.a.useState({message:"",senderName:"",senderEmail:"",senderId:"",timestamp:"",channelId:"",readBy:[],senderPicture:""}),ee=Object(k.a)(Z,2),te=ee[0],ne=ee[1];function ae(e){return e.search.split("").slice(4).join("")}c.a.useEffect((function(){kc.emit("join",{room:ae(i)}),kc.on("connection",(function(e){h(e.online)})),kc.on("disconnected",(function(e){h(e.online)})),kc.emit("urlchanged",{url:n}),kc.on("urlchanged",(function(e){h(e.online)})),kc.on("receiveMessage",(function(e){P((function(t){return[].concat(Object(Ua.a)(t),[e.msg.msg])}))})),kc.on("typingResponse",(function(e){y({status:!0,msg:e.msg}),setTimeout((function(){y({status:!1,msg:""})}),2e3)})),kc.on("newJoined",(function(e){console.log(e)}))}),[]),c.a.useEffect((function(){hc(ii,r).then((function(e){D(e)})).catch((function(e){console.log(e)}))}),[W,i]),c.a.useEffect((function(){u.scrollIntoView()}),[E]),c.a.useEffect((function(){(function(e,t,n){return new Promise((function(a,c){b.post("/get/channelchats/".concat(e,"/channel/read"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))})(ae(i),{},r).then((function(e){P(e)})).catch((function(e){console.log(e)}))}),[n]),c.a.useEffect((function(){(function(e,t){return new Promise((function(n,a){b.get("/get/channels/details/".concat(e,"/channel/read"),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))})(ae(i),r).then((function(e){Q(e)})).catch((function(e){console.log(e)}))}),[]),setInterval((function(){Y(kc.connected)}),1e4),c.a.useEffect((function(){var e=setTimeout((function(){return _(te)}),500);return function(){return clearTimeout(e)}}),[te]);var ie={color:"secondary"},re=B.map((function(e,t){return Object(v.jsx)("div",{children:Object(v.jsx)(ce.a,{selected:(n="/chats/".concat(e.channel_name),n===s.location.pathname),button:!0,onClick:function(){return s.push("/chats/".concat(e.channel_name,"?id=").concat(e._id))},children:Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,xs:10,sm:10,md:10,className:j.channelName,children:Object(v.jsx)(A.a,{variant:"body1",children:"#".concat(e.channel_name)})}),Object(v.jsx)(N.a,{item:!0,xs:2,sm:2,md:2,children:Object(v.jsx)(Ae.a,Object(l.a)({badgeContent:e.unread},ie))})]})})},t);var n}));function se(){return(se=Object(U.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=4;break}return e.next=4,qc(t,n,r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=E.map((function(e,t){return e&&e.readBy&&e.readBy.includes(ii)||function(e,t){se.apply(this,arguments)}(e._id,ii),Object(v.jsx)("div",{className:j.singleMessage,children:Object(v.jsxs)(N.a,{container:!0,justify:"flex-start",spacing:2,children:[Object(v.jsx)(N.a,{item:!0,xs:3,md:1,sm:2,children:Object(v.jsx)(N.a,{container:!0,justify:"flex-start",children:Object(v.jsx)(le.a,{alt:e.senderName,src:e.senderPicture,width:40,height:40})})}),Object(v.jsx)(N.a,{item:!0,xs:8,md:10,sm:9,children:Object(v.jsxs)(N.a,{container:!0,justify:"flex-start",children:[Object(v.jsx)(N.a,{item:!0,xs:12,md:12,sm:12,children:Object(v.jsx)(A.a,{variant:"body1",className:j.senderName,children:(n=e.senderName||"undefined",n.split(" ").map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" "))})}),Object(v.jsx)(N.a,{item:!0,xs:12,md:12,sm:12,children:Object(v.jsx)(A.a,{className:j.time,variant:"caption",children:Pc()(e.timestamp).format("MMMM Do YYYY, h:mm a")})})]})}),Object(v.jsx)(N.a,{item:!0,xs:1,md:1,sm:1,children:Object(v.jsx)(N.a,{container:!0,justify:"flex-end",children:Object(v.jsx)(ei,{})})}),Object(v.jsx)("div",{className:j.message,children:Zc()(e.message)})]})},t);var n}));function je(e){return de.apply(this,arguments)}function de(){return(de=Object(U.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(t,r);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.url);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){var e=this,t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.click(),t.onchange=Object(U.a)(q.a.mark((function n(){var a,c,i,r;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.files[0],(c=new FormData).append("upload",a),i=e.quill.getSelection(!0),e.quill.insertEmbed(i.index,"image","".concat(window.location.origin,"/images/loaders/placeholder.gif")),e.quill.setSelection(i.index+1),n.next=8,je(c);case 8:r=n.sent,e.quill.deleteText(i.index,1),e.quill.insertEmbed(i.index,"image",r);case 11:case"end":return n.stop()}}),n)})))}var ue=Object(a.useMemo)((function(){return{toolbar:{container:[[{header:[1,2]}],["bold","italic","underline"],["link","image"]],handlers:{image:be}}}}),[]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"chat",permission:"read",children:[Object(v.jsx)(ti,{status:G}),Object(v.jsxs)(N.a,{container:!0,justify:"center",spacing:0,children:[Object(v.jsxs)(N.a,{item:!0,sm:12,md:8,lg:9,xs:12,children:[Object(v.jsxs)(Nt.a,{className:j.chatDisplay,children:[oe,Object(v.jsx)("div",{ref:function(e){return u=e}})]}),Object(v.jsx)(A.a,{variant:"body2",align:"center",children:g.status&&g.msg}),Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),0!==S.message.length&&(kc.emit("sendMessage",{msg:S},{room:ae(i)}),P([].concat(Object(Ua.a)(E),[S])),ne(Object(l.a)(Object(l.a)({},S),{},{message:"",senderName:"",senderEmail:"",senderPicture:"",readBy:"",senderId:"",channelId:"",timestamp:""})))},className:j.messageRoot,children:[!d&&Object(v.jsxs)(A.a,{variant:"body2",align:"center",className:j.channelNameMb,children:["#",t]}),Object(v.jsxs)(N.a,{container:!0,justify:"center",children:[Object(v.jsx)(N.a,{item:!0,sm:11,md:11,xs:12,children:Object(v.jsx)(Kc.a,{value:te.message,theme:"snow",modules:ue,onChange:function(e){ne(Object(l.a)(Object(l.a)({},S),{},{message:e,senderPicture:ri,senderName:ni+" "+ai,senderId:ii,senderEmail:ci,channelId:ae(i),timestamp:new Date,readBy:[]})),kc.emit("typing",{first_name:ni,last_name:ai,email:ci,senderId:ii},{room:ae(i)})}})}),Object(v.jsx)(N.a,{item:!0,sm:1,md:1,xs:12,children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsxs)(K.a,{size:"small",className:j.button,type:"submit",children:[!d&&Object(v.jsx)("font",{children:"Send"})," ",Object(v.jsx)(zc.a,{})]})})})})]})]})]}),d&&Object(v.jsxs)(N.a,{item:!0,xs:12,md:3,sm:12,lg:3,children:[Object(v.jsx)(A.a,{variant:"h6",align:"center",className:j.channelName,children:Object(v.jsxs)("b",{children:["#",t]})}),Object(v.jsxs)(Nt.a,{className:j.cardRoot,children:[Object(v.jsx)(Gc,{pageReload:function(e){return M(e)}}),Object(v.jsx)("br",{}),Object(v.jsx)($c,{pageReload:function(e){return M(e)},members:X}),Object(v.jsx)("br",{}),Object(v.jsx)(A.a,{variant:"h6",align:"center",children:"Subscribed Channels"}),re]})]})]})]})})})),li=n(400),ji=function(e){var t=e.blog,n=e.setBlog,c=e.modules,i=e.classes,r=Object(li.a)({modules:c}),s=r.quill,o=r.quillRef;return Object(a.useEffect)((function(){s&&(s.clipboard.dangerouslyPasteHTML(t.body),s.on("text-change",Object(U.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("blog",JSON.stringify(s.root.innerHTML)),e.next=3,n(Object(l.a)(Object(l.a)({},t),{},{body:s.root.innerHTML}));case 3:case"end":return e.stop()}}),e)})))))}),[s]),Object(v.jsx)("div",{className:i,children:Object(v.jsx)("div",{ref:o})})},di=c.a.memo(ji);function bi(e,t){return new Promise((function(n,a){b.post("/blog/filter/blog/read",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}function ui(e,t,n){return new Promise((function(a,c){b.patch("/blog/review/update/".concat(e,"/blog/update"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}function Oi(e,t){return new Promise((function(n,a){b.get("/categories/".concat(e,"/category/read"),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}function mi(e,t){return new Promise((function(n,a){b.post("/filter/category/category/read",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}var hi=n(827),xi=Object(_e.a)(hi.a).withConfig({displayName:"create__CloudUpload",componentId:"k1ok1i-0"})(an.b),pi=Object(F.a)((function(e){return{cardRoot:{padding:"30px 10px 30px 10px"},form:{marginBottom:"20vh"},titleInput:{backgroundColor:"white",margin:"0px 0px 20px 0px"},button:{textTransform:"none",marginTop:"5px"},featureRoot:{height:"100%",maxHeight:"250px",width:"100%"},editor:{"& .ql-editor":{minHeight:"50vh",letterSpacing:"-0.003em",lineHeight:"32px",marginTop:"2em",fontSize:"21px",marginBottom:"-0.46em",fontFamily:'charter, Georgia, Cambria, "Times New Roman", Times, serif',fontStyle:"normal",wordBreak:"break-word",color:"rgba(41, 41, 41, 1)",fontWeight:"400"},"& .ql-container.ql-snow":{border:"0px solid #ccc"}},editorContainer:{minHeight:"70vh"}}})),fi=function(){var e=pi(),t={toolbar:{container:[[{header:"1"},{header:"2"},{header:[3,4,5,6]},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"],["code-block"]],handlers:{image:function(){var e=this,t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.click(),t.onchange=Object(U.a)(q.a.mark((function n(){var a,c,i,r;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.files[0],(c=new FormData).append("upload",a),i=e.quill.getSelection(!0),e.quill.insertEmbed(i.index,"image","".concat(window.location.origin,"/images/loaders/placeholder.gif")),e.quill.setSelection(i.index+1),n.next=8,E(c);case 8:r=n.sent,e.quill.deleteText(i.index,1),e.quill.insertEmbed(i.index,"image",r);case 11:case"end":return n.stop()}}),n)})))}}}},n=x("token"),a=c.a.useState({title:localStorage.getItem("title")?JSON.parse(localStorage.getItem("title")):"",body:localStorage.getItem("blog")?JSON.parse(localStorage.getItem("blog")):"",categories:[],domain:"",task:"",featureImg:"",isLoading:!1}),i=Object(k.a)(a,2),r=i[0],s=i[1],o=c.a.useState(),j=Object(k.a)(o,2),d=j[0],u=j[1],O=c.a.useState(),m=Object(k.a)(O,2),h=m[0],f=m[1],g=c.a.useState(),y=Object(k.a)(g,2),w=y[0],C=y[1];c.a.useEffect((function(){Oi(n).then((function(e){u(e)})).catch((function(e){console.log(e)})),Ra(n).then((function(e){f(e)})).catch((function(e){console.log(e)})),xa(n).then((function(e){console.log(w),C(e)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){Oi(r.domain,n).then((function(e){u(e)})).catch((function(e){console.log(e)}))}),[r.domain]);var z=function(e){return function(){var t=Object(U.a)(q.a.mark((function t(n){var a,c,i;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next="title"===t.t0?3:"featureImg"===t.t0?6:14;break;case 3:return localStorage.setItem("title",JSON.stringify(n.target.value)),s(Object(l.a)(Object(l.a)({},r),{},{title:n.target.value})),t.abrupt("break",14);case 6:return a=n.target.files[0],(c=new FormData).append("upload",a),t.next=11,E(c);case 11:return i=t.sent,s(Object(l.a)(Object(l.a)({},r),{},{featureImg:i})),t.abrupt("break",14);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function E(e){return P.apply(this,arguments)}function P(){return(P=Object(U.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(l.a)(Object(l.a)({},r),{},{isLoading:!0})),e.next=3,Ha(t,n);case 3:if(!(a=e.sent)){e.next=7;break}return s(Object(l.a)(Object(l.a)({},r),{},{isLoading:!1})),e.abrupt("return",a.url);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"blog",permission:"write",children:[Object(v.jsx)(I.a,{}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,spacing:6,children:[Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(A.a,{variant:"h5"})}),Object(v.jsx)(N.a,{item:!0})]}),Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(e,t){return new Promise((function(n,a){b.post("/blog/blog/write",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}(r,n).then((function(e){I.b.success(e.message),p("blog"),p("title")})).catch((function(e){I.b.error(e.error)}))},className:e.form,children:Object(v.jsxs)(N.a,{container:!0,spacing:6,children:[Object(v.jsx)(N.a,{item:!0,xs:12,md:9,sm:9,lg:9,children:Object(v.jsxs)("div",{className:e.editorContainer,children:[Object(v.jsx)(S.a,{onChange:z("title"),fullWidth:!0,value:r.title,className:e.titleInput,size:"medium",label:"Blog Title",variant:"outlined"}),Object(v.jsx)(di,{modules:t,blog:r,classes:e.editor,setBlog:s}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(_.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Submit"})})})]})}),Object(v.jsxs)(N.a,{item:!0,xs:12,md:3,sm:3,lg:3,children:[Object(v.jsx)(le.a,{alt:"",src:r.featureImg,className:e.featureRoot,variant:"square",children:"Feature Image"}),Object(v.jsx)("input",{onChange:z("featureImg"),accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file"}),Object(v.jsx)("label",{htmlFor:"raised-button-file",children:Object(v.jsxs)(_.a,{variant:"contained",color:"primary",fullWidth:!0,className:e.button,component:"span",children:[Object(v.jsx)(xi,{mr:1})," ",r.isLoading?"Uploading ...":"Upload Feature IMG"]})}),Object(v.jsx)("br",{}),"  ",Object(v.jsx)("br",{}),Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&s(Object(l.a)(Object(l.a)({},r),{},{task:t._id}))},options:w,getOptionLabel:function(e){return"".concat(e.task_id," (").concat(e.title,")")},style:{width:"100%",background:"white"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Task ID",variant:"outlined"}))}}),Object(v.jsx)("br",{}),Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&s(Object(l.a)(Object(l.a)({},r),{},{domain:t._id}))},options:h,getOptionLabel:function(e){return e.name},style:{width:"100%",background:"white"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Domain",variant:"outlined"}))}}),Object(v.jsx)("br",{}),Object(v.jsx)(Wt.a,{multiple:!0,disabled:0===r.domain.length,onChange:function(e,t){t&&s(Object(l.a)(Object(l.a)({},r),{},{categories:t.map((function(e){return e._id}))}))},options:d||"",getOptionLabel:function(e){return e.name},style:{width:"100%",background:"white"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Category",variant:"outlined",value:r.categories}))}})]})]})})]})})},gi=n(828),vi=x("token"),yi=Object(_e.a)(_.a).withConfig({displayName:"profile__Button",componentId:"u50zl7-0"})(an.b),wi=Object(_e.a)(Nt.a).withConfig({displayName:"profile__Card",componentId:"u50zl7-1"})(an.b),ki=Object(_e.a)(N.a).withConfig({displayName:"profile__Grid",componentId:"u50zl7-2"})(an.b),Ci=(_e.a.div.withConfig({displayName:"profile__Spacer",componentId:"u50zl7-3"})(an.b),_e.a.div.withConfig({displayName:"profile__Centered",componentId:"u50zl7-4"})(["text-align:center;"])),Si=Object(F.a)((function(e){return{dialogRoot:{padding:"10px"},button:{textTransform:"none",backgroundColor:"#3f51b5",width:"200px",color:"white",padding:"10px",fontWeight:800,height:"40px",fontSize:"15px","&:hover":{backgroundColor:"#3f51b5"}},uploadButton:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}}}}));function _i(e){var t,n=e.data,c=x("token"),i=g()&&g()._id,r=Si(),s=Object(a.useState)({uploading:!1,url:""}),o=Object(k.a)(s,2),j=o[0],d=o[1];function b(e){return u.apply(this,arguments)}function u(){return(u=Object(U.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(Object(l.a)(Object(l.a)({},j),{},{uploading:!0})),e.next=3,Ha(t,c);case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.url);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsx)(wi,{mb:6,children:Object(v.jsx)(gi.a,{children:Object(v.jsxs)(Ci,{children:[Object(v.jsx)(ki,{container:!0,justify:"center",children:Object(v.jsx)(de,{name:n&&n.full_name,src:j.url||n&&n.headshot_url,size:160,textSize:50})}),Object(v.jsx)(se.a,{pt:2,children:Object(v.jsx)(A.a,{variant:"h5",children:n&&n.full_name})}),Object(v.jsx)(se.a,{children:Object(v.jsx)(A.a,{variant:"h6",children:n&&n.designation&&n.designation.designation_name})}),Object(v.jsxs)(se.a,{p:2,children:[Object(v.jsx)("input",{onChange:(t="featureImg",function(){var e=Object(U.a)(q.a.mark((function e(n){var a,r,s,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="featureImg"===e.t0?3:14;break;case 3:return a=n.target.files[0],(r=new FormData).append("upload",a),e.next=8,b(r);case 8:return s=e.sent,e.next=11,vt({url:s},c,i);case 11:return o=e.sent,d(Object(l.a)(Object(l.a)({},j),{},{url:o&&o.headshot_url,uploading:!1})),e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file"}),Object(v.jsx)("label",{htmlFor:"raised-button-file",children:Object(v.jsx)(yi,{className:r.uploadButton,variant:"contained",component:"span",size:"small",children:j.uploading?"Uploading...":"Change profile photo"})})]})]})})})}function Ni(e){var t=e.data;return Object(v.jsx)(wi,{children:Object(v.jsxs)(gi.a,{children:[Object(v.jsxs)(ki,{container:!0,alignItems:"space-between",pb:0,children:[Object(v.jsx)(ki,{item:!0,sm:4,children:Object(v.jsx)(A.a,{variant:"body2",children:"Department"})}),Object(v.jsx)(ki,{item:!0,children:Object(v.jsxs)(A.a,{variant:"body2",noWrap:!0,children:["- ",t&&t.department&&t.department.department_name]})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(ki,{container:!0,alignItems:"center",pb:0,children:[Object(v.jsx)(ki,{item:!0,sm:4,children:Object(v.jsx)(A.a,{variant:"body2",children:"Address"})}),Object(v.jsx)(ki,{item:!0,children:Object(v.jsxs)(A.a,{variant:"body2",noWrap:!0,children:["- ",t&&t.address]})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(ki,{container:!0,alignItems:"center",pb:0,children:[Object(v.jsx)(ki,{item:!0,sm:4,children:Object(v.jsx)(A.a,{variant:"body2",children:"Gender"})}),Object(v.jsx)(ki,{item:!0,children:Object(v.jsxs)(A.a,{variant:"body2",noWrap:!0,children:["- ",t&&t.gender]})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(ki,{container:!0,alignItems:"center",pb:0,children:[Object(v.jsx)(ki,{item:!0,sm:4,children:Object(v.jsx)(A.a,{variant:"body2",children:"Phone Number"})}),Object(v.jsx)(ki,{item:!0,children:Object(v.jsxs)(A.a,{variant:"body2",noWrap:!0,children:["- ",t&&t.phone_number]})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(ki,{container:!0,alignItems:"center",pb:0,children:[Object(v.jsx)(ki,{item:!0,sm:4,children:Object(v.jsx)(A.a,{variant:"body2",children:"Status"})}),Object(v.jsx)(ki,{item:!0,children:Object(v.jsxs)(A.a,{variant:"body2",noWrap:!0,children:["- ",t&&t.status]})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(ki,{container:!0,alignItems:"center",pb:0,children:[Object(v.jsx)(ki,{item:!0,sm:4,children:Object(v.jsx)(A.a,{variant:"body2",children:"Employee ID"})}),Object(v.jsx)(ki,{item:!0,children:Object(v.jsxs)(A.a,{variant:"body2",noWrap:!0,children:["- ",t&&t.employee_id]})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(ki,{container:!0,alignItems:"center",pb:0,children:[Object(v.jsx)(ki,{item:!0,sm:4,children:Object(v.jsx)(A.a,{variant:"body2",children:"E-mail"})}),Object(v.jsx)(ki,{item:!0,sm:8,children:Object(v.jsxs)(A.a,{variant:"body2",noWrap:!0,children:["- ",t&&t.email]})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(ki,{container:!0,alignItems:"center",pb:0,children:[Object(v.jsx)(ki,{item:!0,sm:4,children:Object(v.jsx)(A.a,{variant:"body2",children:"Date of Joining"})}),Object(v.jsx)(ki,{item:!0,children:Object(v.jsxs)(A.a,{variant:"body2",noWrap:!0,children:["- ",t&&t.date_of_joining]})})]})]})})}var Ai=function(){var e=Object(a.useState)(),t=Object(k.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e,t;(e=g()&&g()._id,t=vi,new Promise((function(n,a){b.get("/single/employees/".concat(e,"/my_profile/read"),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))).then((function(e){i(e.employees)})).catch((function(e){console.log(e)}))}),[]),Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsxs)(ki,{container:!0,spacing:6,justify:"center",children:[Object(v.jsx)(ki,{item:!0,xs:12,lg:6,xl:3,children:Object(v.jsx)(_i,{data:n})}),Object(v.jsx)(ki,{item:!0,xs:12,lg:4,xl:3,children:Object(v.jsx)(Ni,{data:n})})]})]})},Ii=(Object(F.a)((function(e){return{dialogRoot:{padding:"10px"},button:{textTransform:"none",backgroundColor:"#3f51b5",width:"200px",color:"white",padding:"10px",fontWeight:800,height:"40px",fontSize:"15px","&:hover":{backgroundColor:"#3f51b5"}}}})),function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"my_profile",permission:"read",children:[Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:9,md:9,lg:9,children:Object(v.jsx)(se.a,{pt:2,children:Object(v.jsx)(A.a,{variant:"h4"})})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:3,md:3,lg:3})]}),Object(v.jsx)(Ai,{})]})})}),zi=Object(F.a)((function(e){return{cardRoot:{padding:"10px"},formControl:{minWidth:120},submitBtn:{margin:"0px 1px"},btnContainer:{padding:"10px 0px 0px 0px"}}})),Ei=function(e){var t=e.blogs,n=zi(),c=Object(a.useState)([]),i=Object(k.a)(c,2),r=i[0],s=i[1],o=Object(a.useState)([]),j=Object(k.a)(o,2),d=j[0],b=j[1],u=x("token"),O=Object(a.useState)({postedBy:"",domain:""}),m=Object(k.a)(O,2),h=m[0],p=m[1],f=Object(a.useState)({postedBy:"",status:"",approval:"",domain:""}),g=Object(k.a)(f,2),y=g[0],w=g[1];Object(a.useEffect)((function(){Ra(u).then((function(e){b(e)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){pt(u).then((function(e){s(e.employees)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){bi(y,u).then((function(e){t(e)})).catch((function(e){console.log(e)}))}),[y]);var C=function(e){return function(t){switch(e){case"PostedBy":0===t.target.value.length&&w(Object(l.a)(Object(l.a)({},y),{},{postedBy:""}));break;case"Domain":0===t.target.value.length&&w(Object(l.a)(Object(l.a)({},y),{},{domain:""}))}}};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Nt.a,{className:n.cardRoot,children:Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),bi(y,u).then((function(e){t(e)})).catch((function(e){console.log(e)}))},children:Object(v.jsxs)(N.a,{container:!0,spacing:2,justify:"center",children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&(w(Object(l.a)(Object(l.a)({},y),{},{postedBy:t._id})),p(Object(l.a)(Object(l.a)({},h),{},{postedBy:t})))},closeIcon:Object(v.jsx)(v.Fragment,{}),value:h.postedBy,size:"small",options:r,getOptionLabel:function(e){return e.first_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"PostedBy",variant:"outlined",onChange:C("PostedBy")}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsxs)(On.a,{className:n.formControl,variant:"outlined",size:"small",fullWidth:!0,children:[Object(v.jsx)(un.a,{children:"Approval Status"}),Object(v.jsxs)(mn.a,{value:y.approval,label:"Approval Status",onChange:function(e){return w(Object(l.a)(Object(l.a)({},y),{},{approval:e.target.value}))},children:[Object(v.jsx)(ge.a,{value:"WAITING",children:"Waiting"}),Object(v.jsx)(ge.a,{value:"APPROVED",children:"Approved"}),Object(v.jsx)(ge.a,{value:"NOT APPROVED",children:"Not Approved"})]})]})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(Wt.a,{closeIcon:Object(v.jsx)(v.Fragment,{}),onChange:function(e,t){t&&(w(Object(l.a)(Object(l.a)({},y),{},{domain:t._id})),p(Object(l.a)(Object(l.a)({},h),{},{domain:t})))},size:"small",value:h.domain,options:d,getOptionLabel:function(e){return e.name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Domain",variant:"outlined",onChange:C("Domain")}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsxs)(On.a,{className:n.formControl,variant:"outlined",size:"small",fullWidth:!0,children:[Object(v.jsx)(un.a,{children:"Status"}),Object(v.jsxs)(mn.a,{value:y.status,label:"Status",onChange:function(e){return w(Object(l.a)(Object(l.a)({},y),{},{status:e.target.value}))},children:[Object(v.jsx)(ge.a,{value:"true",children:"Active"}),Object(v.jsx)(ge.a,{value:"false",children:"Inactive"})]})]})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:1,className:n.btnContainer,children:Object(v.jsx)(N.a,{xs:6,sm:4,md:4,lg:4,children:Object(v.jsx)(_.a,{size:"small",variant:"contained",color:"primary",onClick:function(){w({postedBy:"",status:"",approval:"",domain:""}),p({postedBy:"",domain:""})},children:"Reset"})})})})]})})})})},Pi=Object(_e.a)(Gt.a).withConfig({displayName:"blogList__Paper",componentId:"sc-1wj2kwh-0"})(an.b);function Fi(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Ri(e,t){return"desc"===e?function(e,n){return Fi(e,n,t)}:function(e,n){return-Fi(e,n,t)}}function Bi(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Di=[{id:"title",alignment:"left",label:"Blog Title"},{id:"task_id",alignment:"left",label:"Task ID"},{id:"status",alignment:"left",label:"Status"},{id:"approval",alignment:"left",label:"Approval Status"},{id:"domain",alignment:"left",label:"Domain"},{id:"postedBy",alignment:"right",label:"Posted By"},{id:"detail",alignment:"right",label:"Detail"}];function Ti(e){var t=e.order,n=e.orderBy,a=e.onRequestSort;return Object(v.jsx)(Yt.a,{children:Object(v.jsx)(Jt.a,{children:Di.map((function(e){return Object(v.jsx)($t.a,{align:e.alignment,padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,children:Object(v.jsx)(Xt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:e.label})},e.id);var c}))})})}function Li(e){var t=e.blogs,n=c.a.useState("asc"),a=Object(k.a)(n,2),i=a[0],r=a[1],s=c.a.useState("customer"),l=Object(k.a)(s,2),j=l[0],d=l[1],b=c.a.useState([]),u=Object(k.a)(b,2),O=u[0],m=u[1],h=c.a.useState(0),x=Object(k.a)(h,2),p=x[0],f=x[1],g=c.a.useState(10),y=Object(k.a)(g,2),w=y[0],C=y[1],S=Object(o.g)(),_=w-Math.min(w,t.length-p*w);return Object(v.jsx)("div",{children:Object(v.jsxs)(Pi,{children:[Object(v.jsx)(Kt.a,{children:Object(v.jsxs)(Qt.a,{"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(v.jsx)(Ti,{numSelected:O.length,order:i,orderBy:j,onSelectAllClick:function(e){if(e.target.checked){var n=t.map((function(e){return e.id}));m(n)}else m([])},onRequestSort:function(e,t){r(j===t&&"asc"===i?"desc":"asc"),d(t)},rowCount:t.length}),0===t.length?Object(v.jsx)(se.a,{p:2,children:Object(v.jsx)(A.a,{variant:"h5",children:"No Blog found"})}):Object(v.jsxs)(Zt.a,{children:[Bi(t,Ri(i,j)).slice(p*w,p*w+w).map((function(e,t){var n,a=(n=e.id,-1!==O.indexOf(n));return Object(v.jsxs)(Jt.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(v.jsx)($t.a,{align:"left",children:e.title}),Object(v.jsx)($t.a,{align:"left",children:e.task&&e.task.task_id}),Object(v.jsxs)($t.a,{align:"left",children:[!0===e.status&&Object(v.jsx)(en.a,{size:"small",label:"ACTIVE",style:{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}}),!1===e.status&&Object(v.jsx)(en.a,{size:"small",label:"INACTIVE",style:{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}})]}),Object(v.jsxs)($t.a,{align:"left",children:["WAITING"===e.approval&&Object(v.jsx)(en.a,{size:"small",label:e.approval,style:{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)"}}),"APPROVED"===e.approval&&Object(v.jsx)(en.a,{size:"small",label:e.approval,style:{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}}),"NOT APPROVED"===e.approval&&Object(v.jsx)(en.a,{size:"small",label:e.approval,style:{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}})]}),Object(v.jsx)($t.a,{align:"left",children:e.domain&&e.domain.name||"Deleted"}),Object(v.jsx)($t.a,{align:"right",children:e.postedBy&&e.postedBy.full_name||"Deleted user"}),Object(v.jsx)($t.a,{padding:"none",align:"right",children:Object(v.jsx)(se.a,{mr:2,children:Object(v.jsx)(K.a,{"aria-label":"details",onClick:function(){return S.push("/content/blog/detail/".concat(e._id))},children:Object(v.jsx)(nn.a,{})})})})]},"".concat(e.title,"-").concat(t))})),_>0&&Object(v.jsx)(Jt.a,{style:{height:20*_},children:Object(v.jsx)($t.a,{colSpan:8})})]})]})}),Object(v.jsx)(tn.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:w,page:p,onChangePage:function(e,t){f(t)},onChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),f(0)}})]})})}var Wi=function(e){var t=e.blogs;return Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(N.a,{container:!0,spacing:6,children:Object(v.jsx)(N.a,{item:!0,xs:12,children:Object(v.jsx)(Li,{blogs:t})})})})},Mi=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),r=Object(k.a)(i,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){o(n)}),[n]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"blog",permission:"read",children:[Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,md:9,sm:9,xs:12,children:Object(v.jsx)(se.a,{pl:3,children:Object(v.jsx)(A.a,{variant:"h5",children:"Blogs"})})}),Object(v.jsx)(N.a,{item:!0,md:3,sm:3,xs:12})]}),Object(v.jsx)("br",{}),Object(v.jsx)(Ei,{blogs:function(e){return c(e)}}),Object(v.jsx)(Wi,{blogs:s})]})})},Vi=n(741),qi=n(403),Ui=n(830),Hi=n(739),Gi=n(829),Yi=Object(F.a)({avatar:{backgroundColor:"#FCF0EF",color:"#E66E68",borderRadius:"8px",margin:"0px 5px 0px 0px"},button:{},paperRoot:{minWidth:"250px",zIndex:2},approved:{background:"rgb(76, 175, 80)",textTransform:"none",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}},notApproved:{background:"rgb(244, 67, 54)",textTransform:"none",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}},waiting:{background:"rgb(245, 124, 0)",textTransform:"none",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)"}}});function Ji(e){var t=e.status,n=e.setValue,c=Yi(),i=Object(a.useState)(!1),r=Object(k.a)(i,2),s=r[0],o=r[1],j=Object(a.useRef)(s),d=Object(a.useRef)(null),b=Object(a.useState)(),u=Object(k.a)(b,2),O=u[0],m=u[1],h=function(e){d.current&&d.current.contains(e.target)||o(!1)};function x(e){"Tab"===e.key&&(e.preventDefault(),o(!1))}Object(a.useEffect)((function(){m(t)}),[]),Object(a.useEffect)((function(){!0===j.current&&!1===s&&d.current.focus(),j.current=s}),[s]);var p=function(e){m(e),n(e),o(!1)};return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(_.a,{ref:d,"aria-controls":s?"menu-list-grow":void 0,"aria-haspopup":"true",fullWidth:!0,size:"small",startIcon:Object(v.jsx)("font",{style:{fontSize:"10px"},children:"Approval: "}),variant:"contained",className:"WAITING"===O?c.waiting:"APPROVED"===O?c.approved:"NOT APPROVED"===O?c.notApproved:"",endIcon:Object(v.jsx)(Gi.a,{}),onClick:function(){o((function(e){return!e}))},children:O}),Object(v.jsx)(Vi.a,{open:s,anchorEl:d.current,role:void 0,transition:!0,disablePortal:!0,className:c.paperRoot,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(v.jsx)(qi.a,Object(l.a)(Object(l.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(v.jsx)(Gt.a,{children:Object(v.jsx)(Ui.a,{onClickAway:h,children:Object(v.jsxs)(Hi.a,{autoFocusItem:s,id:"menu-list-grow",onKeyDown:x,children:[Object(v.jsx)(se.a,{pl:2,pr:2,children:Object(v.jsx)(fa.a,{})}),Object(v.jsx)(ge.a,{onClick:function(){return p("APPROVED")},children:Object(v.jsx)(se.a,{pl:1,children:Object(v.jsx)(A.a,{children:"APPROVED"})})}),Object(v.jsx)(ge.a,{onClick:function(){return p("NOT APPROVED")},children:Object(v.jsx)(se.a,{pl:1,children:Object(v.jsx)(A.a,{children:"NOT APPROVED"})})}),Object(v.jsx)(ge.a,{onClick:function(){return p("WAITING")},children:Object(v.jsx)(se.a,{pl:1,children:Object(v.jsx)(A.a,{children:"WAITING"})})})]})})})}))}})]})})}var $i=Object(F.a)({avatar:{backgroundColor:"#FCF0EF",color:"#E66E68",borderRadius:"8px",margin:"0px 5px 0px 0px"},button:{},paperRoot:{minWidth:"250px",zIndex:2},approved:{background:"rgb(76, 175, 80)",textTransform:"none",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}},notApproved:{background:"rgb(244, 67, 54)",textTransform:"none",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}},waiting:{background:"rgb(245, 124, 0)",textTransform:"none",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)"}}});function Xi(e){var t=e.status,n=e.setValue,c=$i(),i=Object(a.useState)(!1),r=Object(k.a)(i,2),s=r[0],o=r[1],j=Object(a.useRef)(s),d=Object(a.useRef)(null),b=Object(a.useState)(),u=Object(k.a)(b,2),O=u[0],m=u[1],h=function(e){d.current&&d.current.contains(e.target)||o(!1)};function x(e){"Tab"===e.key&&(e.preventDefault(),o(!1))}Object(a.useEffect)((function(){m(t?"ACTIVE":"INACTIVE")}),[]),Object(a.useEffect)((function(){!0===j.current&&!1===s&&d.current.focus(),j.current=s}),[s]);var p=function(e){m(e),n("ACTIVE"===e),o(!1)};return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(_.a,{ref:d,"aria-controls":s?"menu-list-grow":void 0,"aria-haspopup":"true",fullWidth:!0,size:"small",startIcon:Object(v.jsx)("font",{style:{fontSize:"10px"},children:"Live status: "}),variant:"contained",className:"ACTIVE"===O?c.approved:c.notApproved,endIcon:Object(v.jsx)(Gi.a,{}),onClick:function(){o((function(e){return!e}))},children:O}),Object(v.jsx)(Vi.a,{open:s,anchorEl:d.current,role:void 0,transition:!0,disablePortal:!0,className:c.paperRoot,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(v.jsx)(qi.a,Object(l.a)(Object(l.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(v.jsx)(Gt.a,{children:Object(v.jsx)(Ui.a,{onClickAway:h,children:Object(v.jsxs)(Hi.a,{autoFocusItem:s,id:"menu-list-grow",onKeyDown:x,children:[Object(v.jsx)(se.a,{pl:2,pr:2,children:Object(v.jsx)(fa.a,{})}),Object(v.jsx)(ge.a,{onClick:function(){return p("ACTIVE")},children:Object(v.jsx)(se.a,{pl:1,children:Object(v.jsx)(A.a,{children:"ACTIVE"})})}),Object(v.jsx)(ge.a,{onClick:function(){return p("INACTIVE")},children:Object(v.jsx)(se.a,{pl:1,children:Object(v.jsx)(A.a,{children:"INACTIVE"})})})]})})})}))}})]})})}var Ki=n(379),Qi=Object(F.a)((function(e){var t,n;return{body:{letterSpacing:"-0.003em",lineHeight:"32px",marginTop:"2em",fontSize:"21px",marginBottom:"-0.46em",fontFamily:'charter, Georgia, Cambria, "Times New Roman", Times, serif',fontStyle:"normal",wordBreak:"break-word",color:"rgba(41, 41, 41, 1)",fontWeight:"400"},blogContent:(t={},Object(C.a)(t,e.breakpoints.up("sm"),{}),Object(C.a)(t,e.breakpoints.up("md"),{}),t),approved:{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,width:"100%",fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},notApproved:{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}},waiting:{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)"}},blogTitle:(n={padding:"0px 0px 20px 0px",fontSize:"48px",lineHeight:"60px",marginTop:"0.56em",marginBottom:"-0.27em",letterSpacing:"-0.011em",fontWeight:"400",color:"rgba(41, 41, 41, 1)",fontStyle:"normal",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif'},Object(C.a)(n,e.breakpoints.down("xs"),{fontSize:"35px",lineHeight:"48px",padding:"0px 0px 50px 0px"}),Object(C.a)(n,e.breakpoints.up("sm"),{fontSize:"40px",padding:"0px 0px 50px 0px"}),n),headshot:{height:"70px",width:"70px",borderRadius:"50%",objectFit:"cover"}}})),Zi=Object(o.h)((function(e){var t=e.match.params.id,n=Object(a.useState)(),c=Object(k.a)(n,2),i=c[0],r=c[1],j=x("token"),d=Object(o.g)(),u=Qi(),O=Object(a.useState)(!1),m=Object(k.a)(O,2),h=m[0],p=m[1],f=Object(a.useState)(!1),g=Object(k.a)(f,2),y=g[0],w=g[1],C=Object(a.useState)({approval:"",status:""}),S=Object(k.a)(C,2),I=S[0],z=S[1];Object(a.useEffect)((function(){Object(U.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt("blog","update",j);case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})))()})),Object(a.useEffect)((function(){(function(e,t){return new Promise((function(n,a){b.get("/blog/single/".concat(e,"/blog/read"),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))})(t,j).then((function(e){r(e),z(Object(l.a)(Object(l.a)({},I),{},{approval:e.approval,status:e.status}))})).catch((function(e){console.log(e)}))}),[h]);var E=function(){ui(t,I,j).then((function(e){p(!h)})).catch((function(e){console.log(e)}))};return i?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(_t,{page:"blog",permission:"read",children:Object(v.jsxs)(Nt.a,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsxs)(N.a,{item:!0,sm:8,md:8,children:[Object(v.jsx)(A.a,{variant:"h4",align:"center",className:u.blogTitle,children:i.title}),Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)("img",{className:u.headshot,src:i.postedBy.headshot_url,alt:i.postedBy.first_name})}),Object(v.jsx)(N.a,{item:!0,sm:8,md:8,children:Object(v.jsxs)(se.a,{pt:2,pl:2,children:[Object(v.jsx)(A.a,{variant:"body1",children:i.postedBy.full_name}),Object(v.jsxs)(A.a,{variant:"body1",children:[Pc()(i&&i.createdAt).format("MMM D"),"  . ",Ki(i&&i.body||" ").text]})]})})]})]})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:Object(v.jsxs)(N.a,{item:!0,sm:8,md:8,xs:12,className:u.blogContent,children:[Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(se.a,{justifyContent:"center",children:Object(v.jsx)("img",{src:i.featureImg,width:"100%"})}),Object(v.jsx)(se.a,{justifyContent:"center",children:Object(v.jsx)(A.a,{variant:"body1",className:u.body,children:Zc()(i.body)})})]}),Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),function(){var e=i&&i.categories.map((function(e,t){return Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,sm:3,md:3,children:Object(v.jsx)(en.a,{size:"small",label:e.name})})})}));return Object(v.jsx)(v.Fragment,{children:e})}(),Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),Object(v.jsx)("hr",{}),Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),Object(v.jsx)(s.b,{to:{pathname:"/content/blog/edit/".concat(i._id),state:i},children:Object(v.jsx)(_.a,{variant:"contained",onClick:function(){return d.push("")},className:u.button,size:"large",fullWidth:!0,children:"Edit Blog"})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),y&&Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:5,children:Object(v.jsxs)(se.a,{p:2,children:[Object(v.jsx)(Ji,{status:i.approval,setValue:function(e){return z(Object(l.a)(Object(l.a)({},I),{},{approval:e}))}}),Object(v.jsx)("br",{}),Object(v.jsx)(Xi,{status:i.status,setValue:function(e){return z(Object(l.a)(Object(l.a)({},I),{},{status:e}))}}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(_.a,{variant:"contained",color:"primary",size:"small",onClick:E,className:u.button,children:"Save Changes"})})})]})}),Object(v.jsxs)(N.a,{item:!0,sm:5,children:[Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:3,children:"Approval status"}),Object(v.jsx)(N.a,{item:!0,sm:9,children:Object(v.jsx)(en.a,{size:"small",label:i.approval.toLowerCase(),className:"WAITING"===i.approval?u.waiting:"APPROVED"===i.approval?u.approved:"NOT APPROVED"===i.approval?u.notApproved:""})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:3,children:"Live status"}),Object(v.jsx)(N.a,{item:!0,sm:9,children:Object(v.jsx)(en.a,{size:"small",label:i.status?"active":"inactive",className:i.status?u.approved:u.notApproved})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:3,children:"Updated By"}),Object(v.jsx)(N.a,{item:!0,sm:9,children:i.updatedBy.full_name})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:3,children:"Domain"}),Object(v.jsx)(N.a,{item:!0,sm:9,children:i.domain.url})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:3,children:"CreatedAt"}),Object(v.jsx)(N.a,{item:!0,sm:9,children:Pc()(i.createdAt).format("MMMM Do YYYY, h:mm a")})]})]})]})})]})})]})})}):Object(v.jsx)(_t,{})})),er=n(379),tr=Object(F.a)((function(e){var t,n;return{body:{letterSpacing:"-0.003em",lineHeight:"32px",marginTop:"2em",fontSize:"21px",marginBottom:"-0.46em",fontFamily:'charter, Georgia, Cambria, "Times New Roman", Times, serif',fontStyle:"normal",wordBreak:"break-word",color:"rgba(41, 41, 41, 1)",fontWeight:"400"},blogContent:(t={},Object(C.a)(t,e.breakpoints.up("sm"),{}),Object(C.a)(t,e.breakpoints.up("md"),{}),t),approved:{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}},button:{background:"#6387ED 0% 0% no-repeat padding-box",borderRadius:"8px",opacity:1,width:"100%",fontWeight:"500",height:"49px",textTransform:"none",color:"white","&:hover":{fontWeight:"500",background:"#6387ED 0% 0% no-repeat padding-box",color:"white"}},notApproved:{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}},waiting:{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)","&:hover":{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)"}},blogTitle:(n={padding:"0px 0px 20px 0px",fontSize:"48px",lineHeight:"60px",marginTop:"0.56em",marginBottom:"-0.27em",letterSpacing:"-0.011em",fontWeight:"400",color:"rgba(41, 41, 41, 1)",fontStyle:"normal",fontFamily:'fell, Georgia, Cambria, "Times New Roman", Times, serif'},Object(C.a)(n,e.breakpoints.down("xs"),{fontSize:"35px",lineHeight:"48px",padding:"0px 0px 50px 0px"}),Object(C.a)(n,e.breakpoints.up("sm"),{fontSize:"40px",padding:"0px 0px 50px 0px"}),n),headshot:{height:"70px",width:"70px",borderRadius:"50%",objectFit:"cover"}}})),nr=Object(o.h)((function(e){var t=e.match.params.id,n=Object(a.useState)(),c=Object(k.a)(n,2),i=c[0],r=c[1],j=x("token"),d=Object(o.g)(),u=tr(),O=Object(a.useState)(!1),m=Object(k.a)(O,2),h=m[0],p=m[1],f=Object(a.useState)(!1),g=Object(k.a)(f,2),y=g[0],w=g[1],C=Object(a.useState)({approval:"",status:""}),S=Object(k.a)(C,2),I=S[0],z=S[1];Object(a.useEffect)((function(){Object(U.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt("blog","update",j);case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})))()})),Object(a.useEffect)((function(){(function(e,t){return new Promise((function(n,a){b.get("/blog/single/".concat(e,"/my_blogs/read"),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))})(t,j).then((function(e){r(e),z(Object(l.a)(Object(l.a)({},I),{},{approval:e.approval,status:e.status}))})).catch((function(e){console.log(e)}))}),[h]);var E=function(){ui(t,I,j).then((function(e){p(!h)})).catch((function(e){console.log(e)}))};return i?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(_t,{page:"blog",permission:"read",children:Object(v.jsxs)(Nt.a,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsxs)(N.a,{item:!0,sm:8,md:8,children:[Object(v.jsx)(A.a,{variant:"h4",align:"center",className:u.blogTitle,children:i.title}),Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)("img",{className:u.headshot,src:i.postedBy.headshot_url,alt:i.postedBy.first_name})}),Object(v.jsx)(N.a,{item:!0,sm:8,md:8,children:Object(v.jsxs)(se.a,{pt:2,pl:2,children:[Object(v.jsx)(A.a,{variant:"body1",children:i.postedBy.full_name}),Object(v.jsxs)(A.a,{variant:"body1",children:[Pc()(i&&i.createdAt).format("MMM D"),"  . ",er(i&&i.body||" ").text]})]})})]})]})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:Object(v.jsxs)(N.a,{item:!0,sm:8,md:8,xs:12,className:u.blogContent,children:[Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(se.a,{justifyContent:"center",children:Object(v.jsx)("img",{src:i.featureImg,width:"100%"})}),Object(v.jsx)(se.a,{justifyContent:"center",children:Object(v.jsx)(A.a,{variant:"body1",className:u.body,children:Zc()(i.body)})})]}),Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),function(){var e=i&&i.categories.map((function(e,t){return Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,sm:3,md:3,children:Object(v.jsx)(en.a,{size:"small",label:e.name})})})}));return Object(v.jsx)(v.Fragment,{children:e})}(),Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),Object(v.jsx)("hr",{}),Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),Object(v.jsx)(s.b,{to:{pathname:"/content/myblog/edit/".concat(i._id),state:i},children:Object(v.jsx)(_.a,{variant:"contained",onClick:function(){return d.push("")},className:u.button,size:"large",fullWidth:!0,children:"Edit Blog"})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})," ",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),y&&Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:5,children:Object(v.jsxs)(se.a,{p:2,children:[Object(v.jsx)(Ji,{status:i.approval,setValue:function(e){return z(Object(l.a)(Object(l.a)({},I),{},{approval:e}))}}),Object(v.jsx)("br",{}),Object(v.jsx)(Xi,{status:i.status,setValue:function(e){return z(Object(l.a)(Object(l.a)({},I),{},{status:e}))}}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(_.a,{variant:"contained",color:"primary",size:"small",onClick:E,className:u.button,children:"Save Changes"})})})]})}),Object(v.jsxs)(N.a,{item:!0,sm:5,children:[Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:3,children:"Approval status"}),Object(v.jsx)(N.a,{item:!0,sm:9,children:Object(v.jsx)(en.a,{size:"small",label:i.approval.toLowerCase(),className:"WAITING"===i.approval?u.waiting:"APPROVED"===i.approval?u.approved:"NOT APPROVED"===i.approval?u.notApproved:""})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:3,children:"Live status"}),Object(v.jsx)(N.a,{item:!0,sm:9,children:Object(v.jsx)(en.a,{size:"small",label:i.status?"active":"inactive",className:i.status?u.approved:u.notApproved})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:3,children:"Updated By"}),Object(v.jsx)(N.a,{item:!0,sm:9,children:i.updatedBy.full_name})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:3,children:"Domain"}),Object(v.jsx)(N.a,{item:!0,sm:9,children:i.domain.url})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,sm:3,children:"CreatedAt"}),Object(v.jsx)(N.a,{item:!0,sm:9,children:Pc()(i.createdAt).format("MMMM Do YYYY, h:mm a")})]})]})]})})]})})]})})}):Object(v.jsx)(_t,{})})),ar=Object(F.a)((function(e){return{dialogRoot:{},button:{textTransform:"none",backgroundColor:"#3f51b5",color:"white",fontWeight:400,fontSize:"16px","&:hover":{backgroundColor:"#3f51b5"}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),cr=function(){var e=c.a.useState(!1),t=Object(k.a)(e,2),n=t[0],a=t[1],i=x("token"),r=ar(),s=c.a.useState(),o=Object(k.a)(s,2),j=o[0],d=o[1],u=c.a.useState({name:"",domain:"",success:"",error:""}),O=Object(k.a)(u,2),m=O[0],h=O[1];c.a.useEffect((function(){Ra(i).then((function(e){d(e)})).catch((function(e){console.log(e)}))}),[]);var p=function(){a(!1),h(Object(l.a)(Object(l.a)({},m),{},{success:"",error:"",name:"",domain:""}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:r.button,onClick:function(){a(!0)},color:"primary",children:"Add Category"})}),Object(v.jsx)(Bt.a,{open:n,onClose:p,disableBackdropClick:!0,children:Object(v.jsx)("div",{className:r.dialogRoot,children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t){return new Promise((function(n,a){b.post("/category/category/write",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}(m,i).then((function(e){h(Object(l.a)(Object(l.a)({},m),{},{success:e.message,error:"",name:"",domain:""}))})).catch((function(e){h(Object(l.a)(Object(l.a)({},m),{},{error:e.error,success:""}))}))},children:[Object(v.jsxs)(Dt.a,{children:[Object(v.jsxs)(Tt.a,{id:"customized-dialog-title",onClose:p,disableTypography:!0,className:r.root,children:[Object(v.jsx)(A.a,{variant:"h6",children:"Add a new category"}),n?Object(v.jsx)(K.a,{"aria-label":"close",onClick:p,className:r.closeButton,children:Object(v.jsx)(qt.a,{})}):null]}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:Object(v.jsxs)(N.a,{item:!0,sm:12,md:12,xs:12,children:[Object(v.jsxs)("div",{className:r.errorContainer,children:[m.success&&Object(v.jsx)(Mt.a,{severity:"success",children:m.success}),m.error&&Object(v.jsx)(Mt.a,{severity:"error",children:m.error})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,spacing:3,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,onChange:function(e){h(Object(l.a)(Object(l.a)({},m),{},{name:e.target.value}))},variant:"outlined",label:"Category name"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&h(Object(l.a)(Object(l.a)({},m),{},{domain:t._id}))},options:j,getOptionLabel:function(e){return e.name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Domain",variant:"outlined"}))}})})]})]})}),Object(v.jsx)("br",{})]}),Object(v.jsx)(Lt.a,{children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:r.button,type:"submit",children:"Submit"})})})]})})})]})},ir=Object(_e.a)(Gt.a).withConfig({displayName:"categoryList__Paper",componentId:"lm5c9f-0"})(an.b);function rr(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function sr(e,t){return"desc"===e?function(e,n){return rr(e,n,t)}:function(e,n){return-rr(e,n,t)}}function or(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var lr=[{id:"category",alignment:"left",label:"Category"},{id:"domainName",alignment:"left",label:"Domain Name"},{id:"domain URL",alignment:"left",label:"Domain URL"}];function jr(e){var t=e.order,n=e.orderBy,a=e.onRequestSort;return Object(v.jsx)(Yt.a,{children:Object(v.jsx)(Jt.a,{children:lr.map((function(e){return Object(v.jsx)($t.a,{align:e.alignment,padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,children:Object(v.jsx)(Xt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:e.label})},e.id);var c}))})})}function dr(e){var t=e.categories,n=c.a.useState("asc"),a=Object(k.a)(n,2),i=a[0],r=a[1],s=c.a.useState("customer"),o=Object(k.a)(s,2),l=o[0],j=o[1],d=c.a.useState([]),b=Object(k.a)(d,2),u=b[0],O=b[1],m=c.a.useState(0),h=Object(k.a)(m,2),x=h[0],p=h[1],f=c.a.useState(10),g=Object(k.a)(f,2),y=g[0],w=g[1],C=y-Math.min(y,t.length-x*y);return Object(v.jsx)("div",{children:Object(v.jsxs)(ir,{children:[Object(v.jsx)(Kt.a,{children:Object(v.jsxs)(Qt.a,{"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(v.jsx)(jr,{numSelected:u.length,order:i,orderBy:l,onSelectAllClick:function(e){if(e.target.checked){var n=t.map((function(e){return e.id}));O(n)}else O([])},onRequestSort:function(e,t){r(l===t&&"asc"===i?"desc":"asc"),j(t)},rowCount:t.length}),Object(v.jsxs)(Zt.a,{children:[or(t,sr(i,l)).slice(x*y,x*y+y).map((function(e,t){console.log(e);var n,a=(n=e._id,-1!==u.indexOf(n));return Object(v.jsxs)(Jt.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(v.jsx)($t.a,{align:"left",children:e.name}),Object(v.jsx)($t.a,{align:"left",children:e.domain&&e.domain.name}),Object(v.jsx)($t.a,{align:"left",children:e.domain&&e.domain.url})]},"".concat(e.title,"-").concat(t))})),C>0&&Object(v.jsx)(Jt.a,{style:{height:20*C},children:Object(v.jsx)($t.a,{colSpan:8})})]})]})}),Object(v.jsx)(tn.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:y,page:x,onChangePage:function(e,t){p(t)},onChangeRowsPerPage:function(e){w(parseInt(e.target.value,10)),p(0)}})]})})}var br=function(e){var t=e.categoryList;return Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(N.a,{container:!0,spacing:6,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(v.jsx)(dr,{categories:t})})})})},ur=Object(F.a)((function(e){return{cardRoot:{padding:"10px"},formControl:{minWidth:120},submitBtn:{margin:"0px 1px"},btnContainer:{padding:"10px 0px 0px 0px"}}})),Or=function(e){var t=e.filterCategoryList,n=ur(),c=Object(a.useState)([]),i=Object(k.a)(c,2),r=i[0],s=i[1],o=Object(a.useState)([]),j=Object(k.a)(o,2),d=j[0],b=j[1],u=Object(a.useState)({domain:"",category:""}),O=Object(k.a)(u,2),m=O[0],h=O[1],p=Object(a.useState)({domain:"",category:""}),f=Object(k.a)(p,2),g=f[0],y=f[1],w=x("token");Object(a.useEffect)((function(){Ra(w).then((function(e){b(e)})).catch((function(e){console.log(e)})),Oi(w).then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){mi(g,w).then((function(e){t(e)})).catch((function(e){console.log(e)}))}),[g]);var C=function(e){return function(t){switch(e){case"domain":0===t.target.value.length&&y(Object(l.a)(Object(l.a)({},g),{},{domain:""}));break;case"category":0===t.target.value.length&&y(Object(l.a)(Object(l.a)({},g),{},{category:""}))}}};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Nt.a,{className:n.cardRoot,children:Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),mi(g,w).then((function(e){t(e)})).catch((function(e){console.log(e)}))},children:Object(v.jsxs)(N.a,{container:!0,spacing:2,justify:"center",children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&(y(Object(l.a)(Object(l.a)({},g),{},{category:t._id})),h(Object(l.a)(Object(l.a)({},m),{},{category:t})))},closeIcon:Object(v.jsx)(v.Fragment,{}),value:m.category,size:"small",options:r,getOptionLabel:function(e){return e.name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Category name",variant:"outlined",onChange:C("category")}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(Wt.a,{onChange:function(e,t){t&&(y(Object(l.a)(Object(l.a)({},g),{},{domain:t._id})),h(Object(l.a)(Object(l.a)({},m),{},{domain:t})))},closeIcon:Object(v.jsx)(v.Fragment,{}),value:m.domain,size:"small",options:d,getOptionLabel:function(e){return e.name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Domain",variant:"outlined",onChange:C("project")}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(N.a,{container:!0,justify:"flex-start",spacing:1,className:n.btnContainer,children:Object(v.jsx)(N.a,{xs:12,sm:12,md:12,lg:12,children:Object(v.jsx)(_.a,{size:"small",variant:"contained",color:"primary",onClick:function(){y(Object(l.a)(Object(l.a)({},g),{},{domain:"",category:""})),h(Object(l.a)(Object(l.a)({},m),{},{domain:"",category:""}))},children:"Reset"})})})})]})})})})},mr=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),r=Object(k.a)(i,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){o(n)}),[n]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"category",permission:"read",children:[Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,md:9,sm:9,xs:12,children:Object(v.jsx)(se.a,{pl:3,children:Object(v.jsx)(A.a,{variant:"h5",children:"Categories"})})}),Object(v.jsx)(N.a,{item:!0,md:3,sm:3,xs:12,children:Object(v.jsx)(cr,{})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(Or,{filterCategoryList:function(e){return c(e)}}),Object(v.jsx)(br,{categoryList:s})]})})},hr=Object(F.a)((function(e){return{dialogRoot:{},button:{textTransform:"none",backgroundColor:"#3f51b5",color:"white",fontWeight:400,fontSize:"16px","&:hover":{backgroundColor:"#3f51b5"}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),xr=function(){var e=c.a.useState(!1),t=Object(k.a)(e,2),n=t[0],a=t[1],i=x("token"),r=hr(),s=c.a.useState({name:"",url:"",success:"",error:""}),o=Object(k.a)(s,2),j=o[0],d=o[1],u=function(){a(!1),d(Object(l.a)(Object(l.a)({},j),{},{success:"",error:"",name:"",url:""}))},O=function(e){return function(t){switch(e){case"name":d(Object(l.a)(Object(l.a)({},j),{},{name:t.target.value}));break;case"url":d(Object(l.a)(Object(l.a)({},j),{},{url:t.target.value}))}}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:r.button,onClick:function(){a(!0)},color:"primary",children:"Add Domain"})}),Object(v.jsx)(Bt.a,{open:n,onClose:u,disableBackdropClick:!0,children:Object(v.jsx)("div",{className:r.dialogRoot,children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t){return new Promise((function(n,a){b.post("/domain/domain/write",e,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))}(j,i).then((function(e){d(Object(l.a)(Object(l.a)({},j),{},{success:e.message,error:"",name:"",url:""}))})).catch((function(e){console.log(e),d(Object(l.a)(Object(l.a)({},j),{},{error:e.error,success:""}))}))},children:[Object(v.jsxs)(Dt.a,{children:[Object(v.jsxs)(Tt.a,{id:"customized-dialog-title",onClose:u,disableTypography:!0,className:r.root,children:[Object(v.jsx)(A.a,{variant:"h6",children:"Add a new domain"}),n?Object(v.jsx)(K.a,{"aria-label":"close",onClick:u,className:r.closeButton,children:Object(v.jsx)(qt.a,{})}):null]}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:Object(v.jsxs)(N.a,{item:!0,sm:12,md:12,xs:12,children:[Object(v.jsxs)("div",{className:r.errorContainer,children:[j.success&&Object(v.jsx)(Mt.a,{severity:"success",children:j.success}),j.error&&Object(v.jsx)(Mt.a,{severity:"error",children:j.error})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,spacing:3,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,onChange:O("name"),variant:"outlined",label:"Domain name"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,placeholder:"http://example.com",onChange:O("url"),variant:"outlined"})})]})]})}),Object(v.jsx)("br",{})]}),Object(v.jsx)(Lt.a,{children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(_.a,{variant:"contained",className:r.button,type:"submit",children:"Submit"})})})]})})})]})},pr=Object(F.a)((function(e){return{cardRoot:{padding:"10px"},formControl:{minWidth:120},submitBtn:{margin:"0px 1px"},btnContainer:{padding:"10px 0px 0px 0px"}}})),fr=function(e){var t=e.domains,n=pr(),c=Object(a.useState)([]),i=Object(k.a)(c,2),r=i[0],s=i[1],o=x("token"),j=Object(a.useState)({name:""}),d=Object(k.a)(j,2),b=d[0],u=d[1],O=Object(a.useState)({name:""}),m=Object(k.a)(O,2),h=m[0],p=m[1];Object(a.useEffect)((function(){Ra(o).then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){Ba(h,o).then((function(e){t(e)})).catch((function(e){console.log(e)}))}),[h]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Nt.a,{className:n.cardRoot,children:Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),Ba(h,o).then((function(e){t(e)})).catch((function(e){console.log(e)}))},children:Object(v.jsxs)(N.a,{container:!0,spacing:2,justify:"center",children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:4,md:3,lg:3,children:Object(v.jsx)(Wt.a,{closeIcon:Object(v.jsx)(v.Fragment,{}),onChange:function(e,t){t&&(p(Object(l.a)(Object(l.a)({},h),{},{name:t.name})),u(Object(l.a)(Object(l.a)({},b),{},{name:t})))},size:"small",value:b.name,options:r,getOptionLabel:function(e){return e.name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Domain name",variant:"outlined",onChange:(t="Domain",function(e){switch(t){case"Domain":0===e.target.value.length&&p(Object(l.a)(Object(l.a)({},h),{},{name:""}))}})}));var t}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:2,md:2,lg:2,children:Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:1,className:n.btnContainer,children:Object(v.jsx)(N.a,{xs:6,sm:4,md:4,lg:4,children:Object(v.jsx)(_.a,{size:"small",variant:"contained",color:"primary",onClick:function(){p({name:""}),u({name:""})},children:"Reset"})})})})]})})})})},gr=Object(_e.a)(Gt.a).withConfig({displayName:"domainList__Paper",componentId:"fip3w5-0"})(an.b);function vr(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function yr(e,t){return"desc"===e?function(e,n){return vr(e,n,t)}:function(e,n){return-vr(e,n,t)}}function wr(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var kr=[{id:"domainID",alignment:"left",label:"Domain ID"},{id:"name",alignment:"left",label:"Domain name"},{id:"url",alignment:"left",label:"URL"},{id:"createdBy",alignment:"right",label:"Created By"},{id:"updatedBy",alignment:"right",label:"Updated By"}];function Cr(e){var t=e.order,n=e.orderBy,a=e.onRequestSort;return Object(v.jsx)(Yt.a,{children:Object(v.jsx)(Jt.a,{children:kr.map((function(e){return Object(v.jsx)($t.a,{align:e.alignment,padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,children:Object(v.jsx)(Xt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:e.label})},e.id);var c}))})})}function Sr(e){var t=e.domains,n=c.a.useState("asc"),a=Object(k.a)(n,2),i=a[0],r=a[1],s=c.a.useState("customer"),o=Object(k.a)(s,2),l=o[0],j=o[1],d=c.a.useState([]),b=Object(k.a)(d,2),u=b[0],O=b[1],m=c.a.useState(0),h=Object(k.a)(m,2),x=h[0],p=h[1],f=c.a.useState(10),g=Object(k.a)(f,2),y=g[0],w=g[1],C=y-Math.min(y,t.length-x*y);return Object(v.jsx)("div",{children:Object(v.jsxs)(gr,{children:[Object(v.jsx)(Kt.a,{children:Object(v.jsxs)(Qt.a,{"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(v.jsx)(Cr,{numSelected:u.length,order:i,orderBy:l,onSelectAllClick:function(e){if(e.target.checked){var n=t.map((function(e){return e.id}));O(n)}else O([])},onRequestSort:function(e,t){r(l===t&&"asc"===i?"desc":"asc"),j(t)},rowCount:t.length}),Object(v.jsxs)(Zt.a,{children:[wr(t,yr(i,l)).slice(x*y,x*y+y).map((function(e,t){var n,a=(n=e.id,-1!==u.indexOf(n));return Object(v.jsxs)(Jt.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(v.jsx)($t.a,{align:"left",children:e._id}),Object(v.jsx)($t.a,{align:"left",children:e.name}),Object(v.jsx)($t.a,{align:"left",children:e.url}),Object(v.jsx)($t.a,{align:"right",children:e.createdBy.full_name}),Object(v.jsx)($t.a,{align:"right",children:e.updatedBy.full_name||"Deleted user"})]},"".concat(e.title,"-").concat(t))})),C>0&&Object(v.jsx)(Jt.a,{style:{height:20*C},children:Object(v.jsx)($t.a,{colSpan:8})})]})]})}),Object(v.jsx)(tn.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:y,page:x,onChangePage:function(e,t){p(t)},onChangeRowsPerPage:function(e){w(parseInt(e.target.value,10)),p(0)}})]})})}var _r=function(e){var t=e.domainList;return Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(N.a,{container:!0,spacing:6,children:Object(v.jsx)(N.a,{item:!0,xs:12,children:Object(v.jsx)(Sr,{domains:t})})})})},Nr=function(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),r=Object(k.a)(i,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){o(n)}),[n]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"domain",permission:"read",children:[Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,md:9,sm:9,xs:12,children:Object(v.jsx)(se.a,{pl:3,children:Object(v.jsx)(A.a,{variant:"h5",children:"Domains"})})}),Object(v.jsx)(N.a,{item:!0,md:3,sm:3,xs:12,children:Object(v.jsx)(xr,{})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(fr,{domains:function(e){return c(e)}}),Object(v.jsx)(_r,{domainList:s})]})})},Ar=Object(_e.a)(Gt.a).withConfig({displayName:"myBlogs__Paper",componentId:"uf176x-0"})(an.b);function Ir(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function zr(e,t){return"desc"===e?function(e,n){return Ir(e,n,t)}:function(e,n){return-Ir(e,n,t)}}function Er(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Pr=[{id:"title",alignment:"left",label:"Blog Title"},{id:"task_id",alignment:"left",label:"Task ID"},{id:"status",alignment:"left",label:"Status"},{id:"approval",alignment:"left",label:"Approval Status"},{id:"domain",alignment:"left",label:"Domain"},{id:"postedBy",alignment:"right",label:"Posted By"},{id:"detail",alignment:"right",label:"Detail"}];function Fr(e){var t=e.order,n=e.orderBy,a=e.onRequestSort;return Object(v.jsx)(Yt.a,{children:Object(v.jsx)(Jt.a,{children:Pr.map((function(e){return Object(v.jsx)($t.a,{align:e.alignment,padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,children:Object(v.jsx)(Xt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:e.label})},e.id);var c}))})})}function Rr(e){var t=e.blogs,n=c.a.useState("asc"),a=Object(k.a)(n,2),i=a[0],r=a[1],s=c.a.useState("customer"),l=Object(k.a)(s,2),j=l[0],d=l[1],b=c.a.useState([]),u=Object(k.a)(b,2),O=u[0],m=u[1],h=c.a.useState(0),x=Object(k.a)(h,2),p=x[0],f=x[1],g=c.a.useState(10),y=Object(k.a)(g,2),w=y[0],C=y[1],S=Object(o.g)(),_=w-Math.min(w,t.length-p*w);return Object(v.jsx)("div",{children:Object(v.jsxs)(Ar,{children:[Object(v.jsx)(Kt.a,{children:Object(v.jsxs)(Qt.a,{"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(v.jsx)(Fr,{numSelected:O.length,order:i,orderBy:j,onSelectAllClick:function(e){if(e.target.checked){var n=t.map((function(e){return e.id}));m(n)}else m([])},onRequestSort:function(e,t){r(j===t&&"asc"===i?"desc":"asc"),d(t)},rowCount:t.length}),0===t.length?Object(v.jsx)(se.a,{p:2,children:Object(v.jsx)(A.a,{variant:"h5",children:"No Blog found"})}):Object(v.jsxs)(Zt.a,{children:[Er(t,zr(i,j)).slice(p*w,p*w+w).map((function(e,t){var n,a=(n=e.id,-1!==O.indexOf(n));return Object(v.jsxs)(Jt.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(v.jsx)($t.a,{align:"left",children:e.title}),Object(v.jsx)($t.a,{align:"left",children:e.task&&e.task.task_id}),Object(v.jsxs)($t.a,{align:"left",children:[!0===e.status&&Object(v.jsx)(en.a,{size:"small",label:"ACTIVE",style:{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}}),!1===e.status&&Object(v.jsx)(en.a,{size:"small",label:"INACTIVE",style:{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}})]}),Object(v.jsxs)($t.a,{align:"left",children:["WAITING"===e.approval&&Object(v.jsx)(en.a,{size:"small",label:e.approval,style:{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)"}}),"APPROVED"===e.approval&&Object(v.jsx)(en.a,{size:"small",label:e.approval,style:{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}}),"NOT APPROVED"===e.approval&&Object(v.jsx)(en.a,{size:"small",label:e.approval,style:{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}})]}),Object(v.jsx)($t.a,{align:"left",children:e.domain&&e.domain.name||"Deleted"}),Object(v.jsx)($t.a,{align:"right",children:e.postedBy&&e.postedBy.full_name||"Deleted user"}),Object(v.jsx)($t.a,{padding:"none",align:"right",children:Object(v.jsx)(se.a,{mr:2,children:Object(v.jsx)(K.a,{"aria-label":"details",onClick:function(){return S.push("/content/myblog/detail/".concat(e._id))},children:Object(v.jsx)(nn.a,{})})})})]},"".concat(e.title,"-").concat(t))})),_>0&&Object(v.jsx)(Jt.a,{style:{height:20*_},children:Object(v.jsx)($t.a,{colSpan:8})})]})]})}),Object(v.jsx)(tn.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:w,page:p,onChangePage:function(e,t){f(t)},onChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),f(0)}})]})})}var Br=function(){var e=x("token"),t=c.a.useState([]),n=Object(k.a)(t,2),a=n[0],i=n[1];return c.a.useEffect((function(){(function(e){return new Promise((function(t,n){b.get("/blog/my-blogs/my_blogs/read",{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&t(e.data),n(e.data)})).catch((function(e){n(e)}))}))})(e).then((function(e){i(e)})).catch((function(e){console.log(e)}))}),[]),Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(N.a,{container:!0,spacing:6,children:Object(v.jsx)(N.a,{item:!0,xs:12,children:Object(v.jsx)(Rr,{blogs:a})})})})},Dr=function(){return Object(v.jsxs)(_t,{page:"my_blogs",permission:"read",children:[Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,md:9,sm:9,xs:12,children:Object(v.jsx)(se.a,{pl:3,children:Object(v.jsx)(A.a,{variant:"h5",children:"My Blogs"})})}),Object(v.jsx)(N.a,{item:!0,md:3,sm:3,xs:12})]}),Object(v.jsx)("br",{}),Object(v.jsx)(Br,{})]})},Tr=Object(_e.a)(hi.a).withConfig({displayName:"editBlog__CloudUpload",componentId:"ie0xdd-0"})(an.b),Lr=Object(F.a)((function(e){return{cardRoot:{padding:"30px 10px 30px 10px"},form:{marginBottom:"20vh"},titleInput:{backgroundColor:"white",margin:"0px 0px 20px 0px"},button:{textTransform:"none",marginTop:"5px"},featureRoot:{height:"100%",maxHeight:"250px",width:"100%"},editor:{"& .ql-editor":{minHeight:"50vh",letterSpacing:"-0.003em",lineHeight:"32px",marginTop:"2em",fontSize:"21px",marginBottom:"-0.46em",fontFamily:'charter, Georgia, Cambria, "Times New Roman", Times, serif',fontStyle:"normal",wordBreak:"break-word",color:"rgba(41, 41, 41, 1)",fontWeight:"400"},"& .ql-container.ql-snow":{border:"0px solid #ccc"}},editorContainer:{minHeight:"70vh"}}})),Wr=Object(o.h)((function(e){var t=e.match.params,n=e.location.state,i=Lr(),r=Object(o.g)(),s=x("token"),j=c.a.useState({title:n.title,body:n.body,categories:n.categories,domain:n.domain,featureImg:n.featureImg,isLoading:!1}),d=Object(k.a)(j,2),u=d[0],O=d[1],m=c.a.useState([]),h=Object(k.a)(m,2),f=h[0],g=h[1],y=c.a.useState([]),w=Object(k.a)(y,2),C=w[0],z=w[1],E=c.a.useState(),P=Object(k.a)(E,2),F=(P[0],P[1],c.a.useState()),R=Object(k.a)(F,2);R[0],R[1];c.a.useEffect((function(){Oi(s).then((function(e){g(e)})).catch((function(e){console.log(e)})),Ra(s).then((function(e){z(e)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){Oi(u.domain._id,s).then((function(e){g(e)})).catch((function(e){console.log(e)}))}),[u.domain]);var B=function(e){return function(){var t=Object(U.a)(q.a.mark((function t(n){var a,c,i;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next="title"===t.t0?3:"body"===t.t0?6:"featureImg"===t.t0?9:17;break;case 3:return localStorage.setItem("title",JSON.stringify(n.target.value)),O(Object(l.a)(Object(l.a)({},u),{},{title:n.target.value})),t.abrupt("break",17);case 6:return localStorage.setItem("blog",JSON.stringify(n)),O(Object(l.a)(Object(l.a)({},u),{},{body:n})),t.abrupt("break",17);case 9:return a=n.target.files[0],(c=new FormData).append("upload",a),t.next=14,D(c);case 14:return i=t.sent,O(Object(l.a)(Object(l.a)({},u),{},{featureImg:i})),t.abrupt("break",17);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function D(e){return T.apply(this,arguments)}function T(){return(T=Object(U.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(Object(l.a)(Object(l.a)({},u),{},{isLoading:!0})),e.next=3,Ha(t,s);case 3:if(!(n=e.sent)){e.next=7;break}return O(Object(l.a)(Object(l.a)({},u),{},{isLoading:!1})),e.abrupt("return",n.url);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){var e=this,t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.click(),t.onchange=Object(U.a)(q.a.mark((function n(){var a,c,i,r;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.files[0],(c=new FormData).append("upload",a),i=e.quill.getSelection(!0),e.quill.insertEmbed(i.index,"image","".concat(window.location.origin,"/images/loaders/placeholder.gif")),e.quill.setSelection(i.index+1),n.next=8,D(c);case 8:r=n.sent,e.quill.deleteText(i.index,1),e.quill.insertEmbed(i.index,"image",r);case 11:case"end":return n.stop()}}),n)})))}var W=Object(a.useMemo)((function(){return{toolbar:{container:[[{header:"1"},{header:"2"},{header:[3,4,5,6]},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["link","video"],["link","image","video"],["clean"],["code-block"]],handlers:{image:L}}}}),[]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"blog",permission:"write",children:[Object(v.jsx)(I.a,{}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,spacing:6,children:[Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(A.a,{variant:"h5"})}),Object(v.jsx)(N.a,{item:!0})]}),Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,n){return new Promise((function(a,c){b.patch("/blog/update/".concat(e,"/blog/update"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}(t.id,u,s).then((function(e){I.b.success(e.message),p("blog"),p("title"),r.push("/my-blogs")})).catch((function(e){I.b.error(e.error)}))},className:i.form,children:Object(v.jsxs)(N.a,{container:!0,spacing:6,children:[Object(v.jsx)(N.a,{item:!0,xs:12,md:9,sm:9,lg:9,children:Object(v.jsxs)("div",{className:i.editorContainer,children:[Object(v.jsx)(S.a,{onChange:B("title"),fullWidth:!0,value:u.title,className:i.titleInput,size:"medium",label:"Blog Title",variant:"outlined"}),Object(v.jsx)(Kc.a,{value:u.body,modules:W,className:i.editor,onChange:B("body")}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(_.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Submit"})})})]})}),Object(v.jsxs)(N.a,{item:!0,xs:12,md:3,sm:3,lg:3,children:[Object(v.jsx)(le.a,{alt:"",src:u.featureImg,className:i.featureRoot,variant:"square",children:"Feature Image"}),Object(v.jsx)("input",{onChange:B("featureImg"),accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file"}),Object(v.jsx)("label",{htmlFor:"raised-button-file",children:Object(v.jsxs)(_.a,{variant:"contained",color:"primary",fullWidth:!0,className:i.button,component:"span",children:[Object(v.jsx)(Tr,{mr:1})," ",u.isLoading?"Uploading ...":"Upload Feature IMG"]})}),Object(v.jsx)("br",{}),"  ",Object(v.jsx)("br",{}),Object(v.jsx)(Wt.a,{defaultValue:u.domain,onChange:function(e,t){t&&O(Object(l.a)(Object(l.a)({},u),{},{domain:t._id}))},options:C,getOptionLabel:function(e){return e.name},style:{width:"100%",background:"white"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Domain",variant:"outlined"}))}}),Object(v.jsx)("br",{}),Object(v.jsx)(Wt.a,{defaultValue:u.categories,multiple:!0,disabled:0===u.domain.length,onChange:function(e,t){t&&O(Object(l.a)(Object(l.a)({},u),{},{categories:t.map((function(e){return e._id}))}))},options:f||"",getOptionLabel:function(e){return e.name},style:{width:"100%",background:"white"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Category",variant:"outlined",value:u.categories}))}})]})]})})]})})})),Mr=Object(_e.a)(hi.a).withConfig({displayName:"myBlogEdit__CloudUpload",componentId:"sc-53p9bd-0"})(an.b),Vr=Object(F.a)((function(e){return{cardRoot:{padding:"30px 10px 30px 10px"},form:{marginBottom:"20vh"},titleInput:{backgroundColor:"white",margin:"0px 0px 20px 0px"},button:{textTransform:"none",marginTop:"5px"},featureRoot:{height:"100%",maxHeight:"250px",width:"100%"},editor:{"& .ql-editor":{minHeight:"50vh",letterSpacing:"-0.003em",lineHeight:"32px",marginTop:"2em",fontSize:"21px",marginBottom:"-0.46em",fontFamily:'charter, Georgia, Cambria, "Times New Roman", Times, serif',fontStyle:"normal",wordBreak:"break-word",color:"rgba(41, 41, 41, 1)",fontWeight:"400"},"& .ql-container.ql-snow":{border:"0px solid #ccc"}},editorContainer:{minHeight:"70vh"}}})),qr=Object(o.h)((function(e){var t=e.match.params,n=e.location.state,i=Vr(),r=Object(o.g)(),s=x("token"),j=c.a.useState({title:n.title,body:n.body,categories:n.categories,domain:n.domain,featureImg:n.featureImg,isLoading:!1}),d=Object(k.a)(j,2),u=d[0],O=d[1],m=c.a.useState([]),h=Object(k.a)(m,2),f=h[0],g=h[1],y=c.a.useState([]),w=Object(k.a)(y,2),C=w[0],z=w[1],E=c.a.useState(),P=Object(k.a)(E,2),F=(P[0],P[1],c.a.useState()),R=Object(k.a)(F,2);R[0],R[1];c.a.useEffect((function(){Oi(s).then((function(e){g(e)})).catch((function(e){console.log(e)})),Ra(s).then((function(e){z(e)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){Oi(u.domain._id,s).then((function(e){g(e)})).catch((function(e){console.log(e)}))}),[u.domain]);var B=function(e){return function(){var t=Object(U.a)(q.a.mark((function t(n){var a,c,i;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next="title"===t.t0?3:"body"===t.t0?6:"featureImg"===t.t0?9:17;break;case 3:return localStorage.setItem("title",JSON.stringify(n.target.value)),O(Object(l.a)(Object(l.a)({},u),{},{title:n.target.value})),t.abrupt("break",17);case 6:return localStorage.setItem("blog",JSON.stringify(n)),O(Object(l.a)(Object(l.a)({},u),{},{body:n})),t.abrupt("break",17);case 9:return a=n.target.files[0],(c=new FormData).append("upload",a),t.next=14,D(c);case 14:return i=t.sent,O(Object(l.a)(Object(l.a)({},u),{},{featureImg:i})),t.abrupt("break",17);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function D(e){return T.apply(this,arguments)}function T(){return(T=Object(U.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(Object(l.a)(Object(l.a)({},u),{},{isLoading:!0})),e.next=3,Ha(t,s);case 3:if(!(n=e.sent)){e.next=7;break}return O(Object(l.a)(Object(l.a)({},u),{},{isLoading:!1})),e.abrupt("return",n.url);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){var e=this,t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.click(),t.onchange=Object(U.a)(q.a.mark((function n(){var a,c,i,r;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.files[0],(c=new FormData).append("upload",a),i=e.quill.getSelection(!0),e.quill.insertEmbed(i.index,"image","".concat(window.location.origin,"/images/loaders/placeholder.gif")),e.quill.setSelection(i.index+1),n.next=8,D(c);case 8:r=n.sent,e.quill.deleteText(i.index,1),e.quill.insertEmbed(i.index,"image",r);case 11:case"end":return n.stop()}}),n)})))}var W=Object(a.useMemo)((function(){return{toolbar:{container:[[{header:"1"},{header:"2"},{header:[3,4,5,6]},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["link","video"],["link","image","video"],["clean"],["code-block"]],handlers:{image:L}}}}),[]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"blog",permission:"write",children:[Object(v.jsx)(I.a,{}),Object(v.jsx)("br",{}),Object(v.jsxs)(N.a,{container:!0,spacing:6,children:[Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(A.a,{variant:"h5"})}),Object(v.jsx)(N.a,{item:!0})]}),Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,n){return new Promise((function(a,c){b.patch("/blog/update/".concat(e,"/my_blogs/update"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}(t.id,u,s).then((function(e){I.b.success(e.message),p("blog"),p("title"),r.push("/my-blogs")})).catch((function(e){I.b.error(e.error)}))},className:i.form,children:Object(v.jsxs)(N.a,{container:!0,spacing:6,children:[Object(v.jsx)(N.a,{item:!0,xs:12,md:9,sm:9,lg:9,children:Object(v.jsxs)("div",{className:i.editorContainer,children:[Object(v.jsx)(S.a,{onChange:B("title"),fullWidth:!0,value:u.title,className:i.titleInput,size:"medium",label:"Blog Title",variant:"outlined"}),Object(v.jsx)(Kc.a,{value:u.body,modules:W,className:i.editor,onChange:B("body")}),Object(v.jsx)("br",{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(_.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Submit"})})})]})}),Object(v.jsxs)(N.a,{item:!0,xs:12,md:3,sm:3,lg:3,children:[Object(v.jsx)(le.a,{alt:"",src:u.featureImg,className:i.featureRoot,variant:"square",children:"Feature Image"}),Object(v.jsx)("input",{onChange:B("featureImg"),accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file"}),Object(v.jsx)("label",{htmlFor:"raised-button-file",children:Object(v.jsxs)(_.a,{variant:"contained",color:"primary",fullWidth:!0,className:i.button,component:"span",children:[Object(v.jsx)(Mr,{mr:1})," ",u.isLoading?"Uploading ...":"Upload Feature IMG"]})}),Object(v.jsx)("br",{}),"  ",Object(v.jsx)("br",{}),Object(v.jsx)(Wt.a,{defaultValue:u.domain,onChange:function(e,t){t&&O(Object(l.a)(Object(l.a)({},u),{},{domain:t._id}))},options:C,getOptionLabel:function(e){return e.name},style:{width:"100%",background:"white"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Domain",variant:"outlined"}))}}),Object(v.jsx)("br",{}),Object(v.jsx)(Wt.a,{defaultValue:u.categories,multiple:!0,disabled:0===u.domain.length,onChange:function(e,t){t&&O(Object(l.a)(Object(l.a)({},u),{},{categories:t.map((function(e){return e._id}))}))},options:f||"",getOptionLabel:function(e){return e.name},style:{width:"100%",background:"white"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Category",variant:"outlined",value:u.categories}))}})]})]})})]})})})),Ur=g()&&g()._id,Hr=Object(F.a)((function(e){return{dialogRoot:{},button:{textTransform:"none",backgroundColor:"#3f51b5",color:"white",fontWeight:400,fontSize:"15px","&:hover":{backgroundColor:"#3f51b5"}},root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},formControl:{minWidth:120,width:"100%"}}})),Gr=function(e){var t=e.editTask,n=e.reload,a=Hr(),i=c.a.useState([]),r=Object(k.a)(i,2),s=r[0],o=r[1],j=c.a.useState([]),d=Object(k.a)(j,2),u=d[0],O=d[1],m=c.a.useState(!1),h=Object(k.a)(m,2),p=h[0],f=h[1],g=c.a.useState(!1),y=Object(k.a)(g,2),w=y[0],C=y[1],z=c.a.useState(!1),E=Object(k.a)(z,2),P=E[0],F=E[1],R=c.a.useState(!1),B=Object(k.a)(R,2),D=B[0],T=B[1],L=x("token"),W=function(){T(!1)},M=c.a.useState({title:"",owner:Ur,status:"",description:"",project_id:"",assignee:"",follower:"",deadline:"",error:"",success:"",isLoading:!1}),V=Object(k.a)(M,2),H=V[0],G=V[1];c.a.useEffect((function(){ua(L).then((function(e){o(e.projects)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){G(Object(l.a)(Object(l.a)({},H),{},{title:t.title,status:t.status,description:t.description,attachments:t.attachments,project_id:t.project_id,assignee:t.assignee,follower:t.follower}))}),[D]),c.a.useEffect((function(){pt(L).then((function(e){O(e.employees)})).catch((function(e){console.log(e)}))}),[]),c.a.useEffect((function(){Object(U.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt("task","update",L);case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})))()}),[]);var Y=function(e){return function(){var t=Object(U.a)(q.a.mark((function t(n){var a,c,i;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next="title"===t.t0?3:"description"===t.t0?5:"deadline"===t.t0?7:"attachments"===t.t0?9:18;break;case 3:return G(Object(l.a)(Object(l.a)({},H),{},{title:n.target.value})),t.abrupt("break",18);case 5:return G(Object(l.a)(Object(l.a)({},H),{},{description:n.target.value})),t.abrupt("break",18);case 7:return G(Object(l.a)(Object(l.a)({},H),{},{deadline:n.target.value})),t.abrupt("break",18);case 9:return a=n.target.files[0],(c=new FormData).append("upload",a),t.next=14,J(c);case 14:return i=t.sent,f(!1),G(Object(l.a)(Object(l.a)({},H),{},{attachments:[].concat(Object(Ua.a)(H.attachments),[{url:i,filename:a.name}])})),t.abrupt("break",18);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function J(e){return $.apply(this,arguments)}function $(){return($=Object(U.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Ha(t,L);case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.url);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(e){e.preventDefault(),G(Object(l.a)(Object(l.a)({},H),{},{isLoading:!0})),function(e,t,n){return new Promise((function(a,c){b.patch("/update/task/".concat(e,"/my_tasks/update"),t,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){200===e.status&&a(e.data),c(e.data)})).catch((function(e){c(e)}))}))}(t._id,H,L).then((function(e){I.b.success(e.message),G(Object(l.a)(Object(l.a)({},H),{},{title:"",owner:"",description:"",project_id:"",assignee:"",follower:"",deadline:"",error:"",success:e.message,isLoading:!1})),F(!P),n(P),W()})).catch((function(e){I.b.error(e.error),G(Object(l.a)(Object(l.a)({},H),{},{error:e.error,success:"",isLoading:!1}))}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I.a,{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(se.a,{children:Object(v.jsx)(K.a,{"aria-label":"details",onClick:function(){T(!0)},children:Object(v.jsx)(Ka.a,{})})})}),Object(v.jsx)(Bt.a,{open:D,onClose:W,disableBackdropClick:!0,children:Object(v.jsx)("div",{className:a.dialogRoot,children:Object(v.jsxs)("form",{onSubmit:X,children:[Object(v.jsxs)(Dt.a,{children:[Object(v.jsxs)(Tt.a,{id:"customized-dialog-title",onClose:W,disableTypography:!0,className:a.root,children:[Object(v.jsx)(A.a,{variant:"h6",children:"Update Task"}),D?Object(v.jsx)(K.a,{"aria-label":"close",onClick:W,className:a.closeButton,children:Object(v.jsx)(qt.a,{})}):null]}),Object(v.jsx)(N.a,{container:!0,justify:"center",spacing:3,children:Object(v.jsxs)(N.a,{item:!0,sm:12,md:12,xs:12,children:[Object(v.jsx)("br",{}),Object(v.jsx)("form",{onSubmit:X,children:Object(v.jsxs)(N.a,{container:!0,spacing:3,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,value:H.title,onChange:Y("title"),variant:"outlined",label:"Title"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(S.a,{fullWidth:!0,multiline:!0,rows:3,onChange:Y("description"),value:H.description,variant:"outlined",label:"Description"})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsxs)(On.a,{variant:"outlined",className:a.formControl,children:[Object(v.jsx)(un.a,{id:"demo-simple-select-outlined-label",children:"Status"}),Object(v.jsxs)(mn.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:H.status,onChange:function(e){return G(Object(l.a)(Object(l.a)({},H),{},{status:e.target.value}))},label:"Status",children:[Object(v.jsx)(ge.a,{value:"Open",children:"Open"}),Object(v.jsx)(ge.a,{value:"Blog Review",children:"Blog Review"}),Object(v.jsx)(ge.a,{value:"Done",children:"Done"}),Object(v.jsx)(ge.a,{value:"Closed",children:"Closed"})]})]})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{defaultValue:H.project_id,onChange:function(e,t){t&&G(Object(l.a)(Object(l.a)({},H),{},{project_id:t._id}))},disabled:!w,options:s,getOptionLabel:function(e){return e.name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Project",variant:"outlined"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{defaultValue:H.assignee,onChange:function(e,t){t&&G(Object(l.a)(Object(l.a)({},H),{},{assignee:t._id}))},disabled:!w,options:u,getOptionLabel:function(e){return e.full_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Assignee",variant:"outlined"}))}})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,children:Object(v.jsx)(Wt.a,{defaultValue:H.follower,onChange:function(e,t){if(t){var n=t.map((function(e,t){return e._id}));G(Object(l.a)(Object(l.a)({},H),{},{follower:n}))}},disabled:!w,options:u,getOptionLabel:function(e){return e.full_name},style:{width:"100%"},renderInput:function(e){return Object(v.jsx)(S.a,Object(l.a)(Object(l.a)({},e),{},{label:"Reporter",variant:"outlined"}))}})}),Object(v.jsxs)(N.a,{item:!0,xs:12,sm:12,md:12,children:[Object(v.jsx)("input",{onChange:Y("attachments"),accept:".pdf,.doc",style:{display:"none"},id:"raised-button-file",type:"file"}),Object(v.jsx)("label",{htmlFor:"raised-button-file",children:Object(v.jsx)(_.a,{className:a.uploadButton,variant:"contained",disabled:p,component:"span",style:{backgroundColor:"dodgerblue",textTransform:"none",color:"white"},size:"small",children:p?"File Uploading ...":"Add Attachments"})}),Object(v.jsx)("table",{children:H.attachments&&H.attachments.map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("li",{})}),Object(v.jsx)("td",{children:Object(v.jsx)("a",{href:e.url,target:"_blank",style:{color:"dodgerblue",textDecoration:"underline"},children:e.filename})}),Object(v.jsx)("td",{children:Object(v.jsx)(Qa.a,{style:{cursor:"pointer"},onClick:function(){return function(e){var t=H.attachments.filter((function(t,n){return n!==e}));G(Object(l.a)(Object(l.a)({},H),{},{attachments:t}))}(t)}})})]})})}))})]})]})})]})})]}),Object(v.jsx)(Lt.a,{children:Object(v.jsxs)(N.a,{container:!0,justify:"center",children:[Object(v.jsx)(se.a,{p:1,children:Object(v.jsx)(Za,{id:t._id})}),Object(v.jsx)(se.a,{p:1,children:Object(v.jsx)(_.a,{size:"large",disabled:p,variant:"contained",className:a.button,type:"submit",children:"Submit"})})]})})]})})})]})},Yr=Object(_e.a)(Gt.a).withConfig({displayName:"myTasks__Paper",componentId:"u21g7y-0"})(an.b);function Jr(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function $r(e,t){return"desc"===e?function(e,n){return Jr(e,n,t)}:function(e,n){return-Jr(e,n,t)}}function Xr(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Kr=[{id:"task_id",alignment:"left",label:"Task ID"},{id:"task_name",alignment:"left",label:"Task name"},{id:"assignee",alignment:"left",label:"Assignee"},{id:"reporter",alignment:"left",label:"Reporter"},{id:"attachments",alignment:"left",label:"Attachments"},{id:"status",alignment:"left",label:"Status"},{id:"project",alignment:"left",label:"Project"},{id:"actions",alignment:"center",label:"Action"}];function Qr(e){var t=e.order,n=e.orderBy,a=e.onRequestSort;return Object(v.jsx)(Yt.a,{children:Object(v.jsx)(Jt.a,{children:Kr.map((function(e){return Object(v.jsx)($t.a,{align:e.alignment,padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,children:Object(v.jsx)(Xt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:e.label})},e.id);var c}))})})}function Zr(e){var t=e.tasks,n=e.reload,a=c.a.useState("asc"),i=Object(k.a)(a,2),r=i[0],s=i[1],o=c.a.useState("customer"),l=Object(k.a)(o,2),j=l[0],d=l[1],b=c.a.useState([]),u=Object(k.a)(b,2),O=u[0],m=u[1],h=c.a.useState(0),x=Object(k.a)(h,2),p=x[0],f=x[1],g=c.a.useState(10),y=Object(k.a)(g,2),w=y[0],C=y[1],S=w-Math.min(w,t.length-p*w);return Object(v.jsx)("div",{children:Object(v.jsxs)(Yr,{children:[Object(v.jsx)(Kt.a,{children:Object(v.jsxs)(Qt.a,{"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(v.jsx)(Qr,{numSelected:O.length,order:r,orderBy:j,onSelectAllClick:function(e){if(e.target.checked){var n=t.map((function(e){return e.id}));m(n)}else m([])},onRequestSort:function(e,t){s(j===t&&"asc"===r?"desc":"asc"),d(t)},rowCount:t.length}),0===t.length?Object(v.jsx)(se.a,{p:2,children:Object(v.jsx)(A.a,{variant:"h5",children:"No task found"})}):Object(v.jsxs)(Zt.a,{children:[Xr(t,$r(r,j)).slice(p*w,p*w+w).map((function(e,t){var a,c=(a=e._id,-1!==O.indexOf(a)),i=e.attachments;return Object(v.jsxs)(Jt.a,{hover:!0,role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[Object(v.jsx)($t.a,{align:"left",children:e.task_id}),Object(v.jsx)($t.a,{align:"left",children:e.title}),Object(v.jsx)($t.a,{align:"left",children:Object(v.jsx)(en.a,{size:"small",label:e.assignee&&e.assignee.full_name,color:"primary"})}),Object(v.jsx)($t.a,{align:"left",children:Object(v.jsx)(en.a,{size:"small",label:e.follower&&e.follower.full_name,color:"primary"})}),Object(v.jsx)($t.a,{align:"left",children:Object(v.jsx)("table",{children:i.map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)("li",{})}),Object(v.jsx)("td",{children:Object(v.jsx)("a",{href:e.url,target:"_blank",style:{color:"dodgerblue",textDecoration:"underline"},children:e.filename})})]})})}))})}),Object(v.jsxs)($t.a,{children:["Open"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"rgb(245, 124, 0)",color:"rgb(255, 255, 255)"}}),"Blog Review"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"#f5c303",color:"rgb(255, 255, 255)"}}),"Closed"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"rgb(244, 67, 54)",color:"rgb(255, 255, 255)"}}),"Done"===e.status&&Object(v.jsx)(en.a,{size:"small",label:e.status,style:{background:"rgb(76, 175, 80)",color:"rgb(255, 255, 255)"}})]}),Object(v.jsx)($t.a,{align:"left",children:e.project_id.name}),Object(v.jsx)($t.a,{padding:"none",align:"right",children:Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(ic,{editTask:e,reload:function(e){return n(e)}})}),Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(Gr,{editTask:e,reload:function(e){return n(e)}})})]})})]},"".concat(e.title,"-").concat(t))})),S>0&&Object(v.jsx)(Jt.a,{style:{height:20*S},children:Object(v.jsx)($t.a,{colSpan:8})})]})]})}),Object(v.jsx)(tn.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:w,page:p,onChangePage:function(e,t){f(t)},onChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),f(0)}})]})})}var es=function(){var e=x("token"),t=c.a.useState([]),n=Object(k.a)(t,2),a=n[0],i=n[1],r=c.a.useState(!1),s=Object(k.a)(r,2),o=s[0],l=s[1];return c.a.useEffect((function(){xa(e).then((function(e){i(e)})).catch((function(e){console.log(e)}))}),[o]),Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(N.a,{container:!0,spacing:6,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,md:12,sm:12,lg:12,children:Object(v.jsx)(Zr,{tasks:a,reload:function(e){return l(!o)}})})})})},ts=function(){return Object(v.jsxs)(_t,{page:"my_tasks",permission:"read",children:[Object(v.jsxs)(N.a,{container:!0,justify:"space-between",children:[Object(v.jsx)(N.a,{item:!0,md:9,sm:9,xs:12,children:Object(v.jsx)(se.a,{pl:3,children:Object(v.jsx)(A.a,{variant:"h5",children:"My Tasks"})})}),Object(v.jsx)(N.a,{item:!0,md:3,sm:3,xs:12})]}),Object(v.jsx)("br",{}),Object(v.jsx)(es,{})]})},ns=function(e){var t=e.viewAs,n=x("token"),c=Object(a.useState)([]),i=Object(k.a)(c,2),r=i[0],s=i[1];Object(a.useEffect)((function(){(function(e,t){return new Promise((function(n,a){var c=t?"/get/all/notifications/notification/read":"/notifications/all";b.get(c,{headers:{"Access-Control-Allow-Origin":"*","Content-type":"Application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){200===e.status&&n(e.data),a(e.data)})).catch((function(e){a(e)}))}))})(n,t).then((function(e){s(e)})).catch((function(e){I.b.error(e.error)}))}),[t]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I.a,{}),Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,xs:12,sm:10,md:10,lg:10,children:r.length>0?r.map((function(e,t){var n=JSON.parse(e.description);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(ce.a,{children:Object(v.jsx)(Nt.a,{children:Object(v.jsxs)(se.a,{p:1,position:"relative",children:[Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(v.jsx)(A.a,{variant:"h6",style:{fontWeight:600},children:e.title})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(v.jsx)(S.a,{fullWidth:!0,disabled:!0,multiline:!0,size:"small",value:n.description})})]}),Object(v.jsx)(se.a,{position:"absolute",bottom:0,right:10,children:Object(v.jsx)(A.a,{variant:"body2",children:Object(v.jsx)("b",{children:Pc()(e.createdAt).format(" h:mm a, Do MMMM YYYY")})})})]})})})})})):Object(v.jsx)(v.Fragment,{})})})]})},as=n(831),cs=function(){var e=c.a.useState(!1),t=Object(k.a)(e,2),n=t[0],a=t[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(_t,{page:"notification",permission:"read",children:[Object(v.jsxs)(N.a,{container:!0,children:[Object(v.jsx)(N.a,{item:!0,xs:12,sm:9,md:9,lg:9,children:Object(v.jsx)(se.a,{pt:2,children:Object(v.jsx)(A.a,{variant:"h4",children:"Notifications"})})}),Object(v.jsx)(N.a,{item:!0,xs:12,sm:3,md:3,lg:3,children:Object(v.jsx)(N.a,{container:!0,justify:"center",children:Object(v.jsx)(N.a,{item:!0,children:Object(v.jsx)(se.a,{pt:2,pb:2,children:Object(v.jsx)(as.a,{value:n,selected:n,size:"small",onChange:function(){a(!n)},children:n?"Show My Notifications":"Show All Notifications"})})})})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(ns,{viewAs:n})]})})},is=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(w,{path:"/",exact:!0,component:M}),Object(v.jsx)(y,{path:"/dashboard",exact:!0,component:zt}),Object(v.jsx)(y,{path:"/all-employees",exact:!0,component:pn}),Object(v.jsx)(y,{path:"/employee-detail/:id",exact:!0,component:Fn}),Object(v.jsx)(y,{path:"/content/create",exact:!0,component:fi}),Object(v.jsx)(y,{path:"/content/blog/detail/:id",exact:!0,component:Zi}),Object(v.jsx)(y,{path:"/content/myblog/detail/:id",exact:!0,component:nr}),Object(v.jsx)(y,{path:"/content/blog/edit/:id",exact:!0,component:Wr}),Object(v.jsx)(y,{path:"/content/myblog/edit/:id",exact:!0,component:qr}),Object(v.jsx)(y,{path:"/content/blogs",exact:!0,component:Mi}),Object(v.jsx)(y,{path:"/department",exact:!0,component:Mn}),Object(v.jsx)(y,{path:"/designation",exact:!0,component:Jn}),Object(v.jsx)(y,{path:"/contact",exact:!0,component:ea}),Object(v.jsx)(y,{path:"/activities",exact:!0,component:ba}),Object(v.jsx)(y,{path:"/projects",exact:!0,component:Ma}),Object(v.jsx)(y,{path:"/tasks",exact:!0,component:Oc}),Object(v.jsx)(y,{path:"/categories",exact:!0,component:mr}),Object(v.jsx)(y,{path:"/domains",exact:!0,component:Nr}),Object(v.jsx)(y,{path:"/chats",exact:!0,component:Ic}),Object(v.jsx)(y,{path:"/channels",exact:!0,component:gc}),Object(v.jsx)(y,{path:"/chats/private/:id",exact:!0,component:Vc}),Object(v.jsx)(y,{path:"/profile",exact:!0,component:Ii}),Object(v.jsx)(y,{path:"/my-blogs",exact:!0,component:Dr}),Object(v.jsx)(y,{path:"/my-tasks",exact:!0,component:ts}),Object(v.jsx)(y,{path:"/notifications",exact:!0,component:cs}),Object(v.jsx)(y,{path:"/chats/:channel",exact:!0,component:oi}),Object(v.jsx)(w,{path:"/reset",exact:!0,component:aa}),Object(v.jsx)(w,{path:"/auth/password/reset/:resetLink",exact:!0,component:ra}),Object(v.jsx)(w,{path:"/auth/onboard/:token",exact:!0,component:da})]})};var rs=function(){return Object(v.jsx)(s.a,{children:Object(v.jsx)(o.d,{children:Object(v.jsx)(is,{})})})};n(729),n(730),n(731),n(732);r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(rs,{})}),document.getElementById("root"))}},[[733,1,2]]]);
//# sourceMappingURL=main.49437d9b.chunk.js.map